2021-03-23 00:04:00.253  INFO 21838 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 21838 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 00:04:00.266 DEBUG 21838 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 00:04:00.267  INFO 21838 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 00:04:01.642  INFO 21838 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 00:04:01.693  INFO 21838 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 2 JPA repository interfaces.
2021-03-23 00:04:02.077  INFO 21838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:04:02.081  INFO 21838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:04:02.084  INFO 21838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:04:02.088  INFO 21838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:04:02.095  INFO 21838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:04:02.096  INFO 21838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:04:02.100  INFO 21838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:04:02.114  INFO 21838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:04:02.116  INFO 21838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:04:02.118  INFO 21838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:04:02.133  INFO 21838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:04:02.134  INFO 21838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:04:02.137  INFO 21838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:04:02.138  INFO 21838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:04:02.139  INFO 21838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:04:02.148  INFO 21838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:04:02.150  INFO 21838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:04:02.157  INFO 21838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:04:02.158  INFO 21838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:04:02.159  INFO 21838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:04:02.164  INFO 21838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:04:02.171  INFO 21838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:04:02.173  INFO 21838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:04:02.174  INFO 21838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:04:02.179  INFO 21838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:04:02.193  INFO 21838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:04:02.199  INFO 21838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:04:02.200  INFO 21838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:04:02.485  INFO 21838 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 00:04:02.493  INFO 21838 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 00:04:02.493  INFO 21838 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 00:04:02.564  INFO 21838 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 00:04:02.565  INFO 21838 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2131 ms
2021-03-23 00:04:03.003  INFO 21838 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 00:04:03.045  INFO 21838 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 00:04:03.089  INFO 21838 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 00:04:03.202  INFO 21838 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 00:04:03.298  INFO 21838 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 00:04:03.310  INFO 21838 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 00:04:03.310  INFO 21838 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 00:04:03.310  INFO 21838 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 00:04:03.310  INFO 21838 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 00:04:03.311  INFO 21838 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 00:04:03.380 DEBUG 21838 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 00:04:03.382 DEBUG 21838 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 00:04:03.382 DEBUG 21838 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 00:04:03.382 DEBUG 21838 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 00:04:03.384 DEBUG 21838 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('USER')] for Ant [pattern='/users/**']
2021-03-23 00:04:03.384 DEBUG 21838 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 00:04:03.407  INFO 21838 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3382cf68, org.springframework.security.web.context.SecurityContextPersistenceFilter@3e906375, org.springframework.security.web.header.HeaderWriterFilter@56f730b2, org.springframework.security.web.authentication.logout.LogoutFilter@4833eff3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@346f41a9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5b7aa898, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2fd954f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f74900b, org.springframework.security.web.session.SessionManagementFilter@7930ffa9, org.springframework.security.web.access.ExceptionTranslationFilter@5583098b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6d2a2560]
2021-03-23 00:04:03.684  INFO 21838 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 00:04:03.695  INFO 21838 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 00:04:04.311  WARN 21838 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:04:04.312  WARN 21838 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : relation "user_role" does not exist, skipping
2021-03-23 00:04:04.313  WARN 21838 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:04:04.313  WARN 21838 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : relation "user_role" does not exist, skipping
2021-03-23 00:04:04.314  WARN 21838 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:04:04.314  WARN 21838 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "roles" does not exist, skipping
2021-03-23 00:04:04.314  WARN 21838 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:04:04.314  WARN 21838 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "user_role" does not exist, skipping
2021-03-23 00:04:04.315  WARN 21838 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:04:04.316  WARN 21838 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "users" does not exist, skipping
2021-03-23 00:04:04.364  INFO 21838 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 00:04:04.374  INFO 21838 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 00:04:05.200  INFO 21838 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 00:04:05.841  INFO 21838 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 00:04:05.916  INFO 21838 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 00:04:05.927  INFO 21838 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2021-03-23 00:04:06.001  INFO 21838 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2021-03-23 00:04:06.020 ERROR 21838 --- [main] o.s.boot.SpringApplication               : Application run failed

java.lang.RuntimeException: java.util.concurrent.ExecutionException: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #2 of URL [file:/home/evgeniy/IdeaProjects/security-service/target/classes/data.sql]: INSERT INTO users (name, last_name, email, password, active, role_id) VALUES ('admin', 'admin', 'admin@gmail.com', 'admin_admin', 'true', 1); nested exception is org.postgresql.util.PSQLException: ERROR: column "role_id" of relation "users" does not exist
  Позиция: 62
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceInitializationCompletionListener.onApplicationEvent(DataSourceInitializedPublisher.java:151) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceInitializationCompletionListener.onApplicationEvent(DataSourceInitializedPublisher.java:138) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:203) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:196) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:161) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:426) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:383) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:945) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1309) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1298) [spring-boot-2.4.0.jar:2.4.0]
	at com.ru.microservice.SecurityApplication.main(SecurityApplication.java:10) [classes/:na]
Caused by: java.util.concurrent.ExecutionException: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #2 of URL [file:/home/evgeniy/IdeaProjects/security-service/target/classes/data.sql]: INSERT INTO users (name, last_name, email, password, active, role_id) VALUES ('admin', 'admin', 'admin@gmail.com', 'admin_admin', 'true', 1); nested exception is org.postgresql.util.PSQLException: ERROR: column "role_id" of relation "users" does not exist
  Позиция: 62
	at java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:1.8.0_202]
	at java.util.concurrent.FutureTask.get(FutureTask.java:192) ~[na:1.8.0_202]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceInitializationCompletionListener.onApplicationEvent(DataSourceInitializedPublisher.java:148) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	... 16 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #2 of URL [file:/home/evgeniy/IdeaProjects/security-service/target/classes/data.sql]: INSERT INTO users (name, last_name, email, password, active, role_id) VALUES ('admin', 'admin', 'admin@gmail.com', 'admin_admin', 'true', 1); nested exception is org.postgresql.util.PSQLException: ERROR: column "role_id" of relation "users" does not exist
  Позиция: 62
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:622) ~[spring-jdbc-5.3.1.jar:5.3.1]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254) ~[spring-jdbc-5.3.1.jar:5.3.1]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:49) ~[spring-jdbc-5.3.1.jar:5.3.1]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:202) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.initSchema(DataSourceInitializer.java:119) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.onApplicationEvent(DataSourceInitializerInvoker.java:91) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.onApplicationEvent(DataSourceInitializerInvoker.java:38) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:203) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:196) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:161) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:426) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:383) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.publishEventIfRequired(DataSourceInitializedPublisher.java:110) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.access$300(DataSourceInitializedPublisher.java:55) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceSchemaCreatedPublisher.lambda$postProcessEntityManagerFactory$0(DataSourceInitializedPublisher.java:253) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[na:1.8.0_202]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_202]
	at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_202]
Caused by: org.postgresql.util.PSQLException: ERROR: column "role_id" of relation "users" does not exist
  Позиция: 62
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:473) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:393) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:322) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:308) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:284) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:279) ~[postgresql-42.2.18.jar:42.2.18]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-3.4.5.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-3.4.5.jar:na]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:601) ~[spring-jdbc-5.3.1.jar:5.3.1]
	... 19 common frames omitted

2021-03-23 00:04:06.029  INFO 21838 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 00:04:06.030  INFO 21838 --- [main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-03-23 00:04:06.052  INFO 21838 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 00:04:06.053  INFO 21838 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 00:04:06.079  INFO 21838 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 00:06:02.512  INFO 22389 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 22389 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 00:06:02.533 DEBUG 22389 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 00:06:02.534  INFO 22389 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 00:06:04.026  INFO 22389 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 00:06:04.080  INFO 22389 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 2 JPA repository interfaces.
2021-03-23 00:06:04.516  INFO 22389 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:04.520  INFO 22389 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:04.524  INFO 22389 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:04.529  INFO 22389 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:04.536  INFO 22389 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:04.537  INFO 22389 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:04.542  INFO 22389 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:04.556  INFO 22389 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:04.558  INFO 22389 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:04.560  INFO 22389 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:04.574  INFO 22389 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:04.576  INFO 22389 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:04.579  INFO 22389 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:04.580  INFO 22389 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:04.581  INFO 22389 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:04.590  INFO 22389 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:04.593  INFO 22389 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:04.600  INFO 22389 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:04.600  INFO 22389 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:04.602  INFO 22389 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:04.606  INFO 22389 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:04.613  INFO 22389 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:04.614  INFO 22389 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:04.615  INFO 22389 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:04.621  INFO 22389 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:04.634  INFO 22389 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:04.640  INFO 22389 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:04.642  INFO 22389 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:05.364  INFO 22389 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 00:06:05.392  INFO 22389 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 00:06:05.393  INFO 22389 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 00:06:05.680  INFO 22389 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 00:06:05.681  INFO 22389 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3049 ms
2021-03-23 00:06:06.242  INFO 22389 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 00:06:06.289  INFO 22389 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 00:06:06.339  INFO 22389 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 00:06:06.474  INFO 22389 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 00:06:06.577  INFO 22389 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 00:06:06.601  INFO 22389 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 00:06:06.601  INFO 22389 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 00:06:06.602  INFO 22389 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 00:06:06.602  INFO 22389 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 00:06:06.602  INFO 22389 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 00:06:06.696 DEBUG 22389 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 00:06:06.698 DEBUG 22389 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 00:06:06.699 DEBUG 22389 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 00:06:06.699 DEBUG 22389 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 00:06:06.700 DEBUG 22389 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('USER')] for Ant [pattern='/users/**']
2021-03-23 00:06:06.701 DEBUG 22389 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 00:06:06.736  INFO 22389 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@24eeac69, org.springframework.security.web.context.SecurityContextPersistenceFilter@5e5aafc6, org.springframework.security.web.header.HeaderWriterFilter@17aa8a11, org.springframework.security.web.authentication.logout.LogoutFilter@5731d3a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6a916402, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5583098b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@717d7587, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@18539cb1, org.springframework.security.web.session.SessionManagementFilter@18a25bbd, org.springframework.security.web.access.ExceptionTranslationFilter@57c00115, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3f362135]
2021-03-23 00:06:06.977  INFO 22389 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 00:06:06.997  INFO 22389 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 00:06:07.738  WARN 22389 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:06:07.739  WARN 22389 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : relation "user_role" does not exist, skipping
2021-03-23 00:06:07.740  WARN 22389 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:06:07.741  WARN 22389 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : relation "user_role" does not exist, skipping
2021-03-23 00:06:07.742  WARN 22389 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:06:07.742  WARN 22389 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "roles" does not exist, skipping
2021-03-23 00:06:07.743  WARN 22389 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:06:07.744  WARN 22389 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "user_role" does not exist, skipping
2021-03-23 00:06:07.744  WARN 22389 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:06:07.745  WARN 22389 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "users" does not exist, skipping
2021-03-23 00:06:07.796  INFO 22389 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 00:06:07.809  INFO 22389 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 00:06:08.727  INFO 22389 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 00:06:09.379  INFO 22389 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 00:06:09.455  INFO 22389 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 00:06:09.468  INFO 22389 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2021-03-23 00:06:09.545  INFO 22389 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2021-03-23 00:06:09.567 ERROR 22389 --- [main] o.s.boot.SpringApplication               : Application run failed

java.lang.RuntimeException: java.util.concurrent.ExecutionException: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #2 of URL [file:/home/evgeniy/IdeaProjects/security-service/target/classes/data.sql]: INSERT INTO users (name, last_name, email, password, roles) VALUES ('admin', 'admin', 'admin@gmail.com', 'admin_admin', 1); nested exception is org.postgresql.util.PSQLException: ERROR: column "roles" of relation "users" does not exist
  Позиция: 54
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceInitializationCompletionListener.onApplicationEvent(DataSourceInitializedPublisher.java:151) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceInitializationCompletionListener.onApplicationEvent(DataSourceInitializedPublisher.java:138) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:203) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:196) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:161) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:426) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:383) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:945) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1309) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1298) [spring-boot-2.4.0.jar:2.4.0]
	at com.ru.microservice.SecurityApplication.main(SecurityApplication.java:10) [classes/:na]
Caused by: java.util.concurrent.ExecutionException: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #2 of URL [file:/home/evgeniy/IdeaProjects/security-service/target/classes/data.sql]: INSERT INTO users (name, last_name, email, password, roles) VALUES ('admin', 'admin', 'admin@gmail.com', 'admin_admin', 1); nested exception is org.postgresql.util.PSQLException: ERROR: column "roles" of relation "users" does not exist
  Позиция: 54
	at java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:1.8.0_202]
	at java.util.concurrent.FutureTask.get(FutureTask.java:192) ~[na:1.8.0_202]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceInitializationCompletionListener.onApplicationEvent(DataSourceInitializedPublisher.java:148) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	... 16 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #2 of URL [file:/home/evgeniy/IdeaProjects/security-service/target/classes/data.sql]: INSERT INTO users (name, last_name, email, password, roles) VALUES ('admin', 'admin', 'admin@gmail.com', 'admin_admin', 1); nested exception is org.postgresql.util.PSQLException: ERROR: column "roles" of relation "users" does not exist
  Позиция: 54
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:622) ~[spring-jdbc-5.3.1.jar:5.3.1]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254) ~[spring-jdbc-5.3.1.jar:5.3.1]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:49) ~[spring-jdbc-5.3.1.jar:5.3.1]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:202) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.initSchema(DataSourceInitializer.java:119) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.onApplicationEvent(DataSourceInitializerInvoker.java:91) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.onApplicationEvent(DataSourceInitializerInvoker.java:38) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:203) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:196) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:161) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:426) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:383) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.publishEventIfRequired(DataSourceInitializedPublisher.java:110) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.access$300(DataSourceInitializedPublisher.java:55) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceSchemaCreatedPublisher.lambda$postProcessEntityManagerFactory$0(DataSourceInitializedPublisher.java:253) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[na:1.8.0_202]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_202]
	at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_202]
Caused by: org.postgresql.util.PSQLException: ERROR: column "roles" of relation "users" does not exist
  Позиция: 54
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:473) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:393) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:322) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:308) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:284) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:279) ~[postgresql-42.2.18.jar:42.2.18]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-3.4.5.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-3.4.5.jar:na]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:601) ~[spring-jdbc-5.3.1.jar:5.3.1]
	... 19 common frames omitted

2021-03-23 00:06:09.577  INFO 22389 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 00:06:09.577  INFO 22389 --- [main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-03-23 00:06:09.596  INFO 22389 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 00:06:09.597  INFO 22389 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 00:06:09.623  INFO 22389 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 00:06:52.164  INFO 22517 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 22517 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 00:06:52.176 DEBUG 22517 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 00:06:52.177  INFO 22517 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 00:06:53.585  INFO 22517 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 00:06:53.638  INFO 22517 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 2 JPA repository interfaces.
2021-03-23 00:06:54.019  INFO 22517 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:54.022  INFO 22517 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:54.026  INFO 22517 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:54.031  INFO 22517 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:54.039  INFO 22517 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:54.041  INFO 22517 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:54.047  INFO 22517 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:54.064  INFO 22517 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:54.067  INFO 22517 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:54.069  INFO 22517 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:54.087  INFO 22517 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:54.088  INFO 22517 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:54.091  INFO 22517 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:54.092  INFO 22517 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:54.093  INFO 22517 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:54.101  INFO 22517 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:54.104  INFO 22517 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:54.110  INFO 22517 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:54.110  INFO 22517 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:54.111  INFO 22517 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:54.116  INFO 22517 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:54.123  INFO 22517 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:54.124  INFO 22517 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:54.125  INFO 22517 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:54.130  INFO 22517 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:54.144  INFO 22517 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:54.150  INFO 22517 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:54.151  INFO 22517 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:06:54.451  INFO 22517 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 00:06:54.459  INFO 22517 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 00:06:54.460  INFO 22517 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 00:06:54.533  INFO 22517 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 00:06:54.534  INFO 22517 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2210 ms
2021-03-23 00:06:54.999  INFO 22517 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 00:06:55.041  INFO 22517 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 00:06:55.084  INFO 22517 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 00:06:55.195  INFO 22517 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 00:06:55.299  INFO 22517 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 00:06:55.323  INFO 22517 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 00:06:55.323  INFO 22517 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 00:06:55.324  INFO 22517 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 00:06:55.324  INFO 22517 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 00:06:55.324  INFO 22517 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 00:06:55.400 DEBUG 22517 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 00:06:55.402 DEBUG 22517 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 00:06:55.402 DEBUG 22517 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 00:06:55.402 DEBUG 22517 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 00:06:55.403 DEBUG 22517 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('USER')] for Ant [pattern='/users/**']
2021-03-23 00:06:55.404 DEBUG 22517 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 00:06:55.433  INFO 22517 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d08edc5, org.springframework.security.web.context.SecurityContextPersistenceFilter@591a4f8e, org.springframework.security.web.header.HeaderWriterFilter@76a805b7, org.springframework.security.web.authentication.logout.LogoutFilter@56f730b2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1220ef43, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ba060f3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4e83a98, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@49fa1d74, org.springframework.security.web.session.SessionManagementFilter@167381c7, org.springframework.security.web.access.ExceptionTranslationFilter@57545c3f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@101a461c]
2021-03-23 00:06:55.691  INFO 22517 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 00:06:55.703  INFO 22517 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 00:06:56.320  WARN 22517 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:06:56.320  WARN 22517 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : relation "user_role" does not exist, skipping
2021-03-23 00:06:56.321  WARN 22517 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:06:56.321  WARN 22517 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : relation "user_role" does not exist, skipping
2021-03-23 00:06:56.322  WARN 22517 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:06:56.322  WARN 22517 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "roles" does not exist, skipping
2021-03-23 00:06:56.323  WARN 22517 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:06:56.323  WARN 22517 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "user_role" does not exist, skipping
2021-03-23 00:06:56.324  WARN 22517 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:06:56.325  WARN 22517 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "users" does not exist, skipping
2021-03-23 00:06:56.379  INFO 22517 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 00:06:56.389  INFO 22517 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 00:06:57.198  INFO 22517 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 00:06:57.827  INFO 22517 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 00:06:57.905  INFO 22517 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 00:06:57.916  INFO 22517 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2021-03-23 00:06:57.989  INFO 22517 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2021-03-23 00:06:58.006 ERROR 22517 --- [main] o.s.boot.SpringApplication               : Application run failed

java.lang.RuntimeException: java.util.concurrent.ExecutionException: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #2 of URL [file:/home/evgeniy/IdeaProjects/security-service/target/classes/data.sql]: INSERT INTO users (name, last_name, email, password, roles) VALUES ('admin', 'admin', 'admin@gmail.com', 'admin_admin', 'ADMIN'); nested exception is org.postgresql.util.PSQLException: ERROR: column "roles" of relation "users" does not exist
  Позиция: 54
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceInitializationCompletionListener.onApplicationEvent(DataSourceInitializedPublisher.java:151) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceInitializationCompletionListener.onApplicationEvent(DataSourceInitializedPublisher.java:138) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:203) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:196) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:161) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:426) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:383) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:945) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1309) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1298) [spring-boot-2.4.0.jar:2.4.0]
	at com.ru.microservice.SecurityApplication.main(SecurityApplication.java:10) [classes/:na]
Caused by: java.util.concurrent.ExecutionException: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #2 of URL [file:/home/evgeniy/IdeaProjects/security-service/target/classes/data.sql]: INSERT INTO users (name, last_name, email, password, roles) VALUES ('admin', 'admin', 'admin@gmail.com', 'admin_admin', 'ADMIN'); nested exception is org.postgresql.util.PSQLException: ERROR: column "roles" of relation "users" does not exist
  Позиция: 54
	at java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:1.8.0_202]
	at java.util.concurrent.FutureTask.get(FutureTask.java:192) ~[na:1.8.0_202]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceInitializationCompletionListener.onApplicationEvent(DataSourceInitializedPublisher.java:148) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	... 16 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #2 of URL [file:/home/evgeniy/IdeaProjects/security-service/target/classes/data.sql]: INSERT INTO users (name, last_name, email, password, roles) VALUES ('admin', 'admin', 'admin@gmail.com', 'admin_admin', 'ADMIN'); nested exception is org.postgresql.util.PSQLException: ERROR: column "roles" of relation "users" does not exist
  Позиция: 54
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:622) ~[spring-jdbc-5.3.1.jar:5.3.1]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254) ~[spring-jdbc-5.3.1.jar:5.3.1]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:49) ~[spring-jdbc-5.3.1.jar:5.3.1]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:202) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.initSchema(DataSourceInitializer.java:119) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.onApplicationEvent(DataSourceInitializerInvoker.java:91) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.onApplicationEvent(DataSourceInitializerInvoker.java:38) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:203) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:196) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:161) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:426) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:383) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.publishEventIfRequired(DataSourceInitializedPublisher.java:110) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.access$300(DataSourceInitializedPublisher.java:55) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceSchemaCreatedPublisher.lambda$postProcessEntityManagerFactory$0(DataSourceInitializedPublisher.java:253) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[na:1.8.0_202]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_202]
	at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_202]
Caused by: org.postgresql.util.PSQLException: ERROR: column "roles" of relation "users" does not exist
  Позиция: 54
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:473) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:393) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:322) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:308) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:284) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:279) ~[postgresql-42.2.18.jar:42.2.18]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-3.4.5.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-3.4.5.jar:na]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:601) ~[spring-jdbc-5.3.1.jar:5.3.1]
	... 19 common frames omitted

2021-03-23 00:06:58.015  INFO 22517 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 00:06:58.015  INFO 22517 --- [main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-03-23 00:06:58.040  INFO 22517 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 00:06:58.043  INFO 22517 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 00:06:58.088  INFO 22517 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 00:13:16.752  INFO 22975 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 22975 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 00:13:16.756 DEBUG 22975 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 00:13:16.757  INFO 22975 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 00:13:18.205  INFO 22975 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 00:13:18.268  INFO 22975 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50 ms. Found 2 JPA repository interfaces.
2021-03-23 00:13:18.687  INFO 22975 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:18.692  INFO 22975 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:18.696  INFO 22975 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:18.702  INFO 22975 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:18.709  INFO 22975 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:18.710  INFO 22975 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:18.715  INFO 22975 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:18.730  INFO 22975 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:18.732  INFO 22975 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:18.734  INFO 22975 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:18.750  INFO 22975 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:18.751  INFO 22975 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:18.754  INFO 22975 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:18.756  INFO 22975 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:18.757  INFO 22975 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:18.768  INFO 22975 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:18.771  INFO 22975 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:18.779  INFO 22975 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:18.779  INFO 22975 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:18.780  INFO 22975 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:18.785  INFO 22975 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:18.792  INFO 22975 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:18.794  INFO 22975 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:18.795  INFO 22975 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:18.801  INFO 22975 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:18.815  INFO 22975 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:18.822  INFO 22975 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:18.824  INFO 22975 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:19.146  INFO 22975 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 00:13:19.154  INFO 22975 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 00:13:19.155  INFO 22975 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 00:13:19.234  INFO 22975 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 00:13:19.234  INFO 22975 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2385 ms
2021-03-23 00:13:19.596  INFO 22975 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 00:13:19.745  INFO 22975 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 00:13:19.787  INFO 22975 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 00:13:19.903  INFO 22975 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 00:13:19.997  INFO 22975 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 00:13:20.033  INFO 22975 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 00:13:20.033  INFO 22975 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 00:13:20.033  INFO 22975 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 00:13:20.033  INFO 22975 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 00:13:20.033  INFO 22975 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 00:13:20.118 DEBUG 22975 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 00:13:20.120 DEBUG 22975 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 00:13:20.121 DEBUG 22975 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 00:13:20.121 DEBUG 22975 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 00:13:20.122 DEBUG 22975 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('USER')] for Ant [pattern='/users/**']
2021-03-23 00:13:20.122 DEBUG 22975 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 00:13:20.157  INFO 22975 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@724aefc3, org.springframework.security.web.context.SecurityContextPersistenceFilter@48e8c32a, org.springframework.security.web.header.HeaderWriterFilter@591a4f8e, org.springframework.security.web.authentication.logout.LogoutFilter@3e906375, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@d08edc5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@57c00115, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1ee27d73, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7cfb4736, org.springframework.security.web.session.SessionManagementFilter@6ba060f3, org.springframework.security.web.access.ExceptionTranslationFilter@76a805b7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@31db34da]
2021-03-23 00:13:20.350  INFO 22975 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 00:13:20.364  INFO 22975 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 00:13:21.054  WARN 22975 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:13:21.054  WARN 22975 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : relation "user_role" does not exist, skipping
2021-03-23 00:13:21.055  WARN 22975 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:13:21.055  WARN 22975 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : relation "user_role" does not exist, skipping
2021-03-23 00:13:21.056  WARN 22975 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:13:21.056  WARN 22975 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "roles" does not exist, skipping
2021-03-23 00:13:21.057  WARN 22975 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:13:21.057  WARN 22975 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "user_role" does not exist, skipping
2021-03-23 00:13:21.058  WARN 22975 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:13:21.058  WARN 22975 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "users" does not exist, skipping
2021-03-23 00:13:21.108  INFO 22975 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 00:13:21.120  INFO 22975 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 00:13:21.773  INFO 22975 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 00:13:22.715  INFO 22975 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 00:13:22.806  INFO 22975 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 00:13:22.817  INFO 22975 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2021-03-23 00:13:22.890  INFO 22975 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2021-03-23 00:13:22.908 ERROR 22975 --- [main] o.s.boot.SpringApplication               : Application run failed

java.lang.RuntimeException: java.util.concurrent.ExecutionException: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/home/evgeniy/IdeaProjects/security-service/target/classes/data.sql]: INSERT INTO users (name, last_name, email, password) VALUES ('admin', 'admin', 'admin@gmail.com', 'admin_admin', 1) INSERT INTO roles(role_id, role) VALUES (1, 'ADMIN'), (2, 'USER'); nested exception is org.postgresql.util.PSQLException: ERROR: syntax error at or near "INSERT"
  Позиция: 117
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceInitializationCompletionListener.onApplicationEvent(DataSourceInitializedPublisher.java:151) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceInitializationCompletionListener.onApplicationEvent(DataSourceInitializedPublisher.java:138) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:203) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:196) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:161) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:426) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:383) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:945) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1309) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1298) [spring-boot-2.4.0.jar:2.4.0]
	at com.ru.microservice.SecurityApplication.main(SecurityApplication.java:10) [classes/:na]
Caused by: java.util.concurrent.ExecutionException: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/home/evgeniy/IdeaProjects/security-service/target/classes/data.sql]: INSERT INTO users (name, last_name, email, password) VALUES ('admin', 'admin', 'admin@gmail.com', 'admin_admin', 1) INSERT INTO roles(role_id, role) VALUES (1, 'ADMIN'), (2, 'USER'); nested exception is org.postgresql.util.PSQLException: ERROR: syntax error at or near "INSERT"
  Позиция: 117
	at java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:1.8.0_202]
	at java.util.concurrent.FutureTask.get(FutureTask.java:192) ~[na:1.8.0_202]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceInitializationCompletionListener.onApplicationEvent(DataSourceInitializedPublisher.java:148) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	... 16 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/home/evgeniy/IdeaProjects/security-service/target/classes/data.sql]: INSERT INTO users (name, last_name, email, password) VALUES ('admin', 'admin', 'admin@gmail.com', 'admin_admin', 1) INSERT INTO roles(role_id, role) VALUES (1, 'ADMIN'), (2, 'USER'); nested exception is org.postgresql.util.PSQLException: ERROR: syntax error at or near "INSERT"
  Позиция: 117
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:622) ~[spring-jdbc-5.3.1.jar:5.3.1]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254) ~[spring-jdbc-5.3.1.jar:5.3.1]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:49) ~[spring-jdbc-5.3.1.jar:5.3.1]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:202) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.initSchema(DataSourceInitializer.java:119) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.onApplicationEvent(DataSourceInitializerInvoker.java:91) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.onApplicationEvent(DataSourceInitializerInvoker.java:38) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:203) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:196) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:161) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:426) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:383) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.publishEventIfRequired(DataSourceInitializedPublisher.java:110) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.access$300(DataSourceInitializedPublisher.java:55) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceSchemaCreatedPublisher.lambda$postProcessEntityManagerFactory$0(DataSourceInitializedPublisher.java:253) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[na:1.8.0_202]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_202]
	at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_202]
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "INSERT"
  Позиция: 117
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:473) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:393) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:322) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:308) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:284) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:279) ~[postgresql-42.2.18.jar:42.2.18]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-3.4.5.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-3.4.5.jar:na]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:601) ~[spring-jdbc-5.3.1.jar:5.3.1]
	... 19 common frames omitted

2021-03-23 00:13:22.918  INFO 22975 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 00:13:22.918  INFO 22975 --- [main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-03-23 00:13:22.939  INFO 22975 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 00:13:22.941  INFO 22975 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 00:13:22.977  INFO 22975 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 00:13:28.194  INFO 23083 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 23083 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 00:13:28.198 DEBUG 23083 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 00:13:28.199  INFO 23083 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 00:13:29.557  INFO 23083 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 00:13:29.618  INFO 23083 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 2 JPA repository interfaces.
2021-03-23 00:13:29.973  INFO 23083 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:29.977  INFO 23083 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:29.981  INFO 23083 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:29.985  INFO 23083 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:29.994  INFO 23083 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:29.996  INFO 23083 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:30.000  INFO 23083 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:30.014  INFO 23083 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:30.016  INFO 23083 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:30.018  INFO 23083 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:30.032  INFO 23083 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:30.033  INFO 23083 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:30.036  INFO 23083 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:30.037  INFO 23083 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:30.038  INFO 23083 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:30.048  INFO 23083 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:30.052  INFO 23083 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:30.059  INFO 23083 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:30.060  INFO 23083 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:30.061  INFO 23083 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:30.066  INFO 23083 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:30.072  INFO 23083 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:30.073  INFO 23083 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:30.075  INFO 23083 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:30.080  INFO 23083 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:30.094  INFO 23083 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:30.100  INFO 23083 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:30.101  INFO 23083 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:13:30.377  INFO 23083 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 00:13:30.387  INFO 23083 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 00:13:30.387  INFO 23083 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 00:13:30.479  INFO 23083 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 00:13:30.480  INFO 23083 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2206 ms
2021-03-23 00:13:30.921  INFO 23083 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 00:13:30.963  INFO 23083 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 00:13:31.007  INFO 23083 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 00:13:31.119  INFO 23083 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 00:13:31.213  INFO 23083 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 00:13:31.238  INFO 23083 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 00:13:31.239  INFO 23083 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 00:13:31.239  INFO 23083 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 00:13:31.239  INFO 23083 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 00:13:31.239  INFO 23083 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 00:13:31.306 DEBUG 23083 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 00:13:31.308 DEBUG 23083 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 00:13:31.309 DEBUG 23083 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 00:13:31.309 DEBUG 23083 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 00:13:31.310 DEBUG 23083 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('USER')] for Ant [pattern='/users/**']
2021-03-23 00:13:31.310 DEBUG 23083 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 00:13:31.336  INFO 23083 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18539cb1, org.springframework.security.web.context.SecurityContextPersistenceFilter@542f6803, org.springframework.security.web.header.HeaderWriterFilter@71b639d0, org.springframework.security.web.authentication.logout.LogoutFilter@6a0f2853, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1a47a1e8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5807efad, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e906375, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@748f93bb, org.springframework.security.web.session.SessionManagementFilter@5d5b9ecb, org.springframework.security.web.access.ExceptionTranslationFilter@411a5965, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@21eee94f]
2021-03-23 00:13:31.581  INFO 23083 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 00:13:31.595  INFO 23083 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 00:13:32.261  WARN 23083 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:13:32.261  WARN 23083 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : relation "user_role" does not exist, skipping
2021-03-23 00:13:32.262  WARN 23083 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:13:32.262  WARN 23083 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : relation "user_role" does not exist, skipping
2021-03-23 00:13:32.263  WARN 23083 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:13:32.263  WARN 23083 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "roles" does not exist, skipping
2021-03-23 00:13:32.264  WARN 23083 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:13:32.264  WARN 23083 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "user_role" does not exist, skipping
2021-03-23 00:13:32.265  WARN 23083 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:13:32.266  WARN 23083 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "users" does not exist, skipping
2021-03-23 00:13:32.319  INFO 23083 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 00:13:32.331  INFO 23083 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 00:13:33.186  INFO 23083 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 00:13:33.817  INFO 23083 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 00:13:33.893  INFO 23083 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 00:13:33.906  INFO 23083 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2021-03-23 00:13:33.976  INFO 23083 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2021-03-23 00:13:33.994 ERROR 23083 --- [main] o.s.boot.SpringApplication               : Application run failed

java.lang.RuntimeException: java.util.concurrent.ExecutionException: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/home/evgeniy/IdeaProjects/security-service/target/classes/data.sql]: INSERT INTO users (name, last_name, email, password) VALUES ('admin', 'admin', 'admin@gmail.com', 'admin_admin') INSERT INTO roles(role_id, role) VALUES (1, 'ADMIN'), (2, 'USER'); nested exception is org.postgresql.util.PSQLException: ERROR: syntax error at or near "INSERT"
  Позиция: 114
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceInitializationCompletionListener.onApplicationEvent(DataSourceInitializedPublisher.java:151) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceInitializationCompletionListener.onApplicationEvent(DataSourceInitializedPublisher.java:138) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:203) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:196) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:161) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:426) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:383) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:945) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1309) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1298) [spring-boot-2.4.0.jar:2.4.0]
	at com.ru.microservice.SecurityApplication.main(SecurityApplication.java:10) [classes/:na]
Caused by: java.util.concurrent.ExecutionException: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/home/evgeniy/IdeaProjects/security-service/target/classes/data.sql]: INSERT INTO users (name, last_name, email, password) VALUES ('admin', 'admin', 'admin@gmail.com', 'admin_admin') INSERT INTO roles(role_id, role) VALUES (1, 'ADMIN'), (2, 'USER'); nested exception is org.postgresql.util.PSQLException: ERROR: syntax error at or near "INSERT"
  Позиция: 114
	at java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:1.8.0_202]
	at java.util.concurrent.FutureTask.get(FutureTask.java:192) ~[na:1.8.0_202]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceInitializationCompletionListener.onApplicationEvent(DataSourceInitializedPublisher.java:148) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	... 16 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/home/evgeniy/IdeaProjects/security-service/target/classes/data.sql]: INSERT INTO users (name, last_name, email, password) VALUES ('admin', 'admin', 'admin@gmail.com', 'admin_admin') INSERT INTO roles(role_id, role) VALUES (1, 'ADMIN'), (2, 'USER'); nested exception is org.postgresql.util.PSQLException: ERROR: syntax error at or near "INSERT"
  Позиция: 114
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:622) ~[spring-jdbc-5.3.1.jar:5.3.1]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254) ~[spring-jdbc-5.3.1.jar:5.3.1]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:49) ~[spring-jdbc-5.3.1.jar:5.3.1]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:202) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.initSchema(DataSourceInitializer.java:119) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.onApplicationEvent(DataSourceInitializerInvoker.java:91) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.onApplicationEvent(DataSourceInitializerInvoker.java:38) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:203) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:196) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:161) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:426) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:383) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.publishEventIfRequired(DataSourceInitializedPublisher.java:110) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.access$300(DataSourceInitializedPublisher.java:55) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceSchemaCreatedPublisher.lambda$postProcessEntityManagerFactory$0(DataSourceInitializedPublisher.java:253) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[na:1.8.0_202]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_202]
	at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_202]
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "INSERT"
  Позиция: 114
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:473) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:393) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:322) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:308) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:284) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:279) ~[postgresql-42.2.18.jar:42.2.18]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-3.4.5.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-3.4.5.jar:na]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:601) ~[spring-jdbc-5.3.1.jar:5.3.1]
	... 19 common frames omitted

2021-03-23 00:13:34.004  INFO 23083 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 00:13:34.004  INFO 23083 --- [main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-03-23 00:13:34.027  INFO 23083 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 00:13:34.028  INFO 23083 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 00:13:34.051  INFO 23083 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 00:15:04.607  INFO 23211 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 23211 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 00:15:04.612 DEBUG 23211 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 00:15:04.612  INFO 23211 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 00:15:05.995  INFO 23211 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 00:15:06.051  INFO 23211 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 2 JPA repository interfaces.
2021-03-23 00:15:06.447  INFO 23211 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:15:06.451  INFO 23211 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:15:06.455  INFO 23211 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:15:06.460  INFO 23211 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:15:06.466  INFO 23211 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:15:06.468  INFO 23211 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:15:06.472  INFO 23211 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:15:06.486  INFO 23211 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:15:06.488  INFO 23211 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:15:06.490  INFO 23211 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:15:06.507  INFO 23211 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:15:06.508  INFO 23211 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:15:06.511  INFO 23211 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:15:06.513  INFO 23211 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:15:06.515  INFO 23211 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:15:06.525  INFO 23211 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:15:06.528  INFO 23211 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:15:06.535  INFO 23211 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:15:06.536  INFO 23211 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:15:06.537  INFO 23211 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:15:06.544  INFO 23211 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:15:06.550  INFO 23211 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:15:06.552  INFO 23211 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:15:06.553  INFO 23211 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:15:06.559  INFO 23211 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:15:06.573  INFO 23211 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:15:06.581  INFO 23211 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:15:06.582  INFO 23211 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:15:06.872  INFO 23211 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 00:15:06.884  INFO 23211 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 00:15:06.884  INFO 23211 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 00:15:06.976  INFO 23211 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 00:15:06.977  INFO 23211 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2254 ms
2021-03-23 00:15:07.424  INFO 23211 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 00:15:07.469  INFO 23211 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 00:15:07.513  INFO 23211 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 00:15:07.623  INFO 23211 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 00:15:07.719  INFO 23211 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 00:15:07.747  INFO 23211 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 00:15:07.747  INFO 23211 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 00:15:07.747  INFO 23211 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 00:15:07.747  INFO 23211 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 00:15:07.748  INFO 23211 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 00:15:07.822 DEBUG 23211 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 00:15:07.825 DEBUG 23211 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 00:15:07.825 DEBUG 23211 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 00:15:07.825 DEBUG 23211 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 00:15:07.826 DEBUG 23211 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('USER')] for Ant [pattern='/users/**']
2021-03-23 00:15:07.826 DEBUG 23211 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 00:15:07.854  INFO 23211 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18539cb1, org.springframework.security.web.context.SecurityContextPersistenceFilter@542f6803, org.springframework.security.web.header.HeaderWriterFilter@71b639d0, org.springframework.security.web.authentication.logout.LogoutFilter@6a0f2853, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1a47a1e8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5807efad, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e906375, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@748f93bb, org.springframework.security.web.session.SessionManagementFilter@5d5b9ecb, org.springframework.security.web.access.ExceptionTranslationFilter@411a5965, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@21eee94f]
2021-03-23 00:15:08.054  INFO 23211 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 00:15:08.069  INFO 23211 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 00:15:08.767  WARN 23211 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:15:08.767  WARN 23211 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : relation "user_role" does not exist, skipping
2021-03-23 00:15:08.768  WARN 23211 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:15:08.769  WARN 23211 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : relation "user_role" does not exist, skipping
2021-03-23 00:15:08.770  WARN 23211 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:15:08.770  WARN 23211 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "roles" does not exist, skipping
2021-03-23 00:15:08.771  WARN 23211 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:15:08.771  WARN 23211 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "user_role" does not exist, skipping
2021-03-23 00:15:08.772  WARN 23211 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:15:08.772  WARN 23211 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "users" does not exist, skipping
2021-03-23 00:15:08.825  INFO 23211 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 00:15:08.837  INFO 23211 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 00:15:09.691  INFO 23211 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 00:15:10.329  INFO 23211 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 00:15:10.405  INFO 23211 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 00:15:10.418  INFO 23211 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2021-03-23 00:15:10.490  INFO 23211 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2021-03-23 00:15:10.509 ERROR 23211 --- [main] o.s.boot.SpringApplication               : Application run failed

java.lang.RuntimeException: java.util.concurrent.ExecutionException: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/home/evgeniy/IdeaProjects/security-service/target/classes/data.sql]: INSERT INTO users (name, last_name, email, password) VALUES ('admin', 'admin', 'admin@gmail.com', 'admin_admin'); nested exception is org.postgresql.util.PSQLException: ERROR: null value in column "registration_time" violates not-null constraint
  Подробности: Failing row contains (1, admin@gmail.com, null, admin, admin, admin_admin, null).
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceInitializationCompletionListener.onApplicationEvent(DataSourceInitializedPublisher.java:151) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceInitializationCompletionListener.onApplicationEvent(DataSourceInitializedPublisher.java:138) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:203) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:196) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:161) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:426) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:383) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:945) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1309) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1298) [spring-boot-2.4.0.jar:2.4.0]
	at com.ru.microservice.SecurityApplication.main(SecurityApplication.java:10) [classes/:na]
Caused by: java.util.concurrent.ExecutionException: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/home/evgeniy/IdeaProjects/security-service/target/classes/data.sql]: INSERT INTO users (name, last_name, email, password) VALUES ('admin', 'admin', 'admin@gmail.com', 'admin_admin'); nested exception is org.postgresql.util.PSQLException: ERROR: null value in column "registration_time" violates not-null constraint
  Подробности: Failing row contains (1, admin@gmail.com, null, admin, admin, admin_admin, null).
	at java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:1.8.0_202]
	at java.util.concurrent.FutureTask.get(FutureTask.java:192) ~[na:1.8.0_202]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceInitializationCompletionListener.onApplicationEvent(DataSourceInitializedPublisher.java:148) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	... 16 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/home/evgeniy/IdeaProjects/security-service/target/classes/data.sql]: INSERT INTO users (name, last_name, email, password) VALUES ('admin', 'admin', 'admin@gmail.com', 'admin_admin'); nested exception is org.postgresql.util.PSQLException: ERROR: null value in column "registration_time" violates not-null constraint
  Подробности: Failing row contains (1, admin@gmail.com, null, admin, admin, admin_admin, null).
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:622) ~[spring-jdbc-5.3.1.jar:5.3.1]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254) ~[spring-jdbc-5.3.1.jar:5.3.1]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:49) ~[spring-jdbc-5.3.1.jar:5.3.1]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:202) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.initSchema(DataSourceInitializer.java:119) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.onApplicationEvent(DataSourceInitializerInvoker.java:91) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.onApplicationEvent(DataSourceInitializerInvoker.java:38) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:203) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:196) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:161) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:426) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:383) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.publishEventIfRequired(DataSourceInitializedPublisher.java:110) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.access$300(DataSourceInitializedPublisher.java:55) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceSchemaCreatedPublisher.lambda$postProcessEntityManagerFactory$0(DataSourceInitializedPublisher.java:253) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[na:1.8.0_202]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_202]
	at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_202]
Caused by: org.postgresql.util.PSQLException: ERROR: null value in column "registration_time" violates not-null constraint
  Подробности: Failing row contains (1, admin@gmail.com, null, admin, admin, admin_admin, null).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:473) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:393) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:322) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:308) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:284) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:279) ~[postgresql-42.2.18.jar:42.2.18]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-3.4.5.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-3.4.5.jar:na]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:601) ~[spring-jdbc-5.3.1.jar:5.3.1]
	... 19 common frames omitted

2021-03-23 00:15:10.518  INFO 23211 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 00:15:10.518  INFO 23211 --- [main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-03-23 00:15:10.542  INFO 23211 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 00:15:10.543  INFO 23211 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 00:15:10.582  INFO 23211 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 00:17:04.884  INFO 23373 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 23373 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 00:17:04.888 DEBUG 23373 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 00:17:04.889  INFO 23373 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 00:17:06.485  INFO 23373 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 00:17:06.544  INFO 23373 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50 ms. Found 2 JPA repository interfaces.
2021-03-23 00:17:06.934  INFO 23373 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:06.938  INFO 23373 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:06.942  INFO 23373 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:06.947  INFO 23373 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:06.954  INFO 23373 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:06.955  INFO 23373 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:06.959  INFO 23373 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:06.973  INFO 23373 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:06.976  INFO 23373 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:06.978  INFO 23373 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:06.993  INFO 23373 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:06.994  INFO 23373 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:06.996  INFO 23373 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:06.998  INFO 23373 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:06.999  INFO 23373 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:07.008  INFO 23373 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:07.011  INFO 23373 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:07.017  INFO 23373 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:07.018  INFO 23373 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:07.020  INFO 23373 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:07.026  INFO 23373 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:07.033  INFO 23373 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:07.034  INFO 23373 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:07.036  INFO 23373 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:07.042  INFO 23373 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:07.055  INFO 23373 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:07.061  INFO 23373 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:07.063  INFO 23373 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:07.349  INFO 23373 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 00:17:07.358  INFO 23373 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 00:17:07.358  INFO 23373 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 00:17:07.466  INFO 23373 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 00:17:07.467  INFO 23373 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2488 ms
2021-03-23 00:17:07.903  INFO 23373 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 00:17:07.945  INFO 23373 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 00:17:07.989  INFO 23373 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 00:17:08.102  INFO 23373 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 00:17:08.205  INFO 23373 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 00:17:08.228  INFO 23373 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 00:17:08.228  INFO 23373 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 00:17:08.229  INFO 23373 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 00:17:08.229  INFO 23373 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 00:17:08.229  INFO 23373 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 00:17:08.318 DEBUG 23373 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 00:17:08.321 DEBUG 23373 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 00:17:08.321 DEBUG 23373 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 00:17:08.321 DEBUG 23373 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 00:17:08.322 DEBUG 23373 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('USER')] for Ant [pattern='/users/**']
2021-03-23 00:17:08.323 DEBUG 23373 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 00:17:08.356  INFO 23373 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a47a1e8, org.springframework.security.web.context.SecurityContextPersistenceFilter@71b639d0, org.springframework.security.web.header.HeaderWriterFilter@411a5965, org.springframework.security.web.authentication.logout.LogoutFilter@254449bb, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@53c1179a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5d5b9ecb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@56f730b2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d2a2560, org.springframework.security.web.session.SessionManagementFilter@5377414a, org.springframework.security.web.access.ExceptionTranslationFilter@7c51782d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5e8507f1]
2021-03-23 00:17:08.592  INFO 23373 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 00:17:08.606  INFO 23373 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 00:17:09.335  WARN 23373 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:17:09.336  WARN 23373 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : relation "user_role" does not exist, skipping
2021-03-23 00:17:09.337  WARN 23373 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:17:09.338  WARN 23373 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : relation "user_role" does not exist, skipping
2021-03-23 00:17:09.339  WARN 23373 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:17:09.339  WARN 23373 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "roles" does not exist, skipping
2021-03-23 00:17:09.341  WARN 23373 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:17:09.341  WARN 23373 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "user_role" does not exist, skipping
2021-03-23 00:17:09.342  WARN 23373 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:17:09.343  WARN 23373 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "users" does not exist, skipping
2021-03-23 00:17:09.392  INFO 23373 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 00:17:09.402  INFO 23373 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 00:17:10.430  INFO 23373 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 00:17:11.068  INFO 23373 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 00:17:11.147  INFO 23373 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 00:17:11.158  INFO 23373 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2021-03-23 00:17:11.232  INFO 23373 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2021-03-23 00:17:11.249 ERROR 23373 --- [main] o.s.boot.SpringApplication               : Application run failed

java.lang.RuntimeException: java.util.concurrent.ExecutionException: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/home/evgeniy/IdeaProjects/security-service/target/classes/data.sql]: INSERT INTO users (name, last_name, email, password, registration_time) VALUES ('admin', 'admin', 'admin@gmail.com', 'admin_admin', ); nested exception is org.postgresql.util.PSQLException: ERROR: syntax error at or near ")"
  Позиция: 133
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceInitializationCompletionListener.onApplicationEvent(DataSourceInitializedPublisher.java:151) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceInitializationCompletionListener.onApplicationEvent(DataSourceInitializedPublisher.java:138) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:203) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:196) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:161) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:426) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:383) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:945) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1309) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1298) [spring-boot-2.4.0.jar:2.4.0]
	at com.ru.microservice.SecurityApplication.main(SecurityApplication.java:10) [classes/:na]
Caused by: java.util.concurrent.ExecutionException: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/home/evgeniy/IdeaProjects/security-service/target/classes/data.sql]: INSERT INTO users (name, last_name, email, password, registration_time) VALUES ('admin', 'admin', 'admin@gmail.com', 'admin_admin', ); nested exception is org.postgresql.util.PSQLException: ERROR: syntax error at or near ")"
  Позиция: 133
	at java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:1.8.0_202]
	at java.util.concurrent.FutureTask.get(FutureTask.java:192) ~[na:1.8.0_202]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceInitializationCompletionListener.onApplicationEvent(DataSourceInitializedPublisher.java:148) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	... 16 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/home/evgeniy/IdeaProjects/security-service/target/classes/data.sql]: INSERT INTO users (name, last_name, email, password, registration_time) VALUES ('admin', 'admin', 'admin@gmail.com', 'admin_admin', ); nested exception is org.postgresql.util.PSQLException: ERROR: syntax error at or near ")"
  Позиция: 133
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:622) ~[spring-jdbc-5.3.1.jar:5.3.1]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254) ~[spring-jdbc-5.3.1.jar:5.3.1]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:49) ~[spring-jdbc-5.3.1.jar:5.3.1]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:202) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.initSchema(DataSourceInitializer.java:119) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.onApplicationEvent(DataSourceInitializerInvoker.java:91) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.onApplicationEvent(DataSourceInitializerInvoker.java:38) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:203) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:196) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:161) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:426) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:383) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.publishEventIfRequired(DataSourceInitializedPublisher.java:110) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.access$300(DataSourceInitializedPublisher.java:55) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceSchemaCreatedPublisher.lambda$postProcessEntityManagerFactory$0(DataSourceInitializedPublisher.java:253) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[na:1.8.0_202]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_202]
	at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_202]
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near ")"
  Позиция: 133
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:473) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:393) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:322) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:308) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:284) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:279) ~[postgresql-42.2.18.jar:42.2.18]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-3.4.5.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-3.4.5.jar:na]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:601) ~[spring-jdbc-5.3.1.jar:5.3.1]
	... 19 common frames omitted

2021-03-23 00:17:11.259  INFO 23373 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 00:17:11.259  INFO 23373 --- [main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-03-23 00:17:11.281  INFO 23373 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 00:17:11.283  INFO 23373 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 00:17:11.312  INFO 23373 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 00:17:40.733  INFO 23514 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 23514 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 00:17:40.736 DEBUG 23514 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 00:17:40.737  INFO 23514 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 00:17:42.154  INFO 23514 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 00:17:42.208  INFO 23514 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 2 JPA repository interfaces.
2021-03-23 00:17:42.593  INFO 23514 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:42.597  INFO 23514 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:42.600  INFO 23514 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:42.605  INFO 23514 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:42.611  INFO 23514 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:42.612  INFO 23514 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:42.616  INFO 23514 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:42.630  INFO 23514 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:42.633  INFO 23514 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:42.635  INFO 23514 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:42.650  INFO 23514 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:42.651  INFO 23514 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:42.654  INFO 23514 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:42.655  INFO 23514 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:42.657  INFO 23514 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:42.665  INFO 23514 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:42.668  INFO 23514 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:42.674  INFO 23514 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:42.675  INFO 23514 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:42.676  INFO 23514 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:42.681  INFO 23514 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:42.687  INFO 23514 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:42.689  INFO 23514 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:42.690  INFO 23514 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:42.695  INFO 23514 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:42.709  INFO 23514 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:42.715  INFO 23514 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:42.717  INFO 23514 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:17:42.999  INFO 23514 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 00:17:43.008  INFO 23514 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 00:17:43.008  INFO 23514 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 00:17:43.099  INFO 23514 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 00:17:43.100  INFO 23514 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2275 ms
2021-03-23 00:17:43.537  INFO 23514 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 00:17:43.581  INFO 23514 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 00:17:43.625  INFO 23514 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 00:17:43.739  INFO 23514 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 00:17:43.833  INFO 23514 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 00:17:43.859  INFO 23514 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 00:17:43.859  INFO 23514 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 00:17:43.860  INFO 23514 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 00:17:43.860  INFO 23514 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 00:17:43.860  INFO 23514 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 00:17:43.929 DEBUG 23514 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 00:17:43.931 DEBUG 23514 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 00:17:43.931 DEBUG 23514 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 00:17:43.931 DEBUG 23514 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 00:17:43.932 DEBUG 23514 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('USER')] for Ant [pattern='/users/**']
2021-03-23 00:17:43.933 DEBUG 23514 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 00:17:43.964  INFO 23514 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7cfb4736, org.springframework.security.web.context.SecurityContextPersistenceFilter@20a7953c, org.springframework.security.web.header.HeaderWriterFilter@53ed80d3, org.springframework.security.web.authentication.logout.LogoutFilter@40230eb9, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@49fa1d74, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@411a5965, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5e5aafc6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2a097d77, org.springframework.security.web.session.SessionManagementFilter@7c51782d, org.springframework.security.web.access.ExceptionTranslationFilter@15f35bc3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@109f8c7e]
2021-03-23 00:17:44.219  INFO 23514 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 00:17:44.235  INFO 23514 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 00:17:44.936  WARN 23514 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:17:44.937  WARN 23514 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : relation "user_role" does not exist, skipping
2021-03-23 00:17:44.938  WARN 23514 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:17:44.938  WARN 23514 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : relation "user_role" does not exist, skipping
2021-03-23 00:17:44.939  WARN 23514 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:17:44.939  WARN 23514 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "roles" does not exist, skipping
2021-03-23 00:17:44.940  WARN 23514 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:17:44.940  WARN 23514 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "user_role" does not exist, skipping
2021-03-23 00:17:44.941  WARN 23514 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:17:44.941  WARN 23514 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "users" does not exist, skipping
2021-03-23 00:17:44.990  INFO 23514 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 00:17:45.000  INFO 23514 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 00:17:45.867  INFO 23514 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 00:17:46.495  INFO 23514 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 00:17:46.570  INFO 23514 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 00:17:46.572  INFO 23514 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2021-03-23 00:17:46.719  INFO 23514 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2021-03-23 00:17:46.736  INFO 23514 --- [main] com.ru.microservice.SecurityApplication  : Started SecurityApplication in 6.566 seconds (JVM running for 7.31)
2021-03-23 00:17:46.889  INFO 23514 --- [RMI TCP Connection(2)-192.168.0.16] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-03-23 00:17:46.889  INFO 23514 --- [RMI TCP Connection(2)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-03-23 00:17:46.892  INFO 23514 --- [RMI TCP Connection(2)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2021-03-23 00:18:10.365 DEBUG 23514 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /
2021-03-23 00:18:10.369 DEBUG 23514 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:18:10.374 DEBUG 23514 --- [http-nio-8084-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:18:10.375 DEBUG 23514 --- [http-nio-8084-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B39FAFD9085B2637468C061ABA4FD328
2021-03-23 00:18:10.380 DEBUG 23514 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /] with attributes [permitAll]
2021-03-23 00:18:10.381 DEBUG 23514 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /
2021-03-23 00:18:10.775 DEBUG 23514 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:18:10.782 DEBUG 23514 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:18:12.770 DEBUG 23514 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 00:18:12.770 DEBUG 23514 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:18:12.771 DEBUG 23514 --- [http-nio-8084-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:18:12.771 DEBUG 23514 --- [http-nio-8084-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B39FAFD9085B2637468C061ABA4FD328
2021-03-23 00:18:12.772 DEBUG 23514 --- [http-nio-8084-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 00:18:12.772 DEBUG 23514 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 00:18:12.792 DEBUG 23514 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:18:12.794 DEBUG 23514 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:18:14.349 DEBUG 23514 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /registration?
2021-03-23 00:18:14.349 DEBUG 23514 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:18:14.349 DEBUG 23514 --- [http-nio-8084-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:18:14.350 DEBUG 23514 --- [http-nio-8084-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B39FAFD9085B2637468C061ABA4FD328
2021-03-23 00:18:14.350 DEBUG 23514 --- [http-nio-8084-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /registration?] with attributes [permitAll]
2021-03-23 00:18:14.350 DEBUG 23514 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /registration?
2021-03-23 00:18:14.391 DEBUG 23514 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:18:14.392 DEBUG 23514 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:18:34.375 DEBUG 23514 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /registration
2021-03-23 00:18:34.375 DEBUG 23514 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:18:34.376 DEBUG 23514 --- [http-nio-8084-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:18:34.376 DEBUG 23514 --- [http-nio-8084-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B39FAFD9085B2637468C061ABA4FD328
2021-03-23 00:18:34.377 DEBUG 23514 --- [http-nio-8084-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /registration] with attributes [permitAll]
2021-03-23 00:18:34.377 DEBUG 23514 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /registration
2021-03-23 00:18:34.877 DEBUG 23514 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:18:34.878 DEBUG 23514 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:18:34.888 DEBUG 23514 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /login?successMessage=%D0%92%D1%8B+%D1%83%D1%81%D0%BF%D0%B5%D1%88%D0%BD%D0%BE+%D0%B7%D0%B0%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D1%8B%21
2021-03-23 00:18:34.888 DEBUG 23514 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:18:34.888 DEBUG 23514 --- [http-nio-8084-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:18:34.889 DEBUG 23514 --- [http-nio-8084-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B39FAFD9085B2637468C061ABA4FD328
2021-03-23 00:18:34.889 DEBUG 23514 --- [http-nio-8084-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login?successMessage=%D0%92%D1%8B+%D1%83%D1%81%D0%BF%D0%B5%D1%88%D0%BD%D0%BE+%D0%B7%D0%B0%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D1%8B%21] with attributes [permitAll]
2021-03-23 00:18:34.889 DEBUG 23514 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /login?successMessage=%D0%92%D1%8B+%D1%83%D1%81%D0%BF%D0%B5%D1%88%D0%BD%D0%BE+%D0%B7%D0%B0%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D1%8B%21
2021-03-23 00:18:34.893 DEBUG 23514 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:18:34.894 DEBUG 23514 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:18:40.638 DEBUG 23514 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 00:18:40.638 DEBUG 23514 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:18:40.927 DEBUG 23514 --- [http-nio-8084-exec-8] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 00:18:40.928 DEBUG 23514 --- [http-nio-8084-exec-8] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[USER]]
2021-03-23 00:18:40.929 DEBUG 23514 --- [http-nio-8084-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /user/main
2021-03-23 00:18:40.943 DEBUG 23514 --- [http-nio-8084-exec-8] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2021-03-23 00:18:40.944 DEBUG 23514 --- [http-nio-8084-exec-8] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@18cd284f]
2021-03-23 00:18:40.944 DEBUG 23514 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:18:40.952 DEBUG 23514 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /user/main
2021-03-23 00:18:40.953 DEBUG 23514 --- [http-nio-8084-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 00:18:40.954 DEBUG 23514 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 00:18:40.955 DEBUG 23514 --- [http-nio-8084-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /user/main] with attributes [authenticated]
2021-03-23 00:18:40.955 DEBUG 23514 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /user/main
2021-03-23 00:18:40.967 DEBUG 23514 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:19:35.741 DEBUG 23514 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /logout?registration=
2021-03-23 00:19:35.742 DEBUG 23514 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 00:19:35.742 DEBUG 23514 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 00:19:35.743 DEBUG 23514 --- [http-nio-8084-exec-2] o.s.s.w.a.logout.LogoutFilter            : Logging out [UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 00:19:35.744 DEBUG 23514 --- [http-nio-8084-exec-2] o.s.s.w.a.l.SecurityContextLogoutHandler : Invalidated session A966A701151A79E07B131FF336683543
2021-03-23 00:19:35.746 DEBUG 23514 --- [http-nio-8084-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /login
2021-03-23 00:19:35.746 DEBUG 23514 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 00:19:35.746 DEBUG 23514 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:19:35.754 DEBUG 23514 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 00:19:35.754 DEBUG 23514 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:19:35.754 DEBUG 23514 --- [http-nio-8084-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:19:35.754 DEBUG 23514 --- [http-nio-8084-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id A966A701151A79E07B131FF336683543
2021-03-23 00:19:35.755 DEBUG 23514 --- [http-nio-8084-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 00:19:35.755 DEBUG 23514 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 00:19:35.758 DEBUG 23514 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:19:35.759 DEBUG 23514 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:19:45.090 DEBUG 23514 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 00:19:45.091 DEBUG 23514 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:19:45.101 DEBUG 23514 --- [http-nio-8084-exec-5] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.authentication.InternalAuthenticationServiceException
2021-03-23 00:19:45.105 ERROR 23514 --- [http-nio-8084-exec-5] w.a.UsernamePasswordAuthenticationFilter : An internal error occurred while trying to authenticate the user.

org.springframework.security.authentication.InternalAuthenticationServiceException: null
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:85) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:222) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93) [spring-boot-actuator-2.4.0.jar:2.4.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_202]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_202]
Caused by: java.lang.NullPointerException: null
	at com.ru.microservice.service.SecurityDetailsService.buildUserForAuthentication(SecurityDetailsService.java:44) ~[classes/:na]
	at com.ru.microservice.service.SecurityDetailsService.loadUserByUsername(SecurityDetailsService.java:31) ~[classes/:na]
	at com.ru.microservice.service.SecurityDetailsService$$FastClassBySpringCGLIB$$b75263eb.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371) ~[spring-tx-5.3.1.jar:5.3.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:134) ~[spring-tx-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691) ~[spring-aop-5.3.1.jar:5.3.1]
	at com.ru.microservice.service.SecurityDetailsService$$EnhancerBySpringCGLIB$$ac1481b9.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.4.1.jar:5.4.1]
	... 58 common frames omitted

2021-03-23 00:19:45.111 DEBUG 23514 --- [http-nio-8084-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /login?error=true
2021-03-23 00:19:45.112 DEBUG 23514 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 00:19:45.112 DEBUG 23514 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:19:45.122 DEBUG 23514 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /login?error=true
2021-03-23 00:19:45.122 DEBUG 23514 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:19:45.122 DEBUG 23514 --- [http-nio-8084-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:19:45.122 DEBUG 23514 --- [http-nio-8084-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login?error=true] with attributes [permitAll]
2021-03-23 00:19:45.123 DEBUG 23514 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /login?error=true
2021-03-23 00:19:45.126 DEBUG 23514 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:19:45.127 DEBUG 23514 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:20:24.237 DEBUG 23514 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 00:20:24.238 DEBUG 23514 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:20:24.243 DEBUG 23514 --- [http-nio-8084-exec-8] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.authentication.InternalAuthenticationServiceException
2021-03-23 00:20:24.245 ERROR 23514 --- [http-nio-8084-exec-8] w.a.UsernamePasswordAuthenticationFilter : An internal error occurred while trying to authenticate the user.

org.springframework.security.authentication.InternalAuthenticationServiceException: null
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:85) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:222) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93) [spring-boot-actuator-2.4.0.jar:2.4.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_202]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_202]
Caused by: java.lang.NullPointerException: null
	at com.ru.microservice.service.SecurityDetailsService.buildUserForAuthentication(SecurityDetailsService.java:44) ~[classes/:na]
	at com.ru.microservice.service.SecurityDetailsService.loadUserByUsername(SecurityDetailsService.java:31) ~[classes/:na]
	at com.ru.microservice.service.SecurityDetailsService$$FastClassBySpringCGLIB$$b75263eb.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371) ~[spring-tx-5.3.1.jar:5.3.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:134) ~[spring-tx-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691) ~[spring-aop-5.3.1.jar:5.3.1]
	at com.ru.microservice.service.SecurityDetailsService$$EnhancerBySpringCGLIB$$ac1481b9.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.4.1.jar:5.4.1]
	... 58 common frames omitted

2021-03-23 00:20:24.246 DEBUG 23514 --- [http-nio-8084-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /login?error=true
2021-03-23 00:20:24.246 DEBUG 23514 --- [http-nio-8084-exec-8] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 00:20:24.247 DEBUG 23514 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:20:24.254 DEBUG 23514 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /login?error=true
2021-03-23 00:20:24.254 DEBUG 23514 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:20:24.254 DEBUG 23514 --- [http-nio-8084-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:20:24.255 DEBUG 23514 --- [http-nio-8084-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login?error=true] with attributes [permitAll]
2021-03-23 00:20:24.255 DEBUG 23514 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /login?error=true
2021-03-23 00:20:24.259 DEBUG 23514 --- [http-nio-8084-exec-9] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:20:24.260 DEBUG 23514 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:22:53.337  INFO 23514 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 00:22:53.337  INFO 23514 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-03-23 00:22:53.354  INFO 23514 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 00:22:53.355  INFO 23514 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 00:22:53.385  INFO 23514 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 00:22:59.061  INFO 23977 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 23977 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 00:22:59.064 DEBUG 23977 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 00:22:59.064  INFO 23977 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 00:23:00.458  INFO 23977 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 00:23:00.516  INFO 23977 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 2 JPA repository interfaces.
2021-03-23 00:23:00.907  INFO 23977 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:00.910  INFO 23977 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:00.914  INFO 23977 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:00.918  INFO 23977 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:00.924  INFO 23977 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:00.926  INFO 23977 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:00.930  INFO 23977 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:00.944  INFO 23977 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:00.946  INFO 23977 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:00.948  INFO 23977 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:00.964  INFO 23977 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:00.965  INFO 23977 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:00.968  INFO 23977 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:00.969  INFO 23977 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:00.971  INFO 23977 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:00.980  INFO 23977 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:00.982  INFO 23977 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:00.988  INFO 23977 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:00.989  INFO 23977 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:00.990  INFO 23977 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:00.995  INFO 23977 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:01.001  INFO 23977 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:01.003  INFO 23977 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:01.004  INFO 23977 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:01.010  INFO 23977 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:01.023  INFO 23977 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:01.029  INFO 23977 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:01.031  INFO 23977 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:01.341  INFO 23977 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 00:23:01.350  INFO 23977 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 00:23:01.350  INFO 23977 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 00:23:01.452  INFO 23977 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 00:23:01.453  INFO 23977 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2307 ms
2021-03-23 00:23:01.886  INFO 23977 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 00:23:01.930  INFO 23977 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 00:23:01.972  INFO 23977 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 00:23:02.083  INFO 23977 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 00:23:02.181  INFO 23977 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 00:23:02.204  INFO 23977 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 00:23:02.204  INFO 23977 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 00:23:02.204  INFO 23977 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 00:23:02.204  INFO 23977 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 00:23:02.205  INFO 23977 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 00:23:02.278 DEBUG 23977 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 00:23:02.280 DEBUG 23977 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 00:23:02.280 DEBUG 23977 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 00:23:02.281 DEBUG 23977 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 00:23:02.282 DEBUG 23977 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('USER')] for Ant [pattern='/users/**']
2021-03-23 00:23:02.282 DEBUG 23977 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 00:23:02.309  INFO 23977 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@49fa1d74, org.springframework.security.web.context.SecurityContextPersistenceFilter@53ed80d3, org.springframework.security.web.header.HeaderWriterFilter@15f35bc3, org.springframework.security.web.authentication.logout.LogoutFilter@47311277, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1a8b81e8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7c51782d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@17aa8a11, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3f362135, org.springframework.security.web.session.SessionManagementFilter@608b1fd2, org.springframework.security.web.access.ExceptionTranslationFilter@326e0b8e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@360e9c06]
2021-03-23 00:23:02.332  WARN 23977 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userDetailsService' defined in class path resource [com/ru/microservice/service/AdminDetailsService.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.core.userdetails.UserDetailsService]: Factory method 'userDetailsService' threw exception; nested exception is java.lang.IllegalArgumentException: Cannot pass null or empty values to constructor
2021-03-23 00:23:02.334  INFO 23977 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 00:23:02.556  INFO 23977 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 00:23:02.568  INFO 23977 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 00:23:03.284  WARN 23977 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:23:03.284  WARN 23977 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : relation "user_role" does not exist, skipping
2021-03-23 00:23:03.286  WARN 23977 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:23:03.286  WARN 23977 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : relation "user_role" does not exist, skipping
2021-03-23 00:23:03.288  WARN 23977 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:23:03.288  WARN 23977 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "roles" does not exist, skipping
2021-03-23 00:23:03.289  WARN 23977 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:23:03.289  WARN 23977 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "user_role" does not exist, skipping
2021-03-23 00:23:03.290  WARN 23977 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:23:03.290  WARN 23977 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "users" does not exist, skipping
2021-03-23 00:23:03.335  INFO 23977 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 00:23:03.347  INFO 23977 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 00:23:03.348  INFO 23977 --- [main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-03-23 00:23:03.379  INFO 23977 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 00:23:03.380  INFO 23977 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 00:23:03.413  INFO 23977 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 00:23:03.416  INFO 23977 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2021-03-23 00:23:03.440  INFO 23977 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2021-03-23 00:23:03.465 ERROR 23977 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userDetailsService' defined in class path resource [com/ru/microservice/service/AdminDetailsService.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.core.userdetails.UserDetailsService]: Factory method 'userDetailsService' threw exception; nested exception is java.lang.IllegalArgumentException: Cannot pass null or empty values to constructor
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:656) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:484) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1179) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:571) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:925) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:588) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1309) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1298) [spring-boot-2.4.0.jar:2.4.0]
	at com.ru.microservice.SecurityApplication.main(SecurityApplication.java:10) [classes/:na]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.core.userdetails.UserDetailsService]: Factory method 'userDetailsService' threw exception; nested exception is java.lang.IllegalArgumentException: Cannot pass null or empty values to constructor
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:651) ~[spring-beans-5.3.1.jar:5.3.1]
	... 20 common frames omitted
Caused by: java.lang.IllegalArgumentException: Cannot pass null or empty values to constructor
	at org.springframework.util.Assert.isTrue(Assert.java:121) ~[spring-core-5.3.1.jar:5.3.1]
	at org.springframework.security.core.userdetails.User.<init>(User.java:110) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.core.userdetails.User$UserBuilder.build(User.java:504) ~[spring-security-core-5.4.1.jar:5.4.1]
	at com.ru.microservice.service.AdminDetailsService.userDetailsService(AdminDetailsService.java:24) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_202]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_202]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_202]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_202]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.1.jar:5.3.1]
	... 21 common frames omitted

2021-03-23 00:23:52.142  INFO 24123 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 24123 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 00:23:52.146 DEBUG 24123 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 00:23:52.147  INFO 24123 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 00:23:53.500  INFO 24123 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 00:23:53.554  INFO 24123 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 2 JPA repository interfaces.
2021-03-23 00:23:53.958  INFO 24123 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:53.962  INFO 24123 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:53.966  INFO 24123 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:53.970  INFO 24123 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:53.976  INFO 24123 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:53.978  INFO 24123 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:53.982  INFO 24123 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:54.000  INFO 24123 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:54.003  INFO 24123 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:54.005  INFO 24123 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:54.023  INFO 24123 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:54.024  INFO 24123 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:54.027  INFO 24123 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:54.028  INFO 24123 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:54.030  INFO 24123 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:54.038  INFO 24123 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:54.041  INFO 24123 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:54.047  INFO 24123 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:54.048  INFO 24123 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:54.049  INFO 24123 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:54.055  INFO 24123 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:54.062  INFO 24123 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:54.064  INFO 24123 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:54.065  INFO 24123 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:54.071  INFO 24123 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:54.085  INFO 24123 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:54.094  INFO 24123 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:54.095  INFO 24123 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:23:54.386  INFO 24123 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 00:23:54.394  INFO 24123 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 00:23:54.395  INFO 24123 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 00:23:54.487  INFO 24123 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 00:23:54.488  INFO 24123 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2273 ms
2021-03-23 00:23:54.939  INFO 24123 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 00:23:54.984  INFO 24123 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 00:23:55.027  INFO 24123 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 00:23:55.135  INFO 24123 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 00:23:55.231  INFO 24123 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 00:23:55.261  INFO 24123 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 00:23:55.262  INFO 24123 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 00:23:55.262  INFO 24123 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 00:23:55.262  INFO 24123 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 00:23:55.262  INFO 24123 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 00:23:55.335 DEBUG 24123 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 00:23:55.337 DEBUG 24123 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 00:23:55.337 DEBUG 24123 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 00:23:55.337 DEBUG 24123 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 00:23:55.338 DEBUG 24123 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('USER')] for Ant [pattern='/users/**']
2021-03-23 00:23:55.339 DEBUG 24123 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 00:23:55.366  INFO 24123 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d08edc5, org.springframework.security.web.context.SecurityContextPersistenceFilter@591a4f8e, org.springframework.security.web.header.HeaderWriterFilter@76a805b7, org.springframework.security.web.authentication.logout.LogoutFilter@56f730b2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1220ef43, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ba060f3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4e83a98, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@49fa1d74, org.springframework.security.web.session.SessionManagementFilter@167381c7, org.springframework.security.web.access.ExceptionTranslationFilter@57545c3f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@101a461c]
2021-03-23 00:23:55.576  INFO 24123 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 00:23:55.592  INFO 24123 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 00:23:56.350  WARN 24123 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:23:56.350  WARN 24123 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : relation "user_role" does not exist, skipping
2021-03-23 00:23:56.351  WARN 24123 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:23:56.352  WARN 24123 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : relation "user_role" does not exist, skipping
2021-03-23 00:23:56.353  WARN 24123 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:23:56.353  WARN 24123 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "roles" does not exist, skipping
2021-03-23 00:23:56.354  WARN 24123 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:23:56.354  WARN 24123 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "user_role" does not exist, skipping
2021-03-23 00:23:56.355  WARN 24123 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:23:56.355  WARN 24123 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "users" does not exist, skipping
2021-03-23 00:23:56.400  INFO 24123 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 00:23:56.412  INFO 24123 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 00:23:57.265  INFO 24123 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 00:23:57.898  INFO 24123 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 00:23:57.980  INFO 24123 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 00:23:57.982  INFO 24123 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2021-03-23 00:23:58.099  INFO 24123 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2021-03-23 00:23:58.118  INFO 24123 --- [main] com.ru.microservice.SecurityApplication  : Started SecurityApplication in 6.522 seconds (JVM running for 7.271)
2021-03-23 00:23:58.511  INFO 24123 --- [RMI TCP Connection(1)-192.168.0.16] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-03-23 00:23:58.511  INFO 24123 --- [RMI TCP Connection(1)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-03-23 00:23:58.513  INFO 24123 --- [RMI TCP Connection(1)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-03-23 00:24:13.732 DEBUG 24123 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /
2021-03-23 00:24:13.735 DEBUG 24123 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:24:13.740 DEBUG 24123 --- [http-nio-8084-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:24:13.741 DEBUG 24123 --- [http-nio-8084-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 539B0C864E3F741166A66ECCFFA74AE1
2021-03-23 00:24:13.746 DEBUG 24123 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /] with attributes [permitAll]
2021-03-23 00:24:13.747 DEBUG 24123 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /
2021-03-23 00:24:14.108 DEBUG 24123 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:24:14.114 DEBUG 24123 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:24:15.957 DEBUG 24123 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 00:24:15.958 DEBUG 24123 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:24:15.958 DEBUG 24123 --- [http-nio-8084-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:24:15.958 DEBUG 24123 --- [http-nio-8084-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 539B0C864E3F741166A66ECCFFA74AE1
2021-03-23 00:24:15.959 DEBUG 24123 --- [http-nio-8084-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 00:24:15.959 DEBUG 24123 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 00:24:15.976 DEBUG 24123 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:24:15.977 DEBUG 24123 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:24:29.140 DEBUG 24123 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 00:24:29.140 DEBUG 24123 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:24:29.447 DEBUG 24123 --- [http-nio-8084-exec-4] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.authentication.InternalAuthenticationServiceException
2021-03-23 00:24:29.451 ERROR 24123 --- [http-nio-8084-exec-4] w.a.UsernamePasswordAuthenticationFilter : An internal error occurred while trying to authenticate the user.

org.springframework.security.authentication.InternalAuthenticationServiceException: null
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:85) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:222) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93) [spring-boot-actuator-2.4.0.jar:2.4.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_202]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_202]
Caused by: java.lang.NullPointerException: null
	at com.ru.microservice.service.SecurityDetailsService.buildUserForAuthentication(SecurityDetailsService.java:44) ~[classes/:na]
	at com.ru.microservice.service.SecurityDetailsService.loadUserByUsername(SecurityDetailsService.java:31) ~[classes/:na]
	at com.ru.microservice.service.SecurityDetailsService$$FastClassBySpringCGLIB$$b75263eb.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371) ~[spring-tx-5.3.1.jar:5.3.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:134) ~[spring-tx-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691) ~[spring-aop-5.3.1.jar:5.3.1]
	at com.ru.microservice.service.SecurityDetailsService$$EnhancerBySpringCGLIB$$eeb1622a.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.4.1.jar:5.4.1]
	... 58 common frames omitted

2021-03-23 00:24:29.460 DEBUG 24123 --- [http-nio-8084-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /login?error=true
2021-03-23 00:24:29.460 DEBUG 24123 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 00:24:29.461 DEBUG 24123 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:24:29.469 DEBUG 24123 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /login?error=true
2021-03-23 00:24:29.470 DEBUG 24123 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:24:29.470 DEBUG 24123 --- [http-nio-8084-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:24:29.471 DEBUG 24123 --- [http-nio-8084-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login?error=true] with attributes [permitAll]
2021-03-23 00:24:29.471 DEBUG 24123 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /login?error=true
2021-03-23 00:24:29.479 DEBUG 24123 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:24:29.480 DEBUG 24123 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:25:13.203  INFO 24123 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 00:25:13.204  INFO 24123 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-03-23 00:25:13.224  INFO 24123 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 00:25:13.225  INFO 24123 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 00:25:13.249  INFO 24123 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 00:25:16.912  INFO 24399 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 24399 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 00:25:16.917 DEBUG 24399 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 00:25:16.918  INFO 24399 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 00:25:18.318  INFO 24399 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 00:25:18.372  INFO 24399 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 2 JPA repository interfaces.
2021-03-23 00:25:18.744  INFO 24399 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:25:18.748  INFO 24399 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:25:18.752  INFO 24399 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:25:18.756  INFO 24399 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:25:18.762  INFO 24399 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:25:18.764  INFO 24399 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:25:18.768  INFO 24399 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:25:18.782  INFO 24399 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:25:18.784  INFO 24399 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:25:18.786  INFO 24399 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:25:18.814  INFO 24399 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:25:18.816  INFO 24399 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:25:18.821  INFO 24399 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:25:18.822  INFO 24399 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:25:18.824  INFO 24399 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:25:18.835  INFO 24399 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:25:18.840  INFO 24399 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:25:18.848  INFO 24399 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:25:18.849  INFO 24399 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:25:18.851  INFO 24399 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:25:18.857  INFO 24399 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:25:18.867  INFO 24399 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:25:18.869  INFO 24399 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:25:18.872  INFO 24399 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:25:18.880  INFO 24399 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:25:18.898  INFO 24399 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:25:18.906  INFO 24399 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:25:18.908  INFO 24399 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:25:19.263  INFO 24399 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 00:25:19.274  INFO 24399 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 00:25:19.275  INFO 24399 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 00:25:19.389  INFO 24399 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 00:25:19.390  INFO 24399 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2387 ms
2021-03-23 00:25:19.910  INFO 24399 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 00:25:19.952  INFO 24399 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 00:25:19.994  INFO 24399 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 00:25:20.105  INFO 24399 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 00:25:20.209  INFO 24399 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 00:25:20.250  INFO 24399 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 00:25:20.250  INFO 24399 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 00:25:20.250  INFO 24399 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 00:25:20.251  INFO 24399 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 00:25:20.251  INFO 24399 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 00:25:20.331 DEBUG 24399 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 00:25:20.334 DEBUG 24399 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 00:25:20.334 DEBUG 24399 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 00:25:20.334 DEBUG 24399 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 00:25:20.335 DEBUG 24399 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('USER')] for Ant [pattern='/users/**']
2021-03-23 00:25:20.336 DEBUG 24399 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 00:25:20.367  INFO 24399 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@748f93bb, org.springframework.security.web.context.SecurityContextPersistenceFilter@5583098b, org.springframework.security.web.header.HeaderWriterFilter@18a25bbd, org.springframework.security.web.authentication.logout.LogoutFilter@1eff3cfb, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6d2a2560, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@53a84ff4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@40230eb9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7f2d31af, org.springframework.security.web.session.SessionManagementFilter@1ee27d73, org.springframework.security.web.access.ExceptionTranslationFilter@4fe533ff, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6bc24e72]
2021-03-23 00:25:20.547  INFO 24399 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 00:25:20.561  INFO 24399 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 00:25:21.246  WARN 24399 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:25:21.246  WARN 24399 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : relation "user_role" does not exist, skipping
2021-03-23 00:25:21.247  WARN 24399 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:25:21.248  WARN 24399 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : relation "user_role" does not exist, skipping
2021-03-23 00:25:21.248  WARN 24399 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:25:21.249  WARN 24399 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "roles" does not exist, skipping
2021-03-23 00:25:21.249  WARN 24399 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:25:21.250  WARN 24399 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "user_role" does not exist, skipping
2021-03-23 00:25:21.250  WARN 24399 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:25:21.251  WARN 24399 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "users" does not exist, skipping
2021-03-23 00:25:21.306  INFO 24399 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 00:25:21.319  INFO 24399 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 00:25:22.178  INFO 24399 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 00:25:22.815  INFO 24399 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 00:25:22.890  INFO 24399 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 00:25:22.893  INFO 24399 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2021-03-23 00:25:23.015  INFO 24399 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2021-03-23 00:25:23.033  INFO 24399 --- [main] com.ru.microservice.SecurityApplication  : Started SecurityApplication in 6.75 seconds (JVM running for 7.59)
2021-03-23 00:25:23.227  INFO 24399 --- [RMI TCP Connection(2)-192.168.0.16] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-03-23 00:25:23.227  INFO 24399 --- [RMI TCP Connection(2)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-03-23 00:25:23.230  INFO 24399 --- [RMI TCP Connection(2)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-03-23 00:25:32.633 DEBUG 24399 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /login?error=true
2021-03-23 00:25:32.638 DEBUG 24399 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:25:32.642 DEBUG 24399 --- [http-nio-8084-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:25:32.643 DEBUG 24399 --- [http-nio-8084-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id E6547D62E1A98989222DF3DF07E08FE7
2021-03-23 00:25:32.649 DEBUG 24399 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login?error=true] with attributes [permitAll]
2021-03-23 00:25:32.650 DEBUG 24399 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /login?error=true
2021-03-23 00:25:33.016 DEBUG 24399 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:25:33.022 DEBUG 24399 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:25:38.521 DEBUG 24399 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 00:25:38.522 DEBUG 24399 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:25:38.819 DEBUG 24399 --- [http-nio-8084-exec-2] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.authentication.InternalAuthenticationServiceException
2021-03-23 00:25:38.823 ERROR 24399 --- [http-nio-8084-exec-2] w.a.UsernamePasswordAuthenticationFilter : An internal error occurred while trying to authenticate the user.

org.springframework.security.authentication.InternalAuthenticationServiceException: null
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:85) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:222) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93) [spring-boot-actuator-2.4.0.jar:2.4.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_202]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_202]
Caused by: java.lang.NullPointerException: null
	at com.ru.microservice.service.SecurityDetailsService.buildUserForAuthentication(SecurityDetailsService.java:44) ~[classes/:na]
	at com.ru.microservice.service.SecurityDetailsService.loadUserByUsername(SecurityDetailsService.java:31) ~[classes/:na]
	at com.ru.microservice.service.SecurityDetailsService$$FastClassBySpringCGLIB$$b75263eb.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371) ~[spring-tx-5.3.1.jar:5.3.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:134) ~[spring-tx-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691) ~[spring-aop-5.3.1.jar:5.3.1]
	at com.ru.microservice.service.SecurityDetailsService$$EnhancerBySpringCGLIB$$150f2014.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.4.1.jar:5.4.1]
	... 58 common frames omitted

2021-03-23 00:25:38.833 DEBUG 24399 --- [http-nio-8084-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /login?error=true
2021-03-23 00:25:38.833 DEBUG 24399 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 00:25:38.834 DEBUG 24399 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:25:38.841 DEBUG 24399 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login?error=true
2021-03-23 00:25:38.841 DEBUG 24399 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:25:38.841 DEBUG 24399 --- [http-nio-8084-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:25:38.841 DEBUG 24399 --- [http-nio-8084-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login?error=true] with attributes [permitAll]
2021-03-23 00:25:38.841 DEBUG 24399 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /login?error=true
2021-03-23 00:25:38.845 DEBUG 24399 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:25:38.846 DEBUG 24399 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:25:54.176 DEBUG 24399 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 00:25:54.176 DEBUG 24399 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:25:54.183 DEBUG 24399 --- [http-nio-8084-exec-5] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.authentication.InternalAuthenticationServiceException
2021-03-23 00:25:54.185 ERROR 24399 --- [http-nio-8084-exec-5] w.a.UsernamePasswordAuthenticationFilter : An internal error occurred while trying to authenticate the user.

org.springframework.security.authentication.InternalAuthenticationServiceException: null
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:85) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:222) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93) [spring-boot-actuator-2.4.0.jar:2.4.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_202]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_202]
Caused by: java.lang.NullPointerException: null
	at com.ru.microservice.service.SecurityDetailsService.buildUserForAuthentication(SecurityDetailsService.java:44) ~[classes/:na]
	at com.ru.microservice.service.SecurityDetailsService.loadUserByUsername(SecurityDetailsService.java:31) ~[classes/:na]
	at com.ru.microservice.service.SecurityDetailsService$$FastClassBySpringCGLIB$$b75263eb.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371) ~[spring-tx-5.3.1.jar:5.3.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:134) ~[spring-tx-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691) ~[spring-aop-5.3.1.jar:5.3.1]
	at com.ru.microservice.service.SecurityDetailsService$$EnhancerBySpringCGLIB$$150f2014.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.4.1.jar:5.4.1]
	... 58 common frames omitted

2021-03-23 00:25:54.186 DEBUG 24399 --- [http-nio-8084-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /login?error=true
2021-03-23 00:25:54.187 DEBUG 24399 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 00:25:54.187 DEBUG 24399 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:25:54.205 DEBUG 24399 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /login?error=true
2021-03-23 00:25:54.205 DEBUG 24399 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:25:54.206 DEBUG 24399 --- [http-nio-8084-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:25:54.206 DEBUG 24399 --- [http-nio-8084-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login?error=true] with attributes [permitAll]
2021-03-23 00:25:54.206 DEBUG 24399 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /login?error=true
2021-03-23 00:25:54.210 DEBUG 24399 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:25:54.212 DEBUG 24399 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:26:13.089  INFO 24399 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 00:26:13.091  INFO 24399 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-03-23 00:26:13.113  INFO 24399 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 00:26:13.114  INFO 24399 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 00:26:13.134  INFO 24399 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 00:26:16.457  INFO 24580 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 24580 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 00:26:16.461 DEBUG 24580 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 00:26:16.461  INFO 24580 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 00:26:17.771  INFO 24580 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 00:26:17.824  INFO 24580 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 2 JPA repository interfaces.
2021-03-23 00:26:18.199  INFO 24580 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:26:18.202  INFO 24580 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:26:18.206  INFO 24580 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:26:18.210  INFO 24580 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:26:18.216  INFO 24580 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:26:18.218  INFO 24580 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:26:18.222  INFO 24580 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:26:18.235  INFO 24580 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:26:18.237  INFO 24580 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:26:18.239  INFO 24580 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:26:18.254  INFO 24580 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:26:18.255  INFO 24580 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:26:18.258  INFO 24580 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:26:18.260  INFO 24580 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:26:18.261  INFO 24580 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:26:18.270  INFO 24580 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:26:18.273  INFO 24580 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:26:18.279  INFO 24580 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:26:18.280  INFO 24580 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:26:18.281  INFO 24580 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:26:18.286  INFO 24580 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:26:18.293  INFO 24580 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:26:18.294  INFO 24580 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:26:18.295  INFO 24580 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:26:18.301  INFO 24580 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:26:18.314  INFO 24580 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:26:18.320  INFO 24580 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:26:18.321  INFO 24580 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:26:18.596  INFO 24580 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 00:26:18.604  INFO 24580 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 00:26:18.605  INFO 24580 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 00:26:18.681  INFO 24580 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 00:26:18.681  INFO 24580 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2101 ms
2021-03-23 00:26:19.145  INFO 24580 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 00:26:19.189  INFO 24580 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 00:26:19.233  INFO 24580 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 00:26:19.342  INFO 24580 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 00:26:19.477  INFO 24580 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 00:26:19.478  INFO 24580 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 00:26:19.478  INFO 24580 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 00:26:19.478  INFO 24580 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 00:26:19.479  INFO 24580 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 00:26:19.482  INFO 24580 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 00:26:19.553 DEBUG 24580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 00:26:19.555 DEBUG 24580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 00:26:19.555 DEBUG 24580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 00:26:19.556 DEBUG 24580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 00:26:19.557 DEBUG 24580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('USER')] for Ant [pattern='/users/**']
2021-03-23 00:26:19.557 DEBUG 24580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 00:26:19.580  INFO 24580 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a47a1e8, org.springframework.security.web.context.SecurityContextPersistenceFilter@71b639d0, org.springframework.security.web.header.HeaderWriterFilter@411a5965, org.springframework.security.web.authentication.logout.LogoutFilter@254449bb, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@53c1179a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5d5b9ecb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@56f730b2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d2a2560, org.springframework.security.web.session.SessionManagementFilter@5377414a, org.springframework.security.web.access.ExceptionTranslationFilter@7c51782d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5e8507f1]
2021-03-23 00:26:19.863  INFO 24580 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 00:26:19.876  INFO 24580 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 00:26:20.500  WARN 24580 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:26:20.500  WARN 24580 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : relation "user_role" does not exist, skipping
2021-03-23 00:26:20.505  WARN 24580 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:26:20.505  WARN 24580 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : relation "user_role" does not exist, skipping
2021-03-23 00:26:20.506  WARN 24580 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:26:20.507  WARN 24580 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "roles" does not exist, skipping
2021-03-23 00:26:20.507  WARN 24580 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:26:20.508  WARN 24580 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "user_role" does not exist, skipping
2021-03-23 00:26:20.509  WARN 24580 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:26:20.509  WARN 24580 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "users" does not exist, skipping
2021-03-23 00:26:20.556  INFO 24580 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 00:26:20.566  INFO 24580 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 00:26:21.403  INFO 24580 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 00:26:22.034  INFO 24580 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 00:26:22.115  INFO 24580 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 00:26:22.117  INFO 24580 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2021-03-23 00:26:22.241  INFO 24580 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2021-03-23 00:26:22.258  INFO 24580 --- [main] com.ru.microservice.SecurityApplication  : Started SecurityApplication in 6.389 seconds (JVM running for 7.165)
2021-03-23 00:26:22.752  INFO 24580 --- [RMI TCP Connection(1)-192.168.0.16] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-03-23 00:26:22.753  INFO 24580 --- [RMI TCP Connection(1)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-03-23 00:26:22.756  INFO 24580 --- [RMI TCP Connection(1)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2021-03-23 00:26:31.563 DEBUG 24580 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /login?error=true
2021-03-23 00:26:31.568 DEBUG 24580 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:26:31.573 DEBUG 24580 --- [http-nio-8084-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:26:31.573 DEBUG 24580 --- [http-nio-8084-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 38325F5665B4B870B2A34D811D054A50
2021-03-23 00:26:31.578 DEBUG 24580 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login?error=true] with attributes [permitAll]
2021-03-23 00:26:31.579 DEBUG 24580 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /login?error=true
2021-03-23 00:26:31.957 DEBUG 24580 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:26:31.964 DEBUG 24580 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:26:35.726 DEBUG 24580 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /
2021-03-23 00:26:35.727 DEBUG 24580 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:26:35.727 DEBUG 24580 --- [http-nio-8084-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:26:35.727 DEBUG 24580 --- [http-nio-8084-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 38325F5665B4B870B2A34D811D054A50
2021-03-23 00:26:35.728 DEBUG 24580 --- [http-nio-8084-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /] with attributes [permitAll]
2021-03-23 00:26:35.728 DEBUG 24580 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /
2021-03-23 00:26:35.733 DEBUG 24580 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:26:35.735 DEBUG 24580 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:26:37.334 DEBUG 24580 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 00:26:37.334 DEBUG 24580 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:26:37.334 DEBUG 24580 --- [http-nio-8084-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:26:37.335 DEBUG 24580 --- [http-nio-8084-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 38325F5665B4B870B2A34D811D054A50
2021-03-23 00:26:37.335 DEBUG 24580 --- [http-nio-8084-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 00:26:37.335 DEBUG 24580 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 00:26:37.343 DEBUG 24580 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:26:37.344 DEBUG 24580 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:26:51.580 DEBUG 24580 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 00:26:51.580 DEBUG 24580 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:26:51.912 DEBUG 24580 --- [http-nio-8084-exec-5] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.authentication.InternalAuthenticationServiceException
2021-03-23 00:26:51.916 ERROR 24580 --- [http-nio-8084-exec-5] w.a.UsernamePasswordAuthenticationFilter : An internal error occurred while trying to authenticate the user.

org.springframework.security.authentication.InternalAuthenticationServiceException: null
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:85) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:222) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93) [spring-boot-actuator-2.4.0.jar:2.4.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_202]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_202]
Caused by: java.lang.NullPointerException: null
	at com.ru.microservice.service.SecurityDetailsService.buildUserForAuthentication(SecurityDetailsService.java:44) ~[classes/:na]
	at com.ru.microservice.service.SecurityDetailsService.loadUserByUsername(SecurityDetailsService.java:31) ~[classes/:na]
	at com.ru.microservice.service.SecurityDetailsService$$FastClassBySpringCGLIB$$b75263eb.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371) ~[spring-tx-5.3.1.jar:5.3.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:134) ~[spring-tx-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691) ~[spring-aop-5.3.1.jar:5.3.1]
	at com.ru.microservice.service.SecurityDetailsService$$EnhancerBySpringCGLIB$$b667014d.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.4.1.jar:5.4.1]
	... 58 common frames omitted

2021-03-23 00:26:51.926 DEBUG 24580 --- [http-nio-8084-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /login?error=true
2021-03-23 00:26:51.926 DEBUG 24580 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 00:26:51.927 DEBUG 24580 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:26:51.935 DEBUG 24580 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /login?error=true
2021-03-23 00:26:51.935 DEBUG 24580 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:26:51.935 DEBUG 24580 --- [http-nio-8084-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:26:51.936 DEBUG 24580 --- [http-nio-8084-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login?error=true] with attributes [permitAll]
2021-03-23 00:26:51.936 DEBUG 24580 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /login?error=true
2021-03-23 00:26:51.941 DEBUG 24580 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:26:51.942 DEBUG 24580 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:27:17.601 DEBUG 24580 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /registration?
2021-03-23 00:27:17.602 DEBUG 24580 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:27:17.602 DEBUG 24580 --- [http-nio-8084-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:27:17.604 DEBUG 24580 --- [http-nio-8084-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /registration?] with attributes [permitAll]
2021-03-23 00:27:17.604 DEBUG 24580 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /registration?
2021-03-23 00:27:17.640 DEBUG 24580 --- [http-nio-8084-exec-8] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:27:17.641 DEBUG 24580 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:27:49.321 DEBUG 24580 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /registration
2021-03-23 00:27:49.321 DEBUG 24580 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:27:49.321 DEBUG 24580 --- [http-nio-8084-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:27:49.322 DEBUG 24580 --- [http-nio-8084-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /registration] with attributes [permitAll]
2021-03-23 00:27:49.322 DEBUG 24580 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /registration
2021-03-23 00:27:49.404 DEBUG 24580 --- [http-nio-8084-exec-10] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:27:49.405 DEBUG 24580 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:27:49.412 DEBUG 24580 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 00:27:49.413 DEBUG 24580 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:27:49.413 DEBUG 24580 --- [http-nio-8084-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:27:49.414 DEBUG 24580 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 00:27:49.414 DEBUG 24580 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 00:27:49.416 DEBUG 24580 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:27:49.417 DEBUG 24580 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:28:04.229 DEBUG 24580 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 00:28:04.230 DEBUG 24580 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:28:04.237 DEBUG 24580 --- [http-nio-8084-exec-3] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.authentication.InternalAuthenticationServiceException
2021-03-23 00:28:04.238 ERROR 24580 --- [http-nio-8084-exec-3] w.a.UsernamePasswordAuthenticationFilter : An internal error occurred while trying to authenticate the user.

org.springframework.security.authentication.InternalAuthenticationServiceException: null
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:85) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:222) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93) [spring-boot-actuator-2.4.0.jar:2.4.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_202]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_202]
Caused by: java.lang.NullPointerException: null
	at com.ru.microservice.service.SecurityDetailsService.buildUserForAuthentication(SecurityDetailsService.java:44) ~[classes/:na]
	at com.ru.microservice.service.SecurityDetailsService.loadUserByUsername(SecurityDetailsService.java:31) ~[classes/:na]
	at com.ru.microservice.service.SecurityDetailsService$$FastClassBySpringCGLIB$$b75263eb.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371) ~[spring-tx-5.3.1.jar:5.3.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:134) ~[spring-tx-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691) ~[spring-aop-5.3.1.jar:5.3.1]
	at com.ru.microservice.service.SecurityDetailsService$$EnhancerBySpringCGLIB$$b667014d.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.4.1.jar:5.4.1]
	... 58 common frames omitted

2021-03-23 00:28:04.239 DEBUG 24580 --- [http-nio-8084-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /login?error=true
2021-03-23 00:28:04.239 DEBUG 24580 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 00:28:04.240 DEBUG 24580 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:28:04.247 DEBUG 24580 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /login?error=true
2021-03-23 00:28:04.248 DEBUG 24580 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:28:04.248 DEBUG 24580 --- [http-nio-8084-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:28:04.248 DEBUG 24580 --- [http-nio-8084-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login?error=true] with attributes [permitAll]
2021-03-23 00:28:04.249 DEBUG 24580 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /login?error=true
2021-03-23 00:28:04.251 DEBUG 24580 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:28:04.253 DEBUG 24580 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:29:20.468 DEBUG 24580 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /registration?
2021-03-23 00:29:20.468 DEBUG 24580 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:29:20.469 DEBUG 24580 --- [http-nio-8084-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:29:20.469 DEBUG 24580 --- [http-nio-8084-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /registration?] with attributes [permitAll]
2021-03-23 00:29:20.469 DEBUG 24580 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /registration?
2021-03-23 00:29:20.478 DEBUG 24580 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:29:20.479 DEBUG 24580 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:29:37.379 DEBUG 24580 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /registration
2021-03-23 00:29:37.379 DEBUG 24580 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:29:37.379 DEBUG 24580 --- [http-nio-8084-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:29:37.380 DEBUG 24580 --- [http-nio-8084-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /registration] with attributes [permitAll]
2021-03-23 00:29:37.380 DEBUG 24580 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /registration
2021-03-23 00:29:37.388 DEBUG 24580 --- [http-nio-8084-exec-8] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:29:37.389 DEBUG 24580 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:29:37.396 DEBUG 24580 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 00:29:37.397 DEBUG 24580 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:29:37.397 DEBUG 24580 --- [http-nio-8084-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:29:37.397 DEBUG 24580 --- [http-nio-8084-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 00:29:37.397 DEBUG 24580 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 00:29:37.400 DEBUG 24580 --- [http-nio-8084-exec-9] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:29:37.401 DEBUG 24580 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:31:19.244 DEBUG 24580 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 00:31:19.244 DEBUG 24580 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:31:19.252 DEBUG 24580 --- [http-nio-8084-exec-1] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.authentication.InternalAuthenticationServiceException
2021-03-23 00:31:19.253 ERROR 24580 --- [http-nio-8084-exec-1] w.a.UsernamePasswordAuthenticationFilter : An internal error occurred while trying to authenticate the user.

org.springframework.security.authentication.InternalAuthenticationServiceException: null
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:85) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:222) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93) [spring-boot-actuator-2.4.0.jar:2.4.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_202]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_202]
Caused by: java.lang.NullPointerException: null
	at com.ru.microservice.service.SecurityDetailsService.buildUserForAuthentication(SecurityDetailsService.java:44) ~[classes/:na]
	at com.ru.microservice.service.SecurityDetailsService.loadUserByUsername(SecurityDetailsService.java:31) ~[classes/:na]
	at com.ru.microservice.service.SecurityDetailsService$$FastClassBySpringCGLIB$$b75263eb.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371) ~[spring-tx-5.3.1.jar:5.3.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:134) ~[spring-tx-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691) ~[spring-aop-5.3.1.jar:5.3.1]
	at com.ru.microservice.service.SecurityDetailsService$$EnhancerBySpringCGLIB$$b667014d.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.4.1.jar:5.4.1]
	... 58 common frames omitted

2021-03-23 00:31:19.254 DEBUG 24580 --- [http-nio-8084-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /login?error=true
2021-03-23 00:31:19.254 DEBUG 24580 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 00:31:19.254 DEBUG 24580 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:31:19.262 DEBUG 24580 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login?error=true
2021-03-23 00:31:19.263 DEBUG 24580 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:31:19.263 DEBUG 24580 --- [http-nio-8084-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:31:19.264 DEBUG 24580 --- [http-nio-8084-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login?error=true] with attributes [permitAll]
2021-03-23 00:31:19.264 DEBUG 24580 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login?error=true
2021-03-23 00:31:19.268 DEBUG 24580 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:31:19.269 DEBUG 24580 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:32:32.786  INFO 24580 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 00:32:32.787  INFO 24580 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-03-23 00:32:32.807  INFO 24580 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 00:32:32.808  INFO 24580 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 00:32:32.827  INFO 24580 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 00:32:50.610  INFO 25104 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 25104 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 00:32:50.615 DEBUG 25104 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 00:32:50.616  INFO 25104 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 00:32:52.004  INFO 25104 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 00:32:52.056  INFO 25104 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44 ms. Found 2 JPA repository interfaces.
2021-03-23 00:32:52.450  INFO 25104 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:32:52.454  INFO 25104 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:32:52.457  INFO 25104 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:32:52.462  INFO 25104 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:32:52.468  INFO 25104 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:32:52.469  INFO 25104 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:32:52.473  INFO 25104 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:32:52.487  INFO 25104 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:32:52.490  INFO 25104 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:32:52.491  INFO 25104 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:32:52.506  INFO 25104 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:32:52.508  INFO 25104 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:32:52.510  INFO 25104 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:32:52.512  INFO 25104 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:32:52.513  INFO 25104 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:32:52.521  INFO 25104 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:32:52.524  INFO 25104 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:32:52.530  INFO 25104 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:32:52.531  INFO 25104 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:32:52.532  INFO 25104 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:32:52.537  INFO 25104 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:32:52.543  INFO 25104 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:32:52.545  INFO 25104 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:32:52.546  INFO 25104 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:32:52.551  INFO 25104 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:32:52.565  INFO 25104 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:32:52.572  INFO 25104 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:32:52.574  INFO 25104 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:32:52.852  INFO 25104 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 00:32:52.860  INFO 25104 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 00:32:52.860  INFO 25104 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 00:32:52.935  INFO 25104 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 00:32:52.935  INFO 25104 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2214 ms
2021-03-23 00:32:53.386  INFO 25104 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 00:32:53.428  INFO 25104 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 00:32:53.471  INFO 25104 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 00:32:53.582  INFO 25104 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 00:32:53.677  INFO 25104 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 00:32:53.698  INFO 25104 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 00:32:53.698  INFO 25104 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 00:32:53.698  INFO 25104 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 00:32:53.699  INFO 25104 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 00:32:53.699  INFO 25104 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 00:32:53.771 DEBUG 25104 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 00:32:53.773 DEBUG 25104 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 00:32:53.773 DEBUG 25104 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 00:32:53.774 DEBUG 25104 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 00:32:53.775 DEBUG 25104 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('USER')] for Ant [pattern='/users/**']
2021-03-23 00:32:53.775 DEBUG 25104 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 00:32:53.804  INFO 25104 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7650ded6, org.springframework.security.web.context.SecurityContextPersistenceFilter@4fe533ff, org.springframework.security.web.header.HeaderWriterFilter@77bc2e16, org.springframework.security.web.authentication.logout.LogoutFilter@7c0777b5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6bc24e72, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4e83a98, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5807efad, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5034f5dd, org.springframework.security.web.session.SessionManagementFilter@20a7953c, org.springframework.security.web.access.ExceptionTranslationFilter@56382bc9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7e307087]
2021-03-23 00:32:54.057  INFO 25104 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 00:32:54.076  INFO 25104 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 00:32:54.695  WARN 25104 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:32:54.696  WARN 25104 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : relation "user_role" does not exist, skipping
2021-03-23 00:32:54.697  WARN 25104 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:32:54.697  WARN 25104 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : relation "user_role" does not exist, skipping
2021-03-23 00:32:54.698  WARN 25104 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:32:54.698  WARN 25104 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "roles" does not exist, skipping
2021-03-23 00:32:54.699  WARN 25104 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:32:54.699  WARN 25104 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "user_role" does not exist, skipping
2021-03-23 00:32:54.700  WARN 25104 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:32:54.700  WARN 25104 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "users" does not exist, skipping
2021-03-23 00:32:54.752  INFO 25104 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 00:32:54.764  INFO 25104 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 00:32:55.579  INFO 25104 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 00:32:56.195  INFO 25104 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 00:32:56.271  INFO 25104 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 00:32:56.273  INFO 25104 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2021-03-23 00:32:56.412  INFO 25104 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2021-03-23 00:32:56.428  INFO 25104 --- [main] com.ru.microservice.SecurityApplication  : Started SecurityApplication in 6.392 seconds (JVM running for 7.074)
2021-03-23 00:32:56.885  INFO 25104 --- [RMI TCP Connection(1)-192.168.0.16] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-03-23 00:32:56.885  INFO 25104 --- [RMI TCP Connection(1)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-03-23 00:32:56.887  INFO 25104 --- [RMI TCP Connection(1)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-03-23 00:33:23.514 DEBUG 25104 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /
2021-03-23 00:33:23.518 DEBUG 25104 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:33:23.520 DEBUG 25104 --- [http-nio-8084-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:33:23.521 DEBUG 25104 --- [http-nio-8084-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id ECC3780542A171AC6DB4135D9522B2C6
2021-03-23 00:33:23.528 DEBUG 25104 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /] with attributes [permitAll]
2021-03-23 00:33:23.528 DEBUG 25104 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /
2021-03-23 00:33:23.899 DEBUG 25104 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:33:23.924 DEBUG 25104 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:33:25.947 DEBUG 25104 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 00:33:25.947 DEBUG 25104 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:33:25.947 DEBUG 25104 --- [http-nio-8084-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:33:25.948 DEBUG 25104 --- [http-nio-8084-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id ECC3780542A171AC6DB4135D9522B2C6
2021-03-23 00:33:25.949 DEBUG 25104 --- [http-nio-8084-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 00:33:25.949 DEBUG 25104 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 00:33:25.965 DEBUG 25104 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:33:25.967 DEBUG 25104 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:33:28.027 DEBUG 25104 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /registration?
2021-03-23 00:33:28.027 DEBUG 25104 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:33:28.028 DEBUG 25104 --- [http-nio-8084-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:33:28.028 DEBUG 25104 --- [http-nio-8084-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id ECC3780542A171AC6DB4135D9522B2C6
2021-03-23 00:33:28.028 DEBUG 25104 --- [http-nio-8084-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /registration?] with attributes [permitAll]
2021-03-23 00:33:28.029 DEBUG 25104 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /registration?
2021-03-23 00:33:28.069 DEBUG 25104 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:33:28.070 DEBUG 25104 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:33:59.866 DEBUG 25104 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /registration
2021-03-23 00:33:59.866 DEBUG 25104 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:33:59.867 DEBUG 25104 --- [http-nio-8084-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:33:59.867 DEBUG 25104 --- [http-nio-8084-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id ECC3780542A171AC6DB4135D9522B2C6
2021-03-23 00:33:59.868 DEBUG 25104 --- [http-nio-8084-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /registration] with attributes [permitAll]
2021-03-23 00:33:59.868 DEBUG 25104 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /registration
2021-03-23 00:34:00.090 DEBUG 25104 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:34:00.092 DEBUG 25104 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:34:00.100 DEBUG 25104 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 00:34:00.100 DEBUG 25104 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:34:00.100 DEBUG 25104 --- [http-nio-8084-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:34:00.101 DEBUG 25104 --- [http-nio-8084-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id ECC3780542A171AC6DB4135D9522B2C6
2021-03-23 00:34:00.101 DEBUG 25104 --- [http-nio-8084-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 00:34:00.101 DEBUG 25104 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 00:34:00.105 DEBUG 25104 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:34:00.107 DEBUG 25104 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:34:06.356 DEBUG 25104 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 00:34:06.357 DEBUG 25104 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:34:06.522 DEBUG 25104 --- [http-nio-8084-exec-7] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.authentication.InternalAuthenticationServiceException
2021-03-23 00:34:06.525 ERROR 25104 --- [http-nio-8084-exec-7] w.a.UsernamePasswordAuthenticationFilter : An internal error occurred while trying to authenticate the user.

org.springframework.security.authentication.InternalAuthenticationServiceException: null
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:85) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:222) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93) [spring-boot-actuator-2.4.0.jar:2.4.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_202]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_202]
Caused by: java.lang.NullPointerException: null
	at com.ru.microservice.service.SecurityDetailsService.buildUserForAuthentication(SecurityDetailsService.java:44) ~[classes/:na]
	at com.ru.microservice.service.SecurityDetailsService.loadUserByUsername(SecurityDetailsService.java:31) ~[classes/:na]
	at com.ru.microservice.service.SecurityDetailsService$$FastClassBySpringCGLIB$$b75263eb.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371) ~[spring-tx-5.3.1.jar:5.3.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:134) ~[spring-tx-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691) ~[spring-aop-5.3.1.jar:5.3.1]
	at com.ru.microservice.service.SecurityDetailsService$$EnhancerBySpringCGLIB$$ffd7db1e.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.4.1.jar:5.4.1]
	... 58 common frames omitted

2021-03-23 00:34:06.535 DEBUG 25104 --- [http-nio-8084-exec-7] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /login?error=true
2021-03-23 00:34:06.536 DEBUG 25104 --- [http-nio-8084-exec-7] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 00:34:06.536 DEBUG 25104 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:34:06.543 DEBUG 25104 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /login?error=true
2021-03-23 00:34:06.544 DEBUG 25104 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:34:06.544 DEBUG 25104 --- [http-nio-8084-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:34:06.545 DEBUG 25104 --- [http-nio-8084-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login?error=true] with attributes [permitAll]
2021-03-23 00:34:06.545 DEBUG 25104 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /login?error=true
2021-03-23 00:34:06.550 DEBUG 25104 --- [http-nio-8084-exec-8] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:34:06.551 DEBUG 25104 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:34:58.965  INFO 25104 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 00:34:58.966  INFO 25104 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-03-23 00:34:58.982  INFO 25104 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 00:34:58.982  INFO 25104 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 00:34:59.002  INFO 25104 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 00:35:02.555  INFO 25349 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 25349 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 00:35:02.559 DEBUG 25349 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 00:35:02.561  INFO 25349 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 00:35:03.938  INFO 25349 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 00:35:03.997  INFO 25349 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 2 JPA repository interfaces.
2021-03-23 00:35:04.365  INFO 25349 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:04.369  INFO 25349 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:04.373  INFO 25349 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:04.377  INFO 25349 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:04.383  INFO 25349 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:04.385  INFO 25349 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:04.389  INFO 25349 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:04.402  INFO 25349 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:04.405  INFO 25349 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:04.407  INFO 25349 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:04.426  INFO 25349 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:04.428  INFO 25349 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:04.431  INFO 25349 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:04.433  INFO 25349 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:04.434  INFO 25349 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:04.445  INFO 25349 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:04.448  INFO 25349 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:04.456  INFO 25349 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:04.456  INFO 25349 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:04.457  INFO 25349 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:04.464  INFO 25349 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:04.473  INFO 25349 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:04.475  INFO 25349 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:04.477  INFO 25349 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:04.485  INFO 25349 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:04.504  INFO 25349 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:04.511  INFO 25349 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:04.513  INFO 25349 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:04.841  INFO 25349 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 00:35:04.854  INFO 25349 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 00:35:04.855  INFO 25349 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 00:35:04.957  INFO 25349 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 00:35:04.957  INFO 25349 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2328 ms
2021-03-23 00:35:05.423  INFO 25349 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 00:35:05.466  INFO 25349 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 00:35:05.510  INFO 25349 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 00:35:05.624  INFO 25349 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 00:35:05.719  INFO 25349 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 00:35:05.730  INFO 25349 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 00:35:05.730  INFO 25349 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 00:35:05.730  INFO 25349 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 00:35:05.730  INFO 25349 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 00:35:05.731  INFO 25349 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 00:35:05.799 DEBUG 25349 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 00:35:05.802 DEBUG 25349 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 00:35:05.802 DEBUG 25349 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 00:35:05.802 DEBUG 25349 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 00:35:05.803 DEBUG 25349 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('USER')] for Ant [pattern='/users/**']
2021-03-23 00:35:05.803 DEBUG 25349 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 00:35:05.824  INFO 25349 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@311ff287, org.springframework.security.web.context.SecurityContextPersistenceFilter@5afbd567, org.springframework.security.web.header.HeaderWriterFilter@7fb53256, org.springframework.security.web.authentication.logout.LogoutFilter@17aa8a11, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@f5ce0bb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@57545c3f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@56382bc9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7377781e, org.springframework.security.web.session.SessionManagementFilter@27329d2a, org.springframework.security.web.access.ExceptionTranslationFilter@45aca496, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3468ee6e]
2021-03-23 00:35:06.100  INFO 25349 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 00:35:06.113  INFO 25349 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 00:35:06.800  WARN 25349 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:35:06.801  WARN 25349 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : relation "user_role" does not exist, skipping
2021-03-23 00:35:06.802  WARN 25349 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:35:06.802  WARN 25349 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : relation "user_role" does not exist, skipping
2021-03-23 00:35:06.803  WARN 25349 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:35:06.803  WARN 25349 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "roles" does not exist, skipping
2021-03-23 00:35:06.804  WARN 25349 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:35:06.804  WARN 25349 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "user_role" does not exist, skipping
2021-03-23 00:35:06.805  WARN 25349 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:35:06.805  WARN 25349 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "users" does not exist, skipping
2021-03-23 00:35:06.858  INFO 25349 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 00:35:06.869  INFO 25349 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 00:35:07.768  INFO 25349 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 00:35:08.402  INFO 25349 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 00:35:08.478  INFO 25349 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 00:35:08.490  INFO 25349 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2021-03-23 00:35:08.567  INFO 25349 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2021-03-23 00:35:08.585 ERROR 25349 --- [main] o.s.boot.SpringApplication               : Application run failed

java.lang.RuntimeException: java.util.concurrent.ExecutionException: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #2 of URL [file:/home/evgeniy/IdeaProjects/security-service/target/classes/data.sql]: INSERT INTO roles () VALUES (1, 'ADMIN'), (2, 'USER'); nested exception is org.postgresql.util.PSQLException: ERROR: syntax error at or near ")"
  Позиция: 20
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceInitializationCompletionListener.onApplicationEvent(DataSourceInitializedPublisher.java:151) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceInitializationCompletionListener.onApplicationEvent(DataSourceInitializedPublisher.java:138) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:203) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:196) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:161) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:426) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:383) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:945) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1309) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1298) [spring-boot-2.4.0.jar:2.4.0]
	at com.ru.microservice.SecurityApplication.main(SecurityApplication.java:10) [classes/:na]
Caused by: java.util.concurrent.ExecutionException: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #2 of URL [file:/home/evgeniy/IdeaProjects/security-service/target/classes/data.sql]: INSERT INTO roles () VALUES (1, 'ADMIN'), (2, 'USER'); nested exception is org.postgresql.util.PSQLException: ERROR: syntax error at or near ")"
  Позиция: 20
	at java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:1.8.0_202]
	at java.util.concurrent.FutureTask.get(FutureTask.java:192) ~[na:1.8.0_202]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceInitializationCompletionListener.onApplicationEvent(DataSourceInitializedPublisher.java:148) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	... 16 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #2 of URL [file:/home/evgeniy/IdeaProjects/security-service/target/classes/data.sql]: INSERT INTO roles () VALUES (1, 'ADMIN'), (2, 'USER'); nested exception is org.postgresql.util.PSQLException: ERROR: syntax error at or near ")"
  Позиция: 20
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:622) ~[spring-jdbc-5.3.1.jar:5.3.1]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254) ~[spring-jdbc-5.3.1.jar:5.3.1]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:49) ~[spring-jdbc-5.3.1.jar:5.3.1]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:202) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.initSchema(DataSourceInitializer.java:119) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.onApplicationEvent(DataSourceInitializerInvoker.java:91) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.onApplicationEvent(DataSourceInitializerInvoker.java:38) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:203) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:196) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:161) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:426) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:383) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.publishEventIfRequired(DataSourceInitializedPublisher.java:110) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.access$300(DataSourceInitializedPublisher.java:55) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceSchemaCreatedPublisher.lambda$postProcessEntityManagerFactory$0(DataSourceInitializedPublisher.java:253) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[na:1.8.0_202]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_202]
	at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_202]
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near ")"
  Позиция: 20
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:473) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:393) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:322) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:308) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:284) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:279) ~[postgresql-42.2.18.jar:42.2.18]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-3.4.5.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-3.4.5.jar:na]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:601) ~[spring-jdbc-5.3.1.jar:5.3.1]
	... 19 common frames omitted

2021-03-23 00:35:08.595  INFO 25349 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 00:35:08.596  INFO 25349 --- [main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-03-23 00:35:08.616  INFO 25349 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 00:35:08.617  INFO 25349 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 00:35:08.638  INFO 25349 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 00:35:29.533  INFO 25464 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 25464 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 00:35:29.538 DEBUG 25464 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 00:35:29.539  INFO 25464 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 00:35:30.896  INFO 25464 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 00:35:30.949  INFO 25464 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 2 JPA repository interfaces.
2021-03-23 00:35:31.330  INFO 25464 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:31.333  INFO 25464 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:31.337  INFO 25464 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:31.341  INFO 25464 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:31.347  INFO 25464 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:31.348  INFO 25464 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:31.352  INFO 25464 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:31.369  INFO 25464 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:31.372  INFO 25464 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:31.373  INFO 25464 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:31.393  INFO 25464 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:31.394  INFO 25464 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:31.397  INFO 25464 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:31.398  INFO 25464 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:31.399  INFO 25464 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:31.408  INFO 25464 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:31.411  INFO 25464 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:31.417  INFO 25464 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:31.418  INFO 25464 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:31.419  INFO 25464 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:31.424  INFO 25464 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:31.431  INFO 25464 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:31.432  INFO 25464 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:31.434  INFO 25464 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:31.440  INFO 25464 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:31.453  INFO 25464 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:31.460  INFO 25464 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:31.461  INFO 25464 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:35:31.729  INFO 25464 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 00:35:31.737  INFO 25464 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 00:35:31.737  INFO 25464 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 00:35:31.807  INFO 25464 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 00:35:31.808  INFO 25464 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2129 ms
2021-03-23 00:35:32.264  INFO 25464 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 00:35:32.306  INFO 25464 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 00:35:32.348  INFO 25464 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 00:35:32.462  INFO 25464 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 00:35:32.558  INFO 25464 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 00:35:32.574  INFO 25464 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 00:35:32.574  INFO 25464 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 00:35:32.574  INFO 25464 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 00:35:32.574  INFO 25464 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 00:35:32.574  INFO 25464 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 00:35:32.646 DEBUG 25464 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 00:35:32.648 DEBUG 25464 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 00:35:32.648 DEBUG 25464 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 00:35:32.649 DEBUG 25464 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 00:35:32.650 DEBUG 25464 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('USER')] for Ant [pattern='/users/**']
2021-03-23 00:35:32.650 DEBUG 25464 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 00:35:32.694  INFO 25464 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2a097d77, org.springframework.security.web.context.SecurityContextPersistenceFilter@57c00115, org.springframework.security.web.header.HeaderWriterFilter@6ba060f3, org.springframework.security.web.authentication.logout.LogoutFilter@5b7aa898, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3f362135, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4fe533ff, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@542f6803, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@53c1179a, org.springframework.security.web.session.SessionManagementFilter@77bc2e16, org.springframework.security.web.access.ExceptionTranslationFilter@167381c7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5edacf20]
2021-03-23 00:35:32.903  INFO 25464 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 00:35:32.919  INFO 25464 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 00:35:33.536  WARN 25464 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:35:33.537  WARN 25464 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : relation "user_role" does not exist, skipping
2021-03-23 00:35:33.538  WARN 25464 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:35:33.538  WARN 25464 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : relation "user_role" does not exist, skipping
2021-03-23 00:35:33.539  WARN 25464 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:35:33.539  WARN 25464 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "roles" does not exist, skipping
2021-03-23 00:35:33.540  WARN 25464 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:35:33.540  WARN 25464 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "user_role" does not exist, skipping
2021-03-23 00:35:33.541  WARN 25464 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:35:33.541  WARN 25464 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "users" does not exist, skipping
2021-03-23 00:35:33.589  INFO 25464 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 00:35:33.601  INFO 25464 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 00:35:34.446  INFO 25464 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 00:35:35.073  INFO 25464 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 00:35:35.152  INFO 25464 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 00:35:35.155  INFO 25464 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2021-03-23 00:35:35.276  INFO 25464 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2021-03-23 00:35:35.294  INFO 25464 --- [main] com.ru.microservice.SecurityApplication  : Started SecurityApplication in 6.381 seconds (JVM running for 7.139)
2021-03-23 00:35:35.802  INFO 25464 --- [RMI TCP Connection(1)-192.168.0.16] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-03-23 00:35:35.802  INFO 25464 --- [RMI TCP Connection(1)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-03-23 00:35:35.804  INFO 25464 --- [RMI TCP Connection(1)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-03-23 00:35:53.891 DEBUG 25464 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /registration?
2021-03-23 00:35:53.895 DEBUG 25464 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:35:53.898 DEBUG 25464 --- [http-nio-8084-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:35:53.898 DEBUG 25464 --- [http-nio-8084-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 796205F94730845AF11D456D2607AA25
2021-03-23 00:35:53.905 DEBUG 25464 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /registration?] with attributes [permitAll]
2021-03-23 00:35:53.906 DEBUG 25464 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /registration?
2021-03-23 00:35:54.355 DEBUG 25464 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:35:54.364 DEBUG 25464 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:36:27.944 DEBUG 25464 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /registration
2021-03-23 00:36:27.945 DEBUG 25464 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:36:27.945 DEBUG 25464 --- [http-nio-8084-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:36:27.945 DEBUG 25464 --- [http-nio-8084-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 796205F94730845AF11D456D2607AA25
2021-03-23 00:36:27.948 DEBUG 25464 --- [http-nio-8084-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /registration] with attributes [permitAll]
2021-03-23 00:36:27.948 DEBUG 25464 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /registration
2021-03-23 00:36:28.184 DEBUG 25464 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:36:28.186 DEBUG 25464 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:36:28.194 DEBUG 25464 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 00:36:28.194 DEBUG 25464 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:36:28.194 DEBUG 25464 --- [http-nio-8084-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:36:28.195 DEBUG 25464 --- [http-nio-8084-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 796205F94730845AF11D456D2607AA25
2021-03-23 00:36:28.195 DEBUG 25464 --- [http-nio-8084-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 00:36:28.195 DEBUG 25464 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 00:36:28.203 DEBUG 25464 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:36:28.205 DEBUG 25464 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:36:34.529 DEBUG 25464 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 00:36:34.529 DEBUG 25464 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:36:34.693 DEBUG 25464 --- [http-nio-8084-exec-6] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.authentication.InternalAuthenticationServiceException
2021-03-23 00:36:34.697 ERROR 25464 --- [http-nio-8084-exec-6] w.a.UsernamePasswordAuthenticationFilter : An internal error occurred while trying to authenticate the user.

org.springframework.security.authentication.InternalAuthenticationServiceException: null
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:85) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:222) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93) [spring-boot-actuator-2.4.0.jar:2.4.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_202]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_202]
Caused by: java.lang.NullPointerException: null
	at com.ru.microservice.service.SecurityDetailsService.buildUserForAuthentication(SecurityDetailsService.java:44) ~[classes/:na]
	at com.ru.microservice.service.SecurityDetailsService.loadUserByUsername(SecurityDetailsService.java:31) ~[classes/:na]
	at com.ru.microservice.service.SecurityDetailsService$$FastClassBySpringCGLIB$$b75263eb.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371) ~[spring-tx-5.3.1.jar:5.3.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:134) ~[spring-tx-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691) ~[spring-aop-5.3.1.jar:5.3.1]
	at com.ru.microservice.service.SecurityDetailsService$$EnhancerBySpringCGLIB$$4f1f7f4a.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.4.1.jar:5.4.1]
	... 58 common frames omitted

2021-03-23 00:36:34.707 DEBUG 25464 --- [http-nio-8084-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /login?error=true
2021-03-23 00:36:34.708 DEBUG 25464 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 00:36:34.708 DEBUG 25464 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:36:34.716 DEBUG 25464 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /login?error=true
2021-03-23 00:36:34.716 DEBUG 25464 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:36:34.716 DEBUG 25464 --- [http-nio-8084-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:36:34.717 DEBUG 25464 --- [http-nio-8084-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login?error=true] with attributes [permitAll]
2021-03-23 00:36:34.717 DEBUG 25464 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /login?error=true
2021-03-23 00:36:34.724 DEBUG 25464 --- [http-nio-8084-exec-7] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:36:34.725 DEBUG 25464 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:36:37.789 DEBUG 25464 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /registration?
2021-03-23 00:36:37.789 DEBUG 25464 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:36:37.789 DEBUG 25464 --- [http-nio-8084-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:36:37.790 DEBUG 25464 --- [http-nio-8084-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /registration?] with attributes [permitAll]
2021-03-23 00:36:37.790 DEBUG 25464 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /registration?
2021-03-23 00:36:37.798 DEBUG 25464 --- [http-nio-8084-exec-8] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:36:37.799 DEBUG 25464 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:37:14.772 DEBUG 25464 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /registration
2021-03-23 00:37:14.773 DEBUG 25464 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:37:14.773 DEBUG 25464 --- [http-nio-8084-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:37:14.774 DEBUG 25464 --- [http-nio-8084-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /registration] with attributes [permitAll]
2021-03-23 00:37:14.774 DEBUG 25464 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /registration
2021-03-23 00:37:14.783 DEBUG 25464 --- [http-nio-8084-exec-10] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:37:14.783 DEBUG 25464 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:37:14.791 DEBUG 25464 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 00:37:14.791 DEBUG 25464 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:37:14.791 DEBUG 25464 --- [http-nio-8084-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:37:14.792 DEBUG 25464 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 00:37:14.792 DEBUG 25464 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 00:37:14.795 DEBUG 25464 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:37:14.798 DEBUG 25464 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:37:35.785 DEBUG 25464 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 00:37:35.786 DEBUG 25464 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:37:35.793 DEBUG 25464 --- [http-nio-8084-exec-3] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.authentication.InternalAuthenticationServiceException
2021-03-23 00:37:35.795 ERROR 25464 --- [http-nio-8084-exec-3] w.a.UsernamePasswordAuthenticationFilter : An internal error occurred while trying to authenticate the user.

org.springframework.security.authentication.InternalAuthenticationServiceException: null
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:85) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:222) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93) [spring-boot-actuator-2.4.0.jar:2.4.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_202]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_202]
Caused by: java.lang.NullPointerException: null
	at com.ru.microservice.service.SecurityDetailsService.buildUserForAuthentication(SecurityDetailsService.java:44) ~[classes/:na]
	at com.ru.microservice.service.SecurityDetailsService.loadUserByUsername(SecurityDetailsService.java:31) ~[classes/:na]
	at com.ru.microservice.service.SecurityDetailsService$$FastClassBySpringCGLIB$$b75263eb.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371) ~[spring-tx-5.3.1.jar:5.3.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:134) ~[spring-tx-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691) ~[spring-aop-5.3.1.jar:5.3.1]
	at com.ru.microservice.service.SecurityDetailsService$$EnhancerBySpringCGLIB$$4f1f7f4a.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.4.1.jar:5.4.1]
	... 58 common frames omitted

2021-03-23 00:37:35.796 DEBUG 25464 --- [http-nio-8084-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /login?error=true
2021-03-23 00:37:35.797 DEBUG 25464 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 00:37:35.797 DEBUG 25464 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:37:35.803 DEBUG 25464 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /login?error=true
2021-03-23 00:37:35.803 DEBUG 25464 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:37:35.803 DEBUG 25464 --- [http-nio-8084-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:37:35.804 DEBUG 25464 --- [http-nio-8084-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login?error=true] with attributes [permitAll]
2021-03-23 00:37:35.804 DEBUG 25464 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /login?error=true
2021-03-23 00:37:35.807 DEBUG 25464 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:37:35.808 DEBUG 25464 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:37:39.213 DEBUG 25464 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /registration?
2021-03-23 00:37:39.213 DEBUG 25464 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:37:39.213 DEBUG 25464 --- [http-nio-8084-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:37:39.214 DEBUG 25464 --- [http-nio-8084-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /registration?] with attributes [permitAll]
2021-03-23 00:37:39.214 DEBUG 25464 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /registration?
2021-03-23 00:37:39.223 DEBUG 25464 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:37:39.224 DEBUG 25464 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:38:13.165 DEBUG 25464 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /registration
2021-03-23 00:38:13.166 DEBUG 25464 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:38:13.166 DEBUG 25464 --- [http-nio-8084-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:38:13.167 DEBUG 25464 --- [http-nio-8084-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /registration] with attributes [permitAll]
2021-03-23 00:38:13.167 DEBUG 25464 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /registration
2021-03-23 00:38:13.366 DEBUG 25464 --- [http-nio-8084-exec-8] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:38:13.366 DEBUG 25464 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:38:13.375 DEBUG 25464 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /login?successMessage=%D0%92%D1%8B+%D1%83%D1%81%D0%BF%D0%B5%D1%88%D0%BD%D0%BE+%D0%B7%D0%B0%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D1%8B%21
2021-03-23 00:38:13.376 DEBUG 25464 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:38:13.376 DEBUG 25464 --- [http-nio-8084-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:38:13.376 DEBUG 25464 --- [http-nio-8084-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login?successMessage=%D0%92%D1%8B+%D1%83%D1%81%D0%BF%D0%B5%D1%88%D0%BD%D0%BE+%D0%B7%D0%B0%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D1%8B%21] with attributes [permitAll]
2021-03-23 00:38:13.377 DEBUG 25464 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /login?successMessage=%D0%92%D1%8B+%D1%83%D1%81%D0%BF%D0%B5%D1%88%D0%BD%D0%BE+%D0%B7%D0%B0%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D1%8B%21
2021-03-23 00:38:13.380 DEBUG 25464 --- [http-nio-8084-exec-9] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:38:13.381 DEBUG 25464 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:38:24.345 DEBUG 25464 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 00:38:24.345 DEBUG 25464 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:38:24.499 DEBUG 25464 --- [http-nio-8084-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 00:38:24.500 DEBUG 25464 --- [http-nio-8084-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 02CE8769CAA2898C761C4E36FF95C1E9
2021-03-23 00:38:24.501 DEBUG 25464 --- [http-nio-8084-exec-1] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=govno@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=02CE8769CAA2898C761C4E36FF95C1E9], Granted Authorities=[USER]]
2021-03-23 00:38:24.502 DEBUG 25464 --- [http-nio-8084-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /user/main
2021-03-23 00:38:24.503 DEBUG 25464 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=govno@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=02CE8769CAA2898C761C4E36FF95C1E9], Granted Authorities=[USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@620fb025]
2021-03-23 00:38:24.503 DEBUG 25464 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:38:24.512 DEBUG 25464 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /user/main
2021-03-23 00:38:24.512 DEBUG 25464 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=govno@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=02CE8769CAA2898C761C4E36FF95C1E9], Granted Authorities=[USER]]]
2021-03-23 00:38:24.512 DEBUG 25464 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=govno@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=02CE8769CAA2898C761C4E36FF95C1E9], Granted Authorities=[USER]]]
2021-03-23 00:38:24.513 DEBUG 25464 --- [http-nio-8084-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /user/main] with attributes [authenticated]
2021-03-23 00:38:24.513 DEBUG 25464 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /user/main
2021-03-23 00:38:24.524 DEBUG 25464 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:39:13.285 DEBUG 25464 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /logout?registration=
2021-03-23 00:39:13.286 DEBUG 25464 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=govno@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=02CE8769CAA2898C761C4E36FF95C1E9], Granted Authorities=[USER]]]
2021-03-23 00:39:13.286 DEBUG 25464 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=govno@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=02CE8769CAA2898C761C4E36FF95C1E9], Granted Authorities=[USER]]]
2021-03-23 00:39:13.287 DEBUG 25464 --- [http-nio-8084-exec-5] o.s.s.w.a.logout.LogoutFilter            : Logging out [UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=govno@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=02CE8769CAA2898C761C4E36FF95C1E9], Granted Authorities=[USER]]]
2021-03-23 00:39:13.287 DEBUG 25464 --- [http-nio-8084-exec-5] o.s.s.w.a.l.SecurityContextLogoutHandler : Invalidated session 12366100B48A73DEA8C902CE5B6FA557
2021-03-23 00:39:13.289 DEBUG 25464 --- [http-nio-8084-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /login
2021-03-23 00:39:13.289 DEBUG 25464 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 00:39:13.289 DEBUG 25464 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:39:13.298 DEBUG 25464 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 00:39:13.298 DEBUG 25464 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:39:13.298 DEBUG 25464 --- [http-nio-8084-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:39:13.298 DEBUG 25464 --- [http-nio-8084-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 12366100B48A73DEA8C902CE5B6FA557
2021-03-23 00:39:13.299 DEBUG 25464 --- [http-nio-8084-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 00:39:13.299 DEBUG 25464 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 00:39:13.302 DEBUG 25464 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:39:13.303 DEBUG 25464 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:39:29.029 DEBUG 25464 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 00:39:29.030 DEBUG 25464 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:39:29.036 DEBUG 25464 --- [http-nio-8084-exec-8] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.authentication.InternalAuthenticationServiceException
2021-03-23 00:39:29.039 ERROR 25464 --- [http-nio-8084-exec-8] w.a.UsernamePasswordAuthenticationFilter : An internal error occurred while trying to authenticate the user.

org.springframework.security.authentication.InternalAuthenticationServiceException: null
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:85) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:222) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93) [spring-boot-actuator-2.4.0.jar:2.4.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_202]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_202]
Caused by: java.lang.NullPointerException: null
	at com.ru.microservice.service.SecurityDetailsService.buildUserForAuthentication(SecurityDetailsService.java:44) ~[classes/:na]
	at com.ru.microservice.service.SecurityDetailsService.loadUserByUsername(SecurityDetailsService.java:31) ~[classes/:na]
	at com.ru.microservice.service.SecurityDetailsService$$FastClassBySpringCGLIB$$b75263eb.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371) ~[spring-tx-5.3.1.jar:5.3.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:134) ~[spring-tx-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691) ~[spring-aop-5.3.1.jar:5.3.1]
	at com.ru.microservice.service.SecurityDetailsService$$EnhancerBySpringCGLIB$$4f1f7f4a.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.4.1.jar:5.4.1]
	... 58 common frames omitted

2021-03-23 00:39:29.046 DEBUG 25464 --- [http-nio-8084-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /login?error=true
2021-03-23 00:39:29.046 DEBUG 25464 --- [http-nio-8084-exec-8] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 00:39:29.046 DEBUG 25464 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:39:29.052 DEBUG 25464 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /login?error=true
2021-03-23 00:39:29.052 DEBUG 25464 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:39:29.053 DEBUG 25464 --- [http-nio-8084-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:39:29.053 DEBUG 25464 --- [http-nio-8084-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login?error=true] with attributes [permitAll]
2021-03-23 00:39:29.053 DEBUG 25464 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /login?error=true
2021-03-23 00:39:29.057 DEBUG 25464 --- [http-nio-8084-exec-9] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:39:29.059 DEBUG 25464 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:40:10.619 DEBUG 25464 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 00:40:10.620 DEBUG 25464 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:40:10.626 DEBUG 25464 --- [http-nio-8084-exec-1] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.authentication.InternalAuthenticationServiceException
2021-03-23 00:40:10.628 ERROR 25464 --- [http-nio-8084-exec-1] w.a.UsernamePasswordAuthenticationFilter : An internal error occurred while trying to authenticate the user.

org.springframework.security.authentication.InternalAuthenticationServiceException: null
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:85) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:222) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93) [spring-boot-actuator-2.4.0.jar:2.4.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_202]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_202]
Caused by: java.lang.NullPointerException: null
	at com.ru.microservice.service.SecurityDetailsService.buildUserForAuthentication(SecurityDetailsService.java:44) ~[classes/:na]
	at com.ru.microservice.service.SecurityDetailsService.loadUserByUsername(SecurityDetailsService.java:31) ~[classes/:na]
	at com.ru.microservice.service.SecurityDetailsService$$FastClassBySpringCGLIB$$b75263eb.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371) ~[spring-tx-5.3.1.jar:5.3.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:134) ~[spring-tx-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691) ~[spring-aop-5.3.1.jar:5.3.1]
	at com.ru.microservice.service.SecurityDetailsService$$EnhancerBySpringCGLIB$$4f1f7f4a.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.4.1.jar:5.4.1]
	... 58 common frames omitted

2021-03-23 00:40:10.629 DEBUG 25464 --- [http-nio-8084-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /login?error=true
2021-03-23 00:40:10.629 DEBUG 25464 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 00:40:10.629 DEBUG 25464 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:40:10.638 DEBUG 25464 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login?error=true
2021-03-23 00:40:10.638 DEBUG 25464 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:40:10.638 DEBUG 25464 --- [http-nio-8084-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:40:10.638 DEBUG 25464 --- [http-nio-8084-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login?error=true] with attributes [permitAll]
2021-03-23 00:40:10.638 DEBUG 25464 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login?error=true
2021-03-23 00:40:10.641 DEBUG 25464 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:40:10.641 DEBUG 25464 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:40:21.534  INFO 25464 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 00:40:21.535  INFO 25464 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-03-23 00:40:21.557  INFO 25464 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 00:40:21.558  INFO 25464 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 00:40:21.576  INFO 25464 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 00:46:47.781  INFO 28101 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 28101 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 00:46:47.788 DEBUG 28101 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 00:46:47.788  INFO 28101 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 00:46:49.279  INFO 28101 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 00:46:49.336  INFO 28101 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 2 JPA repository interfaces.
2021-03-23 00:46:49.725  INFO 28101 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:46:49.730  INFO 28101 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:46:49.736  INFO 28101 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:46:49.743  INFO 28101 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:46:49.752  INFO 28101 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:46:49.754  INFO 28101 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:46:49.758  INFO 28101 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:46:49.772  INFO 28101 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:46:49.774  INFO 28101 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:46:49.776  INFO 28101 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:46:49.792  INFO 28101 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:46:49.793  INFO 28101 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:46:49.796  INFO 28101 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:46:49.798  INFO 28101 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:46:49.799  INFO 28101 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:46:49.807  INFO 28101 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:46:49.810  INFO 28101 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:46:49.816  INFO 28101 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:46:49.817  INFO 28101 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:46:49.818  INFO 28101 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:46:49.823  INFO 28101 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:46:49.830  INFO 28101 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:46:49.831  INFO 28101 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:46:49.832  INFO 28101 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:46:49.838  INFO 28101 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:46:49.851  INFO 28101 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:46:49.857  INFO 28101 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:46:49.859  INFO 28101 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:46:50.197  INFO 28101 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 00:46:50.205  INFO 28101 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 00:46:50.206  INFO 28101 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 00:46:50.279  INFO 28101 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 00:46:50.279  INFO 28101 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2371 ms
2021-03-23 00:46:50.755  INFO 28101 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 00:46:50.797  INFO 28101 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 00:46:50.843  INFO 28101 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 00:46:50.962  INFO 28101 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 00:46:51.061  INFO 28101 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 00:46:51.085  INFO 28101 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 00:46:51.085  INFO 28101 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 00:46:51.085  INFO 28101 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 00:46:51.086  INFO 28101 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 00:46:51.086  INFO 28101 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 00:46:51.166 DEBUG 28101 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 00:46:51.168 DEBUG 28101 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 00:46:51.168 DEBUG 28101 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 00:46:51.169 DEBUG 28101 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 00:46:51.170 DEBUG 28101 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('USER')] for Ant [pattern='/users/**']
2021-03-23 00:46:51.170 DEBUG 28101 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 00:46:51.214  INFO 28101 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3811510, org.springframework.security.web.context.SecurityContextPersistenceFilter@1ee27d73, org.springframework.security.web.header.HeaderWriterFilter@4e83a98, org.springframework.security.web.authentication.logout.LogoutFilter@2fd954f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@31b7d869, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@542f6803, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e60b459, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@24eeac69, org.springframework.security.web.session.SessionManagementFilter@71b639d0, org.springframework.security.web.access.ExceptionTranslationFilter@20a7953c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@49fa1d74]
2021-03-23 00:46:51.399  INFO 28101 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 00:46:51.415  INFO 28101 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 00:46:52.044  WARN 28101 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:46:52.044  WARN 28101 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : relation "user_role" does not exist, skipping
2021-03-23 00:46:52.045  WARN 28101 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:46:52.045  WARN 28101 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : relation "user_role" does not exist, skipping
2021-03-23 00:46:52.046  WARN 28101 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:46:52.047  WARN 28101 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "roles" does not exist, skipping
2021-03-23 00:46:52.047  WARN 28101 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:46:52.048  WARN 28101 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "user_role" does not exist, skipping
2021-03-23 00:46:52.048  WARN 28101 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:46:52.048  WARN 28101 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "users" does not exist, skipping
2021-03-23 00:46:52.093  INFO 28101 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 00:46:52.104  INFO 28101 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 00:46:52.904  INFO 28101 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 00:46:53.531  INFO 28101 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 00:46:53.606  INFO 28101 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 00:46:53.608  INFO 28101 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2021-03-23 00:46:53.737  INFO 28101 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2021-03-23 00:46:53.754  INFO 28101 --- [main] com.ru.microservice.SecurityApplication  : Started SecurityApplication in 6.572 seconds (JVM running for 7.371)
2021-03-23 00:46:54.263  INFO 28101 --- [RMI TCP Connection(2)-192.168.0.16] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-03-23 00:46:54.264  INFO 28101 --- [RMI TCP Connection(2)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-03-23 00:46:54.266  INFO 28101 --- [RMI TCP Connection(2)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-03-23 00:47:07.214  INFO 28101 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 00:47:07.214  INFO 28101 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-03-23 00:47:07.231  INFO 28101 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 00:47:07.232  INFO 28101 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 00:47:07.251  INFO 28101 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 00:47:13.423  INFO 28234 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 28234 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 00:47:13.428 DEBUG 28234 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 00:47:13.429  INFO 28234 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 00:47:14.777  INFO 28234 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 00:47:14.830  INFO 28234 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 2 JPA repository interfaces.
2021-03-23 00:47:15.233  INFO 28234 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:47:15.236  INFO 28234 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:47:15.241  INFO 28234 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:47:15.245  INFO 28234 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:47:15.252  INFO 28234 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:47:15.253  INFO 28234 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:47:15.258  INFO 28234 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:47:15.272  INFO 28234 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:47:15.275  INFO 28234 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:47:15.277  INFO 28234 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:47:15.295  INFO 28234 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:47:15.296  INFO 28234 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:47:15.299  INFO 28234 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:47:15.300  INFO 28234 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:47:15.302  INFO 28234 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:47:15.311  INFO 28234 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:47:15.314  INFO 28234 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:47:15.321  INFO 28234 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:47:15.322  INFO 28234 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:47:15.324  INFO 28234 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:47:15.330  INFO 28234 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:47:15.338  INFO 28234 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:47:15.339  INFO 28234 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:47:15.341  INFO 28234 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:47:15.352  INFO 28234 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:47:15.384  INFO 28234 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:47:15.390  INFO 28234 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:47:15.392  INFO 28234 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 00:47:15.664  INFO 28234 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 00:47:15.676  INFO 28234 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 00:47:15.676  INFO 28234 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 00:47:15.759  INFO 28234 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 00:47:15.760  INFO 28234 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2259 ms
2021-03-23 00:47:16.293  INFO 28234 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 00:47:16.335  INFO 28234 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 00:47:16.380  INFO 28234 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 00:47:16.501  INFO 28234 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 00:47:16.600  INFO 28234 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 00:47:16.616  INFO 28234 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 00:47:16.617  INFO 28234 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 00:47:16.617  INFO 28234 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 00:47:16.617  INFO 28234 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 00:47:16.618  INFO 28234 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 00:47:16.693 DEBUG 28234 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 00:47:16.696 DEBUG 28234 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 00:47:16.696 DEBUG 28234 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 00:47:16.696 DEBUG 28234 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 00:47:16.697 DEBUG 28234 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('USER')] for Ant [pattern='/users/**']
2021-03-23 00:47:16.697 DEBUG 28234 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 00:47:16.727  INFO 28234 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@748f93bb, org.springframework.security.web.context.SecurityContextPersistenceFilter@5583098b, org.springframework.security.web.header.HeaderWriterFilter@18a25bbd, org.springframework.security.web.authentication.logout.LogoutFilter@1eff3cfb, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6d2a2560, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@53a84ff4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@40230eb9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7f2d31af, org.springframework.security.web.session.SessionManagementFilter@1ee27d73, org.springframework.security.web.access.ExceptionTranslationFilter@4fe533ff, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6bc24e72]
2021-03-23 00:47:16.984  INFO 28234 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 00:47:16.997  INFO 28234 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 00:47:17.666  WARN 28234 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:47:17.666  WARN 28234 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : relation "user_role" does not exist, skipping
2021-03-23 00:47:17.667  WARN 28234 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:47:17.667  WARN 28234 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : relation "user_role" does not exist, skipping
2021-03-23 00:47:17.668  WARN 28234 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:47:17.669  WARN 28234 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "roles" does not exist, skipping
2021-03-23 00:47:17.669  WARN 28234 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:47:17.670  WARN 28234 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "user_role" does not exist, skipping
2021-03-23 00:47:17.670  WARN 28234 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 00:47:17.671  WARN 28234 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "users" does not exist, skipping
2021-03-23 00:47:17.713  INFO 28234 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 00:47:17.723  INFO 28234 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 00:47:18.537  INFO 28234 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 00:47:19.201  INFO 28234 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 00:47:19.280  INFO 28234 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 00:47:19.282  INFO 28234 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2021-03-23 00:47:19.412  INFO 28234 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2021-03-23 00:47:19.429  INFO 28234 --- [main] com.ru.microservice.SecurityApplication  : Started SecurityApplication in 6.587 seconds (JVM running for 7.351)
2021-03-23 00:47:19.797  INFO 28234 --- [RMI TCP Connection(2)-192.168.0.16] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-03-23 00:47:19.798  INFO 28234 --- [RMI TCP Connection(2)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-03-23 00:47:19.802  INFO 28234 --- [RMI TCP Connection(2)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2021-03-23 00:47:28.529 DEBUG 28234 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /registration?
2021-03-23 00:47:28.534 DEBUG 28234 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:47:28.537 DEBUG 28234 --- [http-nio-8084-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:47:28.538 DEBUG 28234 --- [http-nio-8084-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 1AE20E1F65D62E8234687DB4EB5D206C
2021-03-23 00:47:28.544 DEBUG 28234 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /registration?] with attributes [permitAll]
2021-03-23 00:47:28.545 DEBUG 28234 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /registration?
2021-03-23 00:47:28.945 DEBUG 28234 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:47:28.953 DEBUG 28234 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:47:47.289 DEBUG 28234 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /registration
2021-03-23 00:47:47.290 DEBUG 28234 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:47:47.290 DEBUG 28234 --- [http-nio-8084-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:47:47.290 DEBUG 28234 --- [http-nio-8084-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 1AE20E1F65D62E8234687DB4EB5D206C
2021-03-23 00:47:47.291 DEBUG 28234 --- [http-nio-8084-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /registration] with attributes [permitAll]
2021-03-23 00:47:47.291 DEBUG 28234 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /registration
2021-03-23 00:47:47.794 DEBUG 28234 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:47:47.795 DEBUG 28234 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:47:47.807 DEBUG 28234 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /login?successMessage=%D0%92%D1%8B+%D1%83%D1%81%D0%BF%D0%B5%D1%88%D0%BD%D0%BE+%D0%B7%D0%B0%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D1%8B%21
2021-03-23 00:47:47.807 DEBUG 28234 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:47:47.807 DEBUG 28234 --- [http-nio-8084-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:47:47.807 DEBUG 28234 --- [http-nio-8084-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 1AE20E1F65D62E8234687DB4EB5D206C
2021-03-23 00:47:47.808 DEBUG 28234 --- [http-nio-8084-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login?successMessage=%D0%92%D1%8B+%D1%83%D1%81%D0%BF%D0%B5%D1%88%D0%BD%D0%BE+%D0%B7%D0%B0%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D1%8B%21] with attributes [permitAll]
2021-03-23 00:47:47.808 DEBUG 28234 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /login?successMessage=%D0%92%D1%8B+%D1%83%D1%81%D0%BF%D0%B5%D1%88%D0%BD%D0%BE+%D0%B7%D0%B0%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D1%8B%21
2021-03-23 00:47:47.817 DEBUG 28234 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:47:47.819 DEBUG 28234 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:47:55.961 DEBUG 28234 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 00:47:55.962 DEBUG 28234 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:47:56.256 DEBUG 28234 --- [http-nio-8084-exec-6] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 00:47:56.258 DEBUG 28234 --- [http-nio-8084-exec-6] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[USER]]
2021-03-23 00:47:56.260 DEBUG 28234 --- [http-nio-8084-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /user/main
2021-03-23 00:47:56.271 DEBUG 28234 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2021-03-23 00:47:56.272 DEBUG 28234 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@341ad479]
2021-03-23 00:47:56.273 DEBUG 28234 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:47:56.281 DEBUG 28234 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /user/main
2021-03-23 00:47:56.282 DEBUG 28234 --- [http-nio-8084-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 00:47:56.282 DEBUG 28234 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 00:47:56.283 DEBUG 28234 --- [http-nio-8084-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /user/main] with attributes [authenticated]
2021-03-23 00:47:56.283 DEBUG 28234 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /user/main
2021-03-23 00:47:56.295 DEBUG 28234 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:48:19.668 DEBUG 28234 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /logout?registration=
2021-03-23 00:48:19.668 DEBUG 28234 --- [http-nio-8084-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 00:48:19.669 DEBUG 28234 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 00:48:19.669 DEBUG 28234 --- [http-nio-8084-exec-9] o.s.s.w.a.logout.LogoutFilter            : Logging out [UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 00:48:19.670 DEBUG 28234 --- [http-nio-8084-exec-9] o.s.s.w.a.l.SecurityContextLogoutHandler : Invalidated session AC29EBA322BB68BBFFB651D832BDD1EA
2021-03-23 00:48:19.671 DEBUG 28234 --- [http-nio-8084-exec-9] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /login
2021-03-23 00:48:19.672 DEBUG 28234 --- [http-nio-8084-exec-9] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 00:48:19.672 DEBUG 28234 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:48:19.678 DEBUG 28234 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 00:48:19.679 DEBUG 28234 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:48:19.679 DEBUG 28234 --- [http-nio-8084-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:48:19.679 DEBUG 28234 --- [http-nio-8084-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id AC29EBA322BB68BBFFB651D832BDD1EA
2021-03-23 00:48:19.680 DEBUG 28234 --- [http-nio-8084-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 00:48:19.680 DEBUG 28234 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 00:48:19.683 DEBUG 28234 --- [http-nio-8084-exec-10] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:48:19.684 DEBUG 28234 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:48:20.626 DEBUG 28234 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /registration?
2021-03-23 00:48:20.626 DEBUG 28234 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:48:20.626 DEBUG 28234 --- [http-nio-8084-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:48:20.626 DEBUG 28234 --- [http-nio-8084-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id AC29EBA322BB68BBFFB651D832BDD1EA
2021-03-23 00:48:20.627 DEBUG 28234 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /registration?] with attributes [permitAll]
2021-03-23 00:48:20.627 DEBUG 28234 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /registration?
2021-03-23 00:48:20.634 DEBUG 28234 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:48:20.635 DEBUG 28234 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:49:00.042 DEBUG 28234 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /registration
2021-03-23 00:49:00.042 DEBUG 28234 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:49:00.042 DEBUG 28234 --- [http-nio-8084-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:49:00.042 DEBUG 28234 --- [http-nio-8084-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id AC29EBA322BB68BBFFB651D832BDD1EA
2021-03-23 00:49:00.043 DEBUG 28234 --- [http-nio-8084-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /registration] with attributes [permitAll]
2021-03-23 00:49:00.043 DEBUG 28234 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /registration
2021-03-23 00:49:00.204 DEBUG 28234 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:49:00.204 DEBUG 28234 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:49:00.213 DEBUG 28234 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /login?successMessage=%D0%92%D1%8B+%D1%83%D1%81%D0%BF%D0%B5%D1%88%D0%BD%D0%BE+%D0%B7%D0%B0%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D1%8B%21
2021-03-23 00:49:00.213 DEBUG 28234 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:49:00.213 DEBUG 28234 --- [http-nio-8084-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:49:00.214 DEBUG 28234 --- [http-nio-8084-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id AC29EBA322BB68BBFFB651D832BDD1EA
2021-03-23 00:49:00.214 DEBUG 28234 --- [http-nio-8084-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login?successMessage=%D0%92%D1%8B+%D1%83%D1%81%D0%BF%D0%B5%D1%88%D0%BD%D0%BE+%D0%B7%D0%B0%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D1%8B%21] with attributes [permitAll]
2021-03-23 00:49:00.214 DEBUG 28234 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /login?successMessage=%D0%92%D1%8B+%D1%83%D1%81%D0%BF%D0%B5%D1%88%D0%BD%D0%BE+%D0%B7%D0%B0%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D1%8B%21
2021-03-23 00:49:00.218 DEBUG 28234 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:49:00.219 DEBUG 28234 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:49:08.953 DEBUG 28234 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 00:49:08.953 DEBUG 28234 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:49:09.094 DEBUG 28234 --- [http-nio-8084-exec-5] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 00:49:09.094 DEBUG 28234 --- [http-nio-8084-exec-5] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN]]
2021-03-23 00:49:09.095 DEBUG 28234 --- [http-nio-8084-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /user/main
2021-03-23 00:49:09.095 DEBUG 28234 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2021-03-23 00:49:09.095 DEBUG 28234 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@44aa8d99]
2021-03-23 00:49:09.095 DEBUG 28234 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:49:09.105 DEBUG 28234 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /user/main
2021-03-23 00:49:09.105 DEBUG 28234 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 00:49:09.105 DEBUG 28234 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 00:49:09.106 DEBUG 28234 --- [http-nio-8084-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /user/main] with attributes [authenticated]
2021-03-23 00:49:09.106 DEBUG 28234 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /user/main
2021-03-23 00:49:09.114 DEBUG 28234 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:50:27.496 DEBUG 28234 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /admin/home
2021-03-23 00:50:27.496 DEBUG 28234 --- [http-nio-8084-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 00:50:27.496 DEBUG 28234 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 00:50:27.497 DEBUG 28234 --- [http-nio-8084-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /admin/home] with attributes [hasAuthority('ADMIN')]
2021-03-23 00:50:27.497 DEBUG 28234 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /admin/home
2021-03-23 00:50:27.510 DEBUG 28234 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:50:31.119 DEBUG 28234 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /logout?registration=
2021-03-23 00:50:31.119 DEBUG 28234 --- [http-nio-8084-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 00:50:31.119 DEBUG 28234 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 00:50:31.120 DEBUG 28234 --- [http-nio-8084-exec-10] o.s.s.w.a.logout.LogoutFilter            : Logging out [UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 00:50:31.120 DEBUG 28234 --- [http-nio-8084-exec-10] o.s.s.w.a.l.SecurityContextLogoutHandler : Invalidated session DE08EBC8B863931BC887AFD670C1D05C
2021-03-23 00:50:31.120 DEBUG 28234 --- [http-nio-8084-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /login
2021-03-23 00:50:31.121 DEBUG 28234 --- [http-nio-8084-exec-10] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 00:50:31.121 DEBUG 28234 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:50:31.129 DEBUG 28234 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 00:50:31.129 DEBUG 28234 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:50:31.130 DEBUG 28234 --- [http-nio-8084-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 00:50:31.130 DEBUG 28234 --- [http-nio-8084-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id DE08EBC8B863931BC887AFD670C1D05C
2021-03-23 00:50:31.130 DEBUG 28234 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 00:50:31.131 DEBUG 28234 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 00:50:31.133 DEBUG 28234 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 00:50:31.134 DEBUG 28234 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:50:44.838 DEBUG 28234 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 00:50:44.838 DEBUG 28234 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 00:50:44.982 DEBUG 28234 --- [http-nio-8084-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 00:50:44.983 DEBUG 28234 --- [http-nio-8084-exec-3] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[USER]]
2021-03-23 00:50:44.983 DEBUG 28234 --- [http-nio-8084-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /user/main
2021-03-23 00:50:44.983 DEBUG 28234 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2021-03-23 00:50:44.984 DEBUG 28234 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@3fe4b3b]
2021-03-23 00:50:44.984 DEBUG 28234 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:50:44.991 DEBUG 28234 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /user/main
2021-03-23 00:50:44.991 DEBUG 28234 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 00:50:44.991 DEBUG 28234 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 00:50:44.992 DEBUG 28234 --- [http-nio-8084-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /user/main] with attributes [authenticated]
2021-03-23 00:50:44.992 DEBUG 28234 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /user/main
2021-03-23 00:50:44.998 DEBUG 28234 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:50:53.370 DEBUG 28234 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /admin/home
2021-03-23 00:50:53.371 DEBUG 28234 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 00:50:53.371 DEBUG 28234 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 00:50:53.378 DEBUG 28234 --- [http-nio-8084-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /admin/home] with attributes [hasAuthority('ADMIN')]
2021-03-23 00:50:53.380 DEBUG 28234 --- [http-nio-8084-exec-6] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2021-03-23 00:50:53.380 DEBUG 28234 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:50:53.383 DEBUG 28234 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /error
2021-03-23 00:50:53.383 DEBUG 28234 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 00:50:53.383 DEBUG 28234 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 00:50:53.383 DEBUG 28234 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /error
2021-03-23 00:50:53.401 DEBUG 28234 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:51:08.272 DEBUG 28234 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /login?
2021-03-23 00:51:08.273 DEBUG 28234 --- [http-nio-8084-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 00:51:08.273 DEBUG 28234 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 00:51:08.274 DEBUG 28234 --- [http-nio-8084-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login?] with attributes [permitAll]
2021-03-23 00:51:08.274 DEBUG 28234 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /login?
2021-03-23 00:51:08.278 DEBUG 28234 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:51:28.450 DEBUG 28234 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 00:51:28.450 DEBUG 28234 --- [http-nio-8084-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 00:51:28.451 DEBUG 28234 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 00:51:28.590 DEBUG 28234 --- [http-nio-8084-exec-10] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 00:51:28.590 DEBUG 28234 --- [http-nio-8084-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from EAEA0D4AA01EC7F5F97B8E1A02593F38
2021-03-23 00:51:28.591 DEBUG 28234 --- [http-nio-8084-exec-10] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EAEA0D4AA01EC7F5F97B8E1A02593F38], Granted Authorities=[ADMIN]]
2021-03-23 00:51:28.591 DEBUG 28234 --- [http-nio-8084-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /user/main
2021-03-23 00:51:28.591 DEBUG 28234 --- [http-nio-8084-exec-10] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EAEA0D4AA01EC7F5F97B8E1A02593F38], Granted Authorities=[ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@3fe4b3b]
2021-03-23 00:51:28.592 DEBUG 28234 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:51:28.603 DEBUG 28234 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /user/main
2021-03-23 00:51:28.603 DEBUG 28234 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EAEA0D4AA01EC7F5F97B8E1A02593F38], Granted Authorities=[ADMIN]]]
2021-03-23 00:51:28.603 DEBUG 28234 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EAEA0D4AA01EC7F5F97B8E1A02593F38], Granted Authorities=[ADMIN]]]
2021-03-23 00:51:28.604 DEBUG 28234 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /user/main] with attributes [authenticated]
2021-03-23 00:51:28.604 DEBUG 28234 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /user/main
2021-03-23 00:51:28.610 DEBUG 28234 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:51:45.040 DEBUG 28234 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /admin/home
2021-03-23 00:51:45.040 DEBUG 28234 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EAEA0D4AA01EC7F5F97B8E1A02593F38], Granted Authorities=[ADMIN]]]
2021-03-23 00:51:45.040 DEBUG 28234 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=EAEA0D4AA01EC7F5F97B8E1A02593F38], Granted Authorities=[ADMIN]]]
2021-03-23 00:51:45.041 DEBUG 28234 --- [http-nio-8084-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /admin/home] with attributes [hasAuthority('ADMIN')]
2021-03-23 00:51:45.041 DEBUG 28234 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /admin/home
2021-03-23 00:51:45.047 DEBUG 28234 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 00:52:55.609  INFO 28234 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 00:52:55.609  INFO 28234 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-03-23 00:52:55.631  INFO 28234 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 00:52:55.631  INFO 28234 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 00:52:55.655  INFO 28234 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 14:44:47.517  INFO 15830 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 15830 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 14:44:47.535 DEBUG 15830 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 14:44:47.536  INFO 15830 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 14:44:48.931  INFO 15830 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 14:44:48.996  INFO 15830 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54 ms. Found 2 JPA repository interfaces.
2021-03-23 14:44:49.643  INFO 15830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 14:44:49.646  INFO 15830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 14:44:49.650  INFO 15830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 14:44:49.656  INFO 15830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 14:44:49.664  INFO 15830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 14:44:49.665  INFO 15830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 14:44:49.670  INFO 15830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 14:44:49.685  INFO 15830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 14:44:49.688  INFO 15830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 14:44:49.690  INFO 15830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 14:44:49.707  INFO 15830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 14:44:49.708  INFO 15830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 14:44:49.711  INFO 15830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 14:44:49.713  INFO 15830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 14:44:49.714  INFO 15830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 14:44:49.724  INFO 15830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 14:44:49.728  INFO 15830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 14:44:49.736  INFO 15830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 14:44:49.737  INFO 15830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 14:44:49.738  INFO 15830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 14:44:49.743  INFO 15830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 14:44:49.750  INFO 15830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 14:44:49.752  INFO 15830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 14:44:49.753  INFO 15830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 14:44:49.759  INFO 15830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 14:44:49.774  INFO 15830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 14:44:49.782  INFO 15830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 14:44:49.783  INFO 15830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 14:44:50.152  INFO 15830 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 14:44:50.162  INFO 15830 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 14:44:50.163  INFO 15830 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 14:44:50.272  INFO 15830 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 14:44:50.272  INFO 15830 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2610 ms
2021-03-23 14:44:50.829  INFO 15830 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 14:44:50.891  INFO 15830 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 14:44:50.958  INFO 15830 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 14:44:51.139  INFO 15830 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 14:44:51.229  INFO 15830 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 14:44:51.229  INFO 15830 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 14:44:51.230  INFO 15830 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 14:44:51.230  INFO 15830 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 14:44:51.230  INFO 15830 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 14:44:51.262  INFO 15830 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 14:44:51.312 DEBUG 15830 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 14:44:51.316 DEBUG 15830 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 14:44:51.317 DEBUG 15830 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 14:44:51.317 DEBUG 15830 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 14:44:51.319 DEBUG 15830 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('USER')] for Ant [pattern='/users/**']
2021-03-23 14:44:51.319 DEBUG 15830 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 14:44:51.363  INFO 15830 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7650ded6, org.springframework.security.web.context.SecurityContextPersistenceFilter@4fe533ff, org.springframework.security.web.header.HeaderWriterFilter@77bc2e16, org.springframework.security.web.authentication.logout.LogoutFilter@7c0777b5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6bc24e72, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4e83a98, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5807efad, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5034f5dd, org.springframework.security.web.session.SessionManagementFilter@20a7953c, org.springframework.security.web.access.ExceptionTranslationFilter@56382bc9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7e307087]
2021-03-23 14:44:51.667  INFO 15830 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 14:44:51.682  INFO 15830 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 14:44:52.617  WARN 15830 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 14:44:52.617  WARN 15830 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : relation "user_role" does not exist, skipping
2021-03-23 14:44:52.619  WARN 15830 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 14:44:52.619  WARN 15830 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : relation "user_role" does not exist, skipping
2021-03-23 14:44:52.621  WARN 15830 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 14:44:52.621  WARN 15830 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "roles" does not exist, skipping
2021-03-23 14:44:52.622  WARN 15830 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 14:44:52.623  WARN 15830 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "user_role" does not exist, skipping
2021-03-23 14:44:52.624  WARN 15830 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 14:44:52.624  WARN 15830 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : table "users" does not exist, skipping
2021-03-23 14:44:52.686  INFO 15830 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 14:44:52.697  INFO 15830 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 14:44:53.606  INFO 15830 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 14:44:54.256  INFO 15830 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 14:44:54.336  INFO 15830 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 14:44:54.339  INFO 15830 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2021-03-23 14:44:54.464  INFO 15830 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2021-03-23 14:44:54.481  INFO 15830 --- [main] com.ru.microservice.SecurityApplication  : Started SecurityApplication in 7.827 seconds (JVM running for 9.034)
2021-03-23 14:44:54.661  INFO 15830 --- [RMI TCP Connection(1)-192.168.0.16] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-03-23 14:44:54.661  INFO 15830 --- [RMI TCP Connection(1)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-03-23 14:44:54.663  INFO 15830 --- [RMI TCP Connection(1)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-03-23 14:45:18.958 DEBUG 15830 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /
2021-03-23 14:45:18.962 DEBUG 15830 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 14:45:18.966 DEBUG 15830 --- [http-nio-8084-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 14:45:18.967 DEBUG 15830 --- [http-nio-8084-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 98266F06F40555E61671F4F6DED16CB6
2021-03-23 14:45:18.974 DEBUG 15830 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /] with attributes [permitAll]
2021-03-23 14:45:18.975 DEBUG 15830 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /
2021-03-23 14:45:19.398 DEBUG 15830 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 14:45:19.405 DEBUG 15830 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 14:45:23.888 DEBUG 15830 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 14:45:23.888 DEBUG 15830 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 14:45:23.889 DEBUG 15830 --- [http-nio-8084-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 14:45:23.889 DEBUG 15830 --- [http-nio-8084-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 98266F06F40555E61671F4F6DED16CB6
2021-03-23 14:45:23.890 DEBUG 15830 --- [http-nio-8084-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 14:45:23.891 DEBUG 15830 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 14:45:23.912 DEBUG 15830 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 14:45:23.914 DEBUG 15830 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 14:45:38.167 DEBUG 15830 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 14:45:38.167 DEBUG 15830 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 14:45:38.455 DEBUG 15830 --- [http-nio-8084-exec-5] .s.a.DefaultAuthenticationEventPublisher : No event was found for the exception org.springframework.security.authentication.InternalAuthenticationServiceException
2021-03-23 14:45:38.458 ERROR 15830 --- [http-nio-8084-exec-5] w.a.UsernamePasswordAuthenticationFilter : An internal error occurred while trying to authenticate the user.

org.springframework.security.authentication.InternalAuthenticationServiceException: null
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:108) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:133) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:85) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:222) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) [spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93) [spring-boot-actuator-2.4.0.jar:2.4.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_202]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_202]
Caused by: java.lang.NullPointerException: null
	at com.ru.microservice.service.SecurityDetailsService.loadUserByUsername(SecurityDetailsService.java:30) ~[classes/:na]
	at com.ru.microservice.service.SecurityDetailsService$$FastClassBySpringCGLIB$$b75263eb.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371) ~[spring-tx-5.3.1.jar:5.3.1]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:134) ~[spring-tx-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749) ~[spring-aop-5.3.1.jar:5.3.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691) ~[spring-aop-5.3.1.jar:5.3.1]
	at com.ru.microservice.service.SecurityDetailsService$$EnhancerBySpringCGLIB$$fccbea7f.loadUserByUsername(<generated>) ~[classes/:na]
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:93) ~[spring-security-core-5.4.1.jar:5.4.1]
	... 58 common frames omitted

2021-03-23 14:45:38.471 DEBUG 15830 --- [http-nio-8084-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /login?error=true
2021-03-23 14:45:38.471 DEBUG 15830 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 14:45:38.471 DEBUG 15830 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 14:45:38.478 DEBUG 15830 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /login?error=true
2021-03-23 14:45:38.478 DEBUG 15830 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 14:45:38.479 DEBUG 15830 --- [http-nio-8084-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 14:45:38.479 DEBUG 15830 --- [http-nio-8084-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login?error=true] with attributes [permitAll]
2021-03-23 14:45:38.480 DEBUG 15830 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /login?error=true
2021-03-23 14:45:38.485 DEBUG 15830 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 14:45:38.486 DEBUG 15830 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 14:46:00.453 DEBUG 15830 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /registration?
2021-03-23 14:46:00.454 DEBUG 15830 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 14:46:00.454 DEBUG 15830 --- [http-nio-8084-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 14:46:00.454 DEBUG 15830 --- [http-nio-8084-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /registration?] with attributes [permitAll]
2021-03-23 14:46:00.455 DEBUG 15830 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /registration?
2021-03-23 14:46:00.494 DEBUG 15830 --- [http-nio-8084-exec-8] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 14:46:00.495 DEBUG 15830 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 14:46:35.088 DEBUG 15830 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /registration
2021-03-23 14:46:35.088 DEBUG 15830 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 14:46:35.088 DEBUG 15830 --- [http-nio-8084-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 14:46:35.089 DEBUG 15830 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /registration] with attributes [permitAll]
2021-03-23 14:46:35.089 DEBUG 15830 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /registration
2021-03-23 14:46:35.442 DEBUG 15830 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 14:46:35.443 DEBUG 15830 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 14:46:35.454 DEBUG 15830 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login?successMessage=%D0%92%D1%8B+%D1%83%D1%81%D0%BF%D0%B5%D1%88%D0%BD%D0%BE+%D0%B7%D0%B0%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D1%8B%21
2021-03-23 14:46:35.454 DEBUG 15830 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 14:46:35.454 DEBUG 15830 --- [http-nio-8084-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 14:46:35.455 DEBUG 15830 --- [http-nio-8084-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login?successMessage=%D0%92%D1%8B+%D1%83%D1%81%D0%BF%D0%B5%D1%88%D0%BD%D0%BE+%D0%B7%D0%B0%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D1%8B%21] with attributes [permitAll]
2021-03-23 14:46:35.455 DEBUG 15830 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login?successMessage=%D0%92%D1%8B+%D1%83%D1%81%D0%BF%D0%B5%D1%88%D0%BD%D0%BE+%D0%B7%D0%B0%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D1%8B%21
2021-03-23 14:46:35.458 DEBUG 15830 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 14:46:35.459 DEBUG 15830 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 14:47:21.402 DEBUG 15830 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 14:47:21.402 DEBUG 15830 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 14:47:21.556 DEBUG 15830 --- [http-nio-8084-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 14:47:21.558 DEBUG 15830 --- [http-nio-8084-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from BDD8F0456C36AA58D60C2BA3199A010F
2021-03-23 14:47:21.559 DEBUG 15830 --- [http-nio-8084-exec-4] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BDD8F0456C36AA58D60C2BA3199A010F], Granted Authorities=[ADMIN]]
2021-03-23 14:47:21.561 DEBUG 15830 --- [http-nio-8084-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /user/main
2021-03-23 14:47:21.561 DEBUG 15830 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BDD8F0456C36AA58D60C2BA3199A010F], Granted Authorities=[ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@3a824bbf]
2021-03-23 14:47:21.562 DEBUG 15830 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 14:47:21.570 DEBUG 15830 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /user/main
2021-03-23 14:47:21.570 DEBUG 15830 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BDD8F0456C36AA58D60C2BA3199A010F], Granted Authorities=[ADMIN]]]
2021-03-23 14:47:21.570 DEBUG 15830 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BDD8F0456C36AA58D60C2BA3199A010F], Granted Authorities=[ADMIN]]]
2021-03-23 14:47:21.571 DEBUG 15830 --- [http-nio-8084-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /user/main] with attributes [authenticated]
2021-03-23 14:47:21.571 DEBUG 15830 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /user/main
2021-03-23 14:47:21.585 DEBUG 15830 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 14:47:32.796 DEBUG 15830 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /admin/home
2021-03-23 14:47:32.796 DEBUG 15830 --- [http-nio-8084-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BDD8F0456C36AA58D60C2BA3199A010F], Granted Authorities=[ADMIN]]]
2021-03-23 14:47:32.797 DEBUG 15830 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BDD8F0456C36AA58D60C2BA3199A010F], Granted Authorities=[ADMIN]]]
2021-03-23 14:47:32.801 DEBUG 15830 --- [http-nio-8084-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /admin/home] with attributes [hasAuthority('ADMIN')]
2021-03-23 14:47:32.802 DEBUG 15830 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /admin/home
2021-03-23 14:47:32.814 DEBUG 15830 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 14:47:36.435 DEBUG 15830 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /logout?registration=
2021-03-23 14:47:36.436 DEBUG 15830 --- [http-nio-8084-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BDD8F0456C36AA58D60C2BA3199A010F], Granted Authorities=[ADMIN]]]
2021-03-23 14:47:36.436 DEBUG 15830 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BDD8F0456C36AA58D60C2BA3199A010F], Granted Authorities=[ADMIN]]]
2021-03-23 14:47:36.437 DEBUG 15830 --- [http-nio-8084-exec-9] o.s.s.w.a.logout.LogoutFilter            : Logging out [UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BDD8F0456C36AA58D60C2BA3199A010F], Granted Authorities=[ADMIN]]]
2021-03-23 14:47:36.437 DEBUG 15830 --- [http-nio-8084-exec-9] o.s.s.w.a.l.SecurityContextLogoutHandler : Invalidated session 23688E084EBDA005F443DD9C07D19188
2021-03-23 14:47:36.439 DEBUG 15830 --- [http-nio-8084-exec-9] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /login
2021-03-23 14:47:36.439 DEBUG 15830 --- [http-nio-8084-exec-9] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 14:47:36.439 DEBUG 15830 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 14:47:36.446 DEBUG 15830 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 14:47:36.446 DEBUG 15830 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 14:47:36.446 DEBUG 15830 --- [http-nio-8084-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 14:47:36.446 DEBUG 15830 --- [http-nio-8084-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 23688E084EBDA005F443DD9C07D19188
2021-03-23 14:47:36.447 DEBUG 15830 --- [http-nio-8084-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 14:47:36.447 DEBUG 15830 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 14:47:36.449 DEBUG 15830 --- [http-nio-8084-exec-10] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 14:47:36.451 DEBUG 15830 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 14:47:38.207 DEBUG 15830 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /registration?
2021-03-23 14:47:38.209 DEBUG 15830 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 14:47:38.209 DEBUG 15830 --- [http-nio-8084-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 14:47:38.209 DEBUG 15830 --- [http-nio-8084-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 23688E084EBDA005F443DD9C07D19188
2021-03-23 14:47:38.210 DEBUG 15830 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /registration?] with attributes [permitAll]
2021-03-23 14:47:38.210 DEBUG 15830 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /registration?
2021-03-23 14:47:38.217 DEBUG 15830 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 14:47:38.218 DEBUG 15830 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 14:47:50.937 DEBUG 15830 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /registration
2021-03-23 14:47:50.937 DEBUG 15830 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 14:47:50.938 DEBUG 15830 --- [http-nio-8084-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 14:47:50.938 DEBUG 15830 --- [http-nio-8084-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 23688E084EBDA005F443DD9C07D19188
2021-03-23 14:47:50.938 DEBUG 15830 --- [http-nio-8084-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /registration] with attributes [permitAll]
2021-03-23 14:47:50.938 DEBUG 15830 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /registration
2021-03-23 14:47:51.093 DEBUG 15830 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 14:47:51.094 DEBUG 15830 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 14:47:51.104 DEBUG 15830 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /login?successMessage=%D0%92%D1%8B+%D1%83%D1%81%D0%BF%D0%B5%D1%88%D0%BD%D0%BE+%D0%B7%D0%B0%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D1%8B%21
2021-03-23 14:47:51.104 DEBUG 15830 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 14:47:51.105 DEBUG 15830 --- [http-nio-8084-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 14:47:51.105 DEBUG 15830 --- [http-nio-8084-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 23688E084EBDA005F443DD9C07D19188
2021-03-23 14:47:51.105 DEBUG 15830 --- [http-nio-8084-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login?successMessage=%D0%92%D1%8B+%D1%83%D1%81%D0%BF%D0%B5%D1%88%D0%BD%D0%BE+%D0%B7%D0%B0%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D1%8B%21] with attributes [permitAll]
2021-03-23 14:47:51.106 DEBUG 15830 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /login?successMessage=%D0%92%D1%8B+%D1%83%D1%81%D0%BF%D0%B5%D1%88%D0%BD%D0%BE+%D0%B7%D0%B0%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D1%8B%21
2021-03-23 14:47:51.109 DEBUG 15830 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 14:47:51.110 DEBUG 15830 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 14:47:58.765 DEBUG 15830 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 14:47:58.766 DEBUG 15830 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 14:47:58.909 DEBUG 15830 --- [http-nio-8084-exec-6] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 14:47:58.910 DEBUG 15830 --- [http-nio-8084-exec-6] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[USER]]
2021-03-23 14:47:58.910 DEBUG 15830 --- [http-nio-8084-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /user/main
2021-03-23 14:47:58.911 DEBUG 15830 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2021-03-23 14:47:58.912 DEBUG 15830 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@4aea5d9a]
2021-03-23 14:47:58.913 DEBUG 15830 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 14:47:58.920 DEBUG 15830 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /user/main
2021-03-23 14:47:58.920 DEBUG 15830 --- [http-nio-8084-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 14:47:58.920 DEBUG 15830 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 14:47:58.920 DEBUG 15830 --- [http-nio-8084-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /user/main] with attributes [authenticated]
2021-03-23 14:47:58.921 DEBUG 15830 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /user/main
2021-03-23 14:47:58.927 DEBUG 15830 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 14:48:29.861 DEBUG 15830 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /admin/home
2021-03-23 14:48:29.862 DEBUG 15830 --- [http-nio-8084-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 14:48:29.862 DEBUG 15830 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 14:48:29.865 DEBUG 15830 --- [http-nio-8084-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /admin/home] with attributes [hasAuthority('ADMIN')]
2021-03-23 14:48:29.867 DEBUG 15830 --- [http-nio-8084-exec-9] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2021-03-23 14:48:29.868 DEBUG 15830 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 14:48:29.870 DEBUG 15830 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /error
2021-03-23 14:48:29.870 DEBUG 15830 --- [http-nio-8084-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 14:48:29.870 DEBUG 15830 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 14:48:29.871 DEBUG 15830 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /error
2021-03-23 14:48:29.887 DEBUG 15830 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 14:48:35.747 DEBUG 15830 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /login?
2021-03-23 14:48:35.747 DEBUG 15830 --- [http-nio-8084-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 14:48:35.747 DEBUG 15830 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 14:48:35.748 DEBUG 15830 --- [http-nio-8084-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login?] with attributes [permitAll]
2021-03-23 14:48:35.748 DEBUG 15830 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /login?
2021-03-23 14:48:35.751 DEBUG 15830 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 14:48:42.399 DEBUG 15830 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 14:48:42.399 DEBUG 15830 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 14:48:42.399 DEBUG 15830 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 14:48:42.537 DEBUG 15830 --- [http-nio-8084-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 14:48:42.537 DEBUG 15830 --- [http-nio-8084-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from B1F43924516D1E1C58F2DD87E38E3180
2021-03-23 14:48:42.538 DEBUG 15830 --- [http-nio-8084-exec-2] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B1F43924516D1E1C58F2DD87E38E3180], Granted Authorities=[USER]]
2021-03-23 14:48:42.538 DEBUG 15830 --- [http-nio-8084-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /user/main
2021-03-23 14:48:42.538 DEBUG 15830 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B1F43924516D1E1C58F2DD87E38E3180], Granted Authorities=[USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@4aea5d9a]
2021-03-23 14:48:42.538 DEBUG 15830 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 14:48:42.547 DEBUG 15830 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /user/main
2021-03-23 14:48:42.547 DEBUG 15830 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B1F43924516D1E1C58F2DD87E38E3180], Granted Authorities=[USER]]]
2021-03-23 14:48:42.548 DEBUG 15830 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B1F43924516D1E1C58F2DD87E38E3180], Granted Authorities=[USER]]]
2021-03-23 14:48:42.548 DEBUG 15830 --- [http-nio-8084-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /user/main] with attributes [authenticated]
2021-03-23 14:48:42.548 DEBUG 15830 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /user/main
2021-03-23 14:48:42.554 DEBUG 15830 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 14:48:59.938 DEBUG 15830 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /logout?registration=
2021-03-23 14:48:59.938 DEBUG 15830 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B1F43924516D1E1C58F2DD87E38E3180], Granted Authorities=[USER]]]
2021-03-23 14:48:59.938 DEBUG 15830 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B1F43924516D1E1C58F2DD87E38E3180], Granted Authorities=[USER]]]
2021-03-23 14:48:59.938 DEBUG 15830 --- [http-nio-8084-exec-5] o.s.s.w.a.logout.LogoutFilter            : Logging out [UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B1F43924516D1E1C58F2DD87E38E3180], Granted Authorities=[USER]]]
2021-03-23 14:48:59.939 DEBUG 15830 --- [http-nio-8084-exec-5] o.s.s.w.a.l.SecurityContextLogoutHandler : Invalidated session 78044F60074CD2FE29DF8EC78DCADD52
2021-03-23 14:48:59.939 DEBUG 15830 --- [http-nio-8084-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /login
2021-03-23 14:48:59.939 DEBUG 15830 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 14:48:59.939 DEBUG 15830 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 14:48:59.948 DEBUG 15830 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 14:48:59.948 DEBUG 15830 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 14:48:59.949 DEBUG 15830 --- [http-nio-8084-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 14:48:59.949 DEBUG 15830 --- [http-nio-8084-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 78044F60074CD2FE29DF8EC78DCADD52
2021-03-23 14:48:59.949 DEBUG 15830 --- [http-nio-8084-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 14:48:59.950 DEBUG 15830 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 14:48:59.953 DEBUG 15830 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 14:48:59.954 DEBUG 15830 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 14:49:11.106 DEBUG 15830 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 14:49:11.107 DEBUG 15830 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 14:49:11.260 DEBUG 15830 --- [http-nio-8084-exec-8] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 14:49:11.260 DEBUG 15830 --- [http-nio-8084-exec-8] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN]]
2021-03-23 14:49:11.261 DEBUG 15830 --- [http-nio-8084-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /user/main
2021-03-23 14:49:11.261 DEBUG 15830 --- [http-nio-8084-exec-8] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2021-03-23 14:49:11.261 DEBUG 15830 --- [http-nio-8084-exec-8] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@1c7e73e3]
2021-03-23 14:49:11.261 DEBUG 15830 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 14:49:11.272 DEBUG 15830 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /user/main
2021-03-23 14:49:11.273 DEBUG 15830 --- [http-nio-8084-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 14:49:11.273 DEBUG 15830 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 14:49:11.273 DEBUG 15830 --- [http-nio-8084-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /user/main] with attributes [authenticated]
2021-03-23 14:49:11.274 DEBUG 15830 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /user/main
2021-03-23 14:49:11.282 DEBUG 15830 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 14:49:22.287 DEBUG 15830 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /admin
2021-03-23 14:49:22.288 DEBUG 15830 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 14:49:22.288 DEBUG 15830 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 14:49:22.289 DEBUG 15830 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /admin] with attributes [hasAuthority('ADMIN')]
2021-03-23 14:49:22.289 DEBUG 15830 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /admin
2021-03-23 14:49:22.293 DEBUG 15830 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 14:49:22.294 DEBUG 15830 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error
2021-03-23 14:49:22.295 DEBUG 15830 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 14:49:22.296 DEBUG 15830 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 14:49:22.296 DEBUG 15830 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /error
2021-03-23 14:49:22.303 DEBUG 15830 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 14:49:26.049 DEBUG 15830 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /admin/home
2021-03-23 14:49:26.049 DEBUG 15830 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 14:49:26.049 DEBUG 15830 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 14:49:26.050 DEBUG 15830 --- [http-nio-8084-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /admin/home] with attributes [hasAuthority('ADMIN')]
2021-03-23 14:49:26.050 DEBUG 15830 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /admin/home
2021-03-23 14:49:26.057 DEBUG 15830 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 14:49:37.233  INFO 15830 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 14:49:37.234  INFO 15830 --- [SpringContextShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-03-23 14:49:37.253  INFO 15830 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 14:49:37.254  INFO 15830 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 14:49:37.276  INFO 15830 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 16:37:57.201  INFO 22386 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 22386 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 16:37:57.231 DEBUG 22386 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 16:37:57.232  INFO 22386 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 16:37:59.380  INFO 22386 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 16:37:59.470  INFO 22386 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 74 ms. Found 2 JPA repository interfaces.
2021-03-23 16:38:00.146  INFO 22386 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:38:00.154  INFO 22386 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:38:00.164  INFO 22386 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:38:00.172  INFO 22386 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:38:00.184  INFO 22386 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:38:00.187  INFO 22386 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:38:00.203  INFO 22386 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:38:00.261  INFO 22386 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:38:00.269  INFO 22386 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:38:00.273  INFO 22386 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:38:00.361  INFO 22386 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:38:00.364  INFO 22386 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:38:00.379  INFO 22386 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:38:00.386  INFO 22386 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:38:00.396  INFO 22386 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:38:00.421  INFO 22386 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:38:00.426  INFO 22386 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:38:00.436  INFO 22386 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:38:00.437  INFO 22386 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:38:00.439  INFO 22386 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:38:00.449  INFO 22386 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:38:00.464  INFO 22386 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:38:00.467  INFO 22386 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:38:00.474  INFO 22386 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:38:00.488  INFO 22386 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:38:00.519  INFO 22386 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:38:00.538  INFO 22386 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:38:00.543  INFO 22386 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:38:01.306  INFO 22386 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 16:38:01.324  INFO 22386 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 16:38:01.325  INFO 22386 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 16:38:01.468  INFO 22386 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 16:38:01.469  INFO 22386 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4071 ms
2021-03-23 16:38:02.782  INFO 22386 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 16:38:02.887  INFO 22386 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 16:38:02.983  INFO 22386 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 16:38:03.224  INFO 22386 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 16:38:03.392  INFO 22386 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 16:38:03.418  INFO 22386 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 16:38:03.419  INFO 22386 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 16:38:03.420  INFO 22386 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 16:38:03.420  INFO 22386 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 16:38:03.420  INFO 22386 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 16:38:03.585 DEBUG 22386 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 16:38:03.592 DEBUG 22386 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 16:38:03.593 DEBUG 22386 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 16:38:03.593 DEBUG 22386 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 16:38:03.595 DEBUG 22386 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('USER')] for Ant [pattern='/users/**']
2021-03-23 16:38:03.596 DEBUG 22386 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 16:38:03.679  INFO 22386 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@24eeac69, org.springframework.security.web.context.SecurityContextPersistenceFilter@5e5aafc6, org.springframework.security.web.header.HeaderWriterFilter@17aa8a11, org.springframework.security.web.authentication.logout.LogoutFilter@5731d3a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6a916402, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5583098b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@717d7587, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@18539cb1, org.springframework.security.web.session.SessionManagementFilter@18a25bbd, org.springframework.security.web.access.ExceptionTranslationFilter@57c00115, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3f362135]
2021-03-23 16:38:04.072  INFO 22386 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 16:38:04.089  INFO 22386 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 16:38:05.131  WARN 22386 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'requestMappingHandlerAdapter' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Unsatisfied dependency expressed through method 'requestMappingHandlerAdapter' parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcConversionService' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.format.support.FormattingConversionService]: Factory method 'mvcConversionService' threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jsonSchemaConverter' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Unsatisfied dependency expressed through method 'jsonSchemaConverter' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'persistentEntities' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mapping.context.PersistentEntities]: Factory method 'persistentEntities' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [roles]
Related cause: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'requestMappingHandlerAdapter' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Unsatisfied dependency expressed through method 'requestMappingHandlerAdapter' parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcConversionService' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.format.support.FormattingConversionService]: Factory method 'mvcConversionService' threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jsonSchemaConverter' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Unsatisfied dependency expressed through method 'jsonSchemaConverter' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'persistentEntities' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mapping.context.PersistentEntities]: Factory method 'persistentEntities' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [roles]
2021-03-23 16:38:05.132  INFO 22386 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 16:38:05.133  WARN 22386 --- [main] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'entityManagerFactory': javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [roles]
2021-03-23 16:38:05.133  INFO 22386 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 16:38:05.134  INFO 22386 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 16:38:05.160  INFO 22386 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 16:38:05.164  INFO 22386 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2021-03-23 16:38:05.191  INFO 22386 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2021-03-23 16:38:05.218 ERROR 22386 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'requestMappingHandlerAdapter' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Unsatisfied dependency expressed through method 'requestMappingHandlerAdapter' parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcConversionService' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.format.support.FormattingConversionService]: Factory method 'mvcConversionService' threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jsonSchemaConverter' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Unsatisfied dependency expressed through method 'jsonSchemaConverter' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'persistentEntities' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mapping.context.PersistentEntities]: Factory method 'persistentEntities' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [roles]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:539) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1179) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:571) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:925) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:588) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1309) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1298) [spring-boot-2.4.0.jar:2.4.0]
	at com.ru.microservice.SecurityApplication.main(SecurityApplication.java:10) [classes/:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcConversionService' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.format.support.FormattingConversionService]: Factory method 'mvcConversionService' threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jsonSchemaConverter' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Unsatisfied dependency expressed through method 'jsonSchemaConverter' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'persistentEntities' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mapping.context.PersistentEntities]: Factory method 'persistentEntities' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [roles]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:656) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:636) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1179) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:571) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1367) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1287) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-5.3.1.jar:5.3.1]
	... 20 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.format.support.FormattingConversionService]: Factory method 'mvcConversionService' threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jsonSchemaConverter' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Unsatisfied dependency expressed through method 'jsonSchemaConverter' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'persistentEntities' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mapping.context.PersistentEntities]: Factory method 'persistentEntities' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [roles]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:651) ~[spring-beans-5.3.1.jar:5.3.1]
	... 34 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jsonSchemaConverter' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Unsatisfied dependency expressed through method 'jsonSchemaConverter' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'persistentEntities' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mapping.context.PersistentEntities]: Factory method 'persistentEntities' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [roles]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:539) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1179) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:571) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:671) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:659) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.boot.convert.ApplicationConversionService.addBeans(ApplicationConversionService.java:161) ~[spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter.addFormatters(WebMvcAutoConfiguration.java:318) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.web.servlet.config.annotation.WebMvcConfigurerComposite.addFormatters(WebMvcConfigurerComposite.java:81) ~[spring-webmvc-5.3.1.jar:5.3.1]
	at org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration.addFormatters(DelegatingWebMvcConfiguration.java:78) ~[spring-webmvc-5.3.1.jar:5.3.1]
	at org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration.mvcConversionService(WebMvcAutoConfiguration.java:484) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_202]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_202]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_202]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_202]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.1.jar:5.3.1]
	... 35 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'persistentEntities' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mapping.context.PersistentEntities]: Factory method 'persistentEntities' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [roles]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:656) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:484) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1179) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:571) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1367) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1287) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-5.3.1.jar:5.3.1]
	... 56 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mapping.context.PersistentEntities]: Factory method 'persistentEntities' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [roles]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:651) ~[spring-beans-5.3.1.jar:5.3.1]
	... 70 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [roles]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:609) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:671) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:659) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1307) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:329) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration.persistentEntities(RepositoryRestMvcConfiguration.java:297) ~[spring-data-rest-webmvc-3.4.1.jar:3.4.1]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_202]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_202]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_202]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_202]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.1.jar:5.3.1]
	... 71 common frames omitted
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [roles]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421) ~[spring-orm-5.3.1.jar:5.3.1]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_202]
	at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_202]
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [roles]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:121) ~[hibernate-core-5.4.23.Final.jar:5.4.23.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42) ~[hibernate-core-5.4.23.Final.jar:5.4.23.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:89) ~[hibernate-core-5.4.23.Final.jar:5.4.23.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:68) ~[hibernate-core-5.4.23.Final.jar:5.4.23.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:192) ~[hibernate-core-5.4.23.Final.jar:5.4.23.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) ~[hibernate-core-5.4.23.Final.jar:5.4.23.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:316) ~[hibernate-core-5.4.23.Final.jar:5.4.23.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:469) ~[hibernate-core-5.4.23.Final.jar:5.4.23.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259) ~[hibernate-core-5.4.23.Final.jar:5.4.23.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.1.jar:5.3.1]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.1.jar:5.3.1]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.1.jar:5.3.1]
	... 4 common frames omitted

2021-03-23 16:39:39.384  INFO 22726 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 22726 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 16:39:39.388 DEBUG 22726 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 16:39:39.389  INFO 22726 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 16:39:41.017  INFO 22726 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 16:39:41.070  INFO 22726 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44 ms. Found 2 JPA repository interfaces.
2021-03-23 16:39:41.476  INFO 22726 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:41.480  INFO 22726 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:41.485  INFO 22726 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:41.490  INFO 22726 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:41.497  INFO 22726 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:41.499  INFO 22726 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:41.503  INFO 22726 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:41.519  INFO 22726 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:41.521  INFO 22726 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:41.524  INFO 22726 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:41.541  INFO 22726 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:41.543  INFO 22726 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:41.546  INFO 22726 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:41.547  INFO 22726 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:41.549  INFO 22726 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:41.558  INFO 22726 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:41.561  INFO 22726 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:41.568  INFO 22726 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:41.568  INFO 22726 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:41.570  INFO 22726 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:41.576  INFO 22726 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:41.584  INFO 22726 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:41.586  INFO 22726 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:41.587  INFO 22726 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:41.593  INFO 22726 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:41.607  INFO 22726 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:41.614  INFO 22726 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:41.615  INFO 22726 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:42.015  INFO 22726 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 16:39:42.024  INFO 22726 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 16:39:42.025  INFO 22726 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 16:39:42.106  INFO 22726 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 16:39:42.107  INFO 22726 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2566 ms
2021-03-23 16:39:42.471  INFO 22726 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 16:39:42.625  INFO 22726 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 16:39:42.667  INFO 22726 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 16:39:42.798  INFO 22726 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 16:39:42.895  INFO 22726 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 16:39:42.927  INFO 22726 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 16:39:42.927  INFO 22726 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 16:39:42.927  INFO 22726 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 16:39:42.928  INFO 22726 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 16:39:42.928  INFO 22726 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 16:39:43.003 DEBUG 22726 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 16:39:43.005 DEBUG 22726 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 16:39:43.006 DEBUG 22726 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 16:39:43.006 DEBUG 22726 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 16:39:43.008 DEBUG 22726 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('USER')] for Ant [pattern='/users/**']
2021-03-23 16:39:43.008 DEBUG 22726 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 16:39:43.043  INFO 22726 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@24eeac69, org.springframework.security.web.context.SecurityContextPersistenceFilter@5e5aafc6, org.springframework.security.web.header.HeaderWriterFilter@17aa8a11, org.springframework.security.web.authentication.logout.LogoutFilter@5731d3a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6a916402, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5583098b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@717d7587, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@18539cb1, org.springframework.security.web.session.SessionManagementFilter@18a25bbd, org.springframework.security.web.access.ExceptionTranslationFilter@57c00115, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3f362135]
2021-03-23 16:39:43.249  INFO 22726 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 16:39:43.269  INFO 22726 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 16:39:43.973  WARN 22726 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'requestMappingHandlerAdapter' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Unsatisfied dependency expressed through method 'requestMappingHandlerAdapter' parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcConversionService' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.format.support.FormattingConversionService]: Factory method 'mvcConversionService' threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jsonSchemaConverter' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Unsatisfied dependency expressed through method 'jsonSchemaConverter' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'persistentEntities' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mapping.context.PersistentEntities]: Factory method 'persistentEntities' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [roles]
Related cause: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'requestMappingHandlerAdapter' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Unsatisfied dependency expressed through method 'requestMappingHandlerAdapter' parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcConversionService' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.format.support.FormattingConversionService]: Factory method 'mvcConversionService' threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jsonSchemaConverter' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Unsatisfied dependency expressed through method 'jsonSchemaConverter' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'persistentEntities' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mapping.context.PersistentEntities]: Factory method 'persistentEntities' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [roles]
2021-03-23 16:39:43.974  INFO 22726 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 16:39:43.975  WARN 22726 --- [main] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'entityManagerFactory': javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [roles]
2021-03-23 16:39:43.975  INFO 22726 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 16:39:43.976  INFO 22726 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 16:39:43.995  INFO 22726 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 16:39:43.999  INFO 22726 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2021-03-23 16:39:44.023  INFO 22726 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2021-03-23 16:39:44.043 ERROR 22726 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'requestMappingHandlerAdapter' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Unsatisfied dependency expressed through method 'requestMappingHandlerAdapter' parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcConversionService' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.format.support.FormattingConversionService]: Factory method 'mvcConversionService' threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jsonSchemaConverter' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Unsatisfied dependency expressed through method 'jsonSchemaConverter' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'persistentEntities' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mapping.context.PersistentEntities]: Factory method 'persistentEntities' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [roles]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:539) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1179) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:571) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:925) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:588) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1309) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1298) [spring-boot-2.4.0.jar:2.4.0]
	at com.ru.microservice.SecurityApplication.main(SecurityApplication.java:10) [classes/:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcConversionService' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.format.support.FormattingConversionService]: Factory method 'mvcConversionService' threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jsonSchemaConverter' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Unsatisfied dependency expressed through method 'jsonSchemaConverter' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'persistentEntities' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mapping.context.PersistentEntities]: Factory method 'persistentEntities' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [roles]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:656) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:636) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1179) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:571) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1367) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1287) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-5.3.1.jar:5.3.1]
	... 20 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.format.support.FormattingConversionService]: Factory method 'mvcConversionService' threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jsonSchemaConverter' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Unsatisfied dependency expressed through method 'jsonSchemaConverter' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'persistentEntities' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mapping.context.PersistentEntities]: Factory method 'persistentEntities' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [roles]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:651) ~[spring-beans-5.3.1.jar:5.3.1]
	... 34 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jsonSchemaConverter' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Unsatisfied dependency expressed through method 'jsonSchemaConverter' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'persistentEntities' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mapping.context.PersistentEntities]: Factory method 'persistentEntities' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [roles]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:539) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1179) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:571) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:671) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:659) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.boot.convert.ApplicationConversionService.addBeans(ApplicationConversionService.java:161) ~[spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter.addFormatters(WebMvcAutoConfiguration.java:318) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.web.servlet.config.annotation.WebMvcConfigurerComposite.addFormatters(WebMvcConfigurerComposite.java:81) ~[spring-webmvc-5.3.1.jar:5.3.1]
	at org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration.addFormatters(DelegatingWebMvcConfiguration.java:78) ~[spring-webmvc-5.3.1.jar:5.3.1]
	at org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration.mvcConversionService(WebMvcAutoConfiguration.java:484) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_202]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_202]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_202]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_202]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.1.jar:5.3.1]
	... 35 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'persistentEntities' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mapping.context.PersistentEntities]: Factory method 'persistentEntities' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [roles]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:656) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:484) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1179) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:571) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1367) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1287) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-5.3.1.jar:5.3.1]
	... 56 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mapping.context.PersistentEntities]: Factory method 'persistentEntities' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [roles]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:651) ~[spring-beans-5.3.1.jar:5.3.1]
	... 70 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [roles]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:609) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:671) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:659) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1307) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:329) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration.persistentEntities(RepositoryRestMvcConfiguration.java:297) ~[spring-data-rest-webmvc-3.4.1.jar:3.4.1]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_202]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_202]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_202]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_202]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.1.jar:5.3.1]
	... 71 common frames omitted
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [roles]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421) ~[spring-orm-5.3.1.jar:5.3.1]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_202]
	at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_202]
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [roles]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:121) ~[hibernate-core-5.4.23.Final.jar:5.4.23.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42) ~[hibernate-core-5.4.23.Final.jar:5.4.23.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:89) ~[hibernate-core-5.4.23.Final.jar:5.4.23.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:68) ~[hibernate-core-5.4.23.Final.jar:5.4.23.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:192) ~[hibernate-core-5.4.23.Final.jar:5.4.23.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) ~[hibernate-core-5.4.23.Final.jar:5.4.23.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:316) ~[hibernate-core-5.4.23.Final.jar:5.4.23.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:469) ~[hibernate-core-5.4.23.Final.jar:5.4.23.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259) ~[hibernate-core-5.4.23.Final.jar:5.4.23.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.1.jar:5.3.1]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.1.jar:5.3.1]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.1.jar:5.3.1]
	... 4 common frames omitted

2021-03-23 16:39:54.597  INFO 22838 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 22838 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 16:39:54.601 DEBUG 22838 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 16:39:54.602  INFO 22838 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 16:39:55.977  INFO 22838 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 16:39:56.033  INFO 22838 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 2 JPA repository interfaces.
2021-03-23 16:39:56.410  INFO 22838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:56.413  INFO 22838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:56.417  INFO 22838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:56.422  INFO 22838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:56.429  INFO 22838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:56.431  INFO 22838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:56.435  INFO 22838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:56.456  INFO 22838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:56.460  INFO 22838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:56.462  INFO 22838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:56.477  INFO 22838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:56.478  INFO 22838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:56.481  INFO 22838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:56.483  INFO 22838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:56.484  INFO 22838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:56.492  INFO 22838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:56.496  INFO 22838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:56.504  INFO 22838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:56.504  INFO 22838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:56.505  INFO 22838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:56.512  INFO 22838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:56.519  INFO 22838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:56.521  INFO 22838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:56.522  INFO 22838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:56.528  INFO 22838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:56.542  INFO 22838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:56.548  INFO 22838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:56.550  INFO 22838 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:39:56.853  INFO 22838 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 16:39:56.862  INFO 22838 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 16:39:56.862  INFO 22838 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 16:39:56.952  INFO 22838 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 16:39:56.952  INFO 22838 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2261 ms
2021-03-23 16:39:57.451  INFO 22838 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 16:39:57.494  INFO 22838 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 16:39:57.536  INFO 22838 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 16:39:57.651  INFO 22838 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 16:39:57.767  INFO 22838 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 16:39:57.779  INFO 22838 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 16:39:57.779  INFO 22838 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 16:39:57.779  INFO 22838 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 16:39:57.779  INFO 22838 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 16:39:57.779  INFO 22838 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 16:39:57.848 DEBUG 22838 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 16:39:57.851 DEBUG 22838 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 16:39:57.851 DEBUG 22838 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 16:39:57.851 DEBUG 22838 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 16:39:57.852 DEBUG 22838 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('USER')] for Ant [pattern='/users/**']
2021-03-23 16:39:57.853 DEBUG 22838 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 16:39:57.879  INFO 22838 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a47a1e8, org.springframework.security.web.context.SecurityContextPersistenceFilter@71b639d0, org.springframework.security.web.header.HeaderWriterFilter@411a5965, org.springframework.security.web.authentication.logout.LogoutFilter@254449bb, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@53c1179a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5d5b9ecb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@56f730b2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d2a2560, org.springframework.security.web.session.SessionManagementFilter@5377414a, org.springframework.security.web.access.ExceptionTranslationFilter@7c51782d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5e8507f1]
2021-03-23 16:39:58.148  INFO 22838 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 16:39:58.160  INFO 22838 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 16:39:58.885  WARN 22838 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'requestMappingHandlerAdapter' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Unsatisfied dependency expressed through method 'requestMappingHandlerAdapter' parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcConversionService' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.format.support.FormattingConversionService]: Factory method 'mvcConversionService' threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jsonSchemaConverter' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Unsatisfied dependency expressed through method 'jsonSchemaConverter' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'persistentEntities' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mapping.context.PersistentEntities]: Factory method 'persistentEntities' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [roles]
Related cause: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'requestMappingHandlerAdapter' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Unsatisfied dependency expressed through method 'requestMappingHandlerAdapter' parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcConversionService' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.format.support.FormattingConversionService]: Factory method 'mvcConversionService' threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jsonSchemaConverter' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Unsatisfied dependency expressed through method 'jsonSchemaConverter' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'persistentEntities' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mapping.context.PersistentEntities]: Factory method 'persistentEntities' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [roles]
2021-03-23 16:39:58.887  INFO 22838 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 16:39:58.887  WARN 22838 --- [main] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method failed on bean with name 'entityManagerFactory': javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [roles]
2021-03-23 16:39:58.887  INFO 22838 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 16:39:58.888  INFO 22838 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 16:39:58.919  INFO 22838 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 16:39:58.922  INFO 22838 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2021-03-23 16:39:58.943  INFO 22838 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2021-03-23 16:39:58.965 ERROR 22838 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'requestMappingHandlerAdapter' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Unsatisfied dependency expressed through method 'requestMappingHandlerAdapter' parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcConversionService' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.format.support.FormattingConversionService]: Factory method 'mvcConversionService' threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jsonSchemaConverter' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Unsatisfied dependency expressed through method 'jsonSchemaConverter' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'persistentEntities' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mapping.context.PersistentEntities]: Factory method 'persistentEntities' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [roles]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:539) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1179) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:571) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:925) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:588) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1309) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1298) [spring-boot-2.4.0.jar:2.4.0]
	at com.ru.microservice.SecurityApplication.main(SecurityApplication.java:10) [classes/:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcConversionService' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.format.support.FormattingConversionService]: Factory method 'mvcConversionService' threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jsonSchemaConverter' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Unsatisfied dependency expressed through method 'jsonSchemaConverter' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'persistentEntities' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mapping.context.PersistentEntities]: Factory method 'persistentEntities' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [roles]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:656) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:636) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1179) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:571) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1367) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1287) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-5.3.1.jar:5.3.1]
	... 20 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.format.support.FormattingConversionService]: Factory method 'mvcConversionService' threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jsonSchemaConverter' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Unsatisfied dependency expressed through method 'jsonSchemaConverter' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'persistentEntities' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mapping.context.PersistentEntities]: Factory method 'persistentEntities' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [roles]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:651) ~[spring-beans-5.3.1.jar:5.3.1]
	... 34 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jsonSchemaConverter' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Unsatisfied dependency expressed through method 'jsonSchemaConverter' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'persistentEntities' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mapping.context.PersistentEntities]: Factory method 'persistentEntities' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [roles]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:539) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1179) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:571) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:671) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:659) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.boot.convert.ApplicationConversionService.addBeans(ApplicationConversionService.java:161) ~[spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter.addFormatters(WebMvcAutoConfiguration.java:318) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.web.servlet.config.annotation.WebMvcConfigurerComposite.addFormatters(WebMvcConfigurerComposite.java:81) ~[spring-webmvc-5.3.1.jar:5.3.1]
	at org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration.addFormatters(DelegatingWebMvcConfiguration.java:78) ~[spring-webmvc-5.3.1.jar:5.3.1]
	at org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration.mvcConversionService(WebMvcAutoConfiguration.java:484) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_202]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_202]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_202]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_202]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.1.jar:5.3.1]
	... 35 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'persistentEntities' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mapping.context.PersistentEntities]: Factory method 'persistentEntities' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [roles]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:656) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:484) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1179) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:571) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1367) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1287) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-5.3.1.jar:5.3.1]
	... 56 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mapping.context.PersistentEntities]: Factory method 'persistentEntities' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [roles]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:651) ~[spring-beans-5.3.1.jar:5.3.1]
	... 70 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [roles]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:609) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:671) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:659) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1307) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:329) ~[spring-beans-5.3.1.jar:5.3.1]
	at org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration.persistentEntities(RepositoryRestMvcConfiguration.java:297) ~[spring-data-rest-webmvc-3.4.1.jar:3.4.1]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_202]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_202]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_202]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_202]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.1.jar:5.3.1]
	... 71 common frames omitted
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [roles]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421) ~[spring-orm-5.3.1.jar:5.3.1]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_202]
	at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_202]
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [roles]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:121) ~[hibernate-core-5.4.23.Final.jar:5.4.23.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42) ~[hibernate-core-5.4.23.Final.jar:5.4.23.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:89) ~[hibernate-core-5.4.23.Final.jar:5.4.23.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:68) ~[hibernate-core-5.4.23.Final.jar:5.4.23.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:192) ~[hibernate-core-5.4.23.Final.jar:5.4.23.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) ~[hibernate-core-5.4.23.Final.jar:5.4.23.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:316) ~[hibernate-core-5.4.23.Final.jar:5.4.23.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:469) ~[hibernate-core-5.4.23.Final.jar:5.4.23.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259) ~[hibernate-core-5.4.23.Final.jar:5.4.23.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.1.jar:5.3.1]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.1.jar:5.3.1]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.1.jar:5.3.1]
	... 4 common frames omitted

2021-03-23 16:40:37.030  INFO 22962 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 22962 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 16:40:37.034 DEBUG 22962 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 16:40:37.035  INFO 22962 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 16:40:38.614  INFO 22962 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 16:40:38.675  INFO 22962 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 2 JPA repository interfaces.
2021-03-23 16:40:39.091  INFO 22962 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:40:39.094  INFO 22962 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:40:39.098  INFO 22962 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:40:39.104  INFO 22962 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:40:39.110  INFO 22962 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:40:39.112  INFO 22962 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:40:39.116  INFO 22962 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:40:39.134  INFO 22962 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:40:39.137  INFO 22962 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:40:39.139  INFO 22962 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:40:39.159  INFO 22962 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:40:39.160  INFO 22962 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:40:39.163  INFO 22962 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:40:39.164  INFO 22962 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:40:39.166  INFO 22962 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:40:39.174  INFO 22962 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:40:39.177  INFO 22962 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:40:39.183  INFO 22962 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:40:39.183  INFO 22962 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:40:39.184  INFO 22962 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:40:39.189  INFO 22962 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:40:39.196  INFO 22962 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:40:39.197  INFO 22962 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:40:39.199  INFO 22962 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:40:39.204  INFO 22962 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:40:39.218  INFO 22962 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:40:39.225  INFO 22962 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:40:39.226  INFO 22962 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:40:39.522  INFO 22962 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 16:40:39.530  INFO 22962 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 16:40:39.531  INFO 22962 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 16:40:39.601  INFO 22962 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 16:40:39.602  INFO 22962 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2441 ms
2021-03-23 16:40:40.166  INFO 22962 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 16:40:40.237  INFO 22962 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 16:40:40.309  INFO 22962 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 16:40:40.460  INFO 22962 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 16:40:40.559  INFO 22962 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 16:40:40.584  INFO 22962 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 16:40:40.584  INFO 22962 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 16:40:40.585  INFO 22962 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 16:40:40.585  INFO 22962 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 16:40:40.585  INFO 22962 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 16:40:40.680 DEBUG 22962 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 16:40:40.685 DEBUG 22962 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 16:40:40.686 DEBUG 22962 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 16:40:40.686 DEBUG 22962 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 16:40:40.688 DEBUG 22962 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('USER')] for Ant [pattern='/users/**']
2021-03-23 16:40:40.688 DEBUG 22962 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 16:40:40.741  INFO 22962 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3811510, org.springframework.security.web.context.SecurityContextPersistenceFilter@1ee27d73, org.springframework.security.web.header.HeaderWriterFilter@4e83a98, org.springframework.security.web.authentication.logout.LogoutFilter@2fd954f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@31b7d869, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@542f6803, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e60b459, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@24eeac69, org.springframework.security.web.session.SessionManagementFilter@71b639d0, org.springframework.security.web.access.ExceptionTranslationFilter@20a7953c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@49fa1d74]
2021-03-23 16:40:41.029  INFO 22962 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 16:40:41.040  INFO 22962 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 16:40:41.748  WARN 22962 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2021-03-23 16:40:41.749  WARN 22962 --- [task-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "uk_6dotkott2kjsp8vw4d0m25fb7" of relation "users" does not exist, skipping
2021-03-23 16:40:41.764  INFO 22962 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 16:40:41.776  INFO 22962 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 16:40:42.613  INFO 22962 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 16:40:43.260  INFO 22962 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 16:40:43.336  INFO 22962 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 16:40:43.339  INFO 22962 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2021-03-23 16:40:43.465  INFO 22962 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2021-03-23 16:40:43.483  INFO 22962 --- [main] com.ru.microservice.SecurityApplication  : Started SecurityApplication in 7.024 seconds (JVM running for 7.779)
2021-03-23 16:40:43.841  INFO 22962 --- [RMI TCP Connection(3)-192.168.0.16] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-03-23 16:40:43.842  INFO 22962 --- [RMI TCP Connection(3)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-03-23 16:40:43.851  INFO 22962 --- [RMI TCP Connection(3)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2021-03-23 16:40:49.512 DEBUG 22962 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /
2021-03-23 16:40:49.518 DEBUG 22962 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 16:40:49.522 DEBUG 22962 --- [http-nio-8084-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 16:40:49.531 DEBUG 22962 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /] with attributes [permitAll]
2021-03-23 16:40:49.532 DEBUG 22962 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /
2021-03-23 16:40:49.970 DEBUG 22962 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 16:40:49.977 DEBUG 22962 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 16:40:50.024 DEBUG 22962 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /favicon.ico
2021-03-23 16:40:50.024 DEBUG 22962 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 16:40:50.024 DEBUG 22962 --- [http-nio-8084-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 16:40:50.029 DEBUG 22962 --- [http-nio-8084-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /favicon.ico] with attributes [authenticated]
2021-03-23 16:40:50.036 DEBUG 22962 --- [http-nio-8084-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8084/
2021-03-23 16:40:50.036 DEBUG 22962 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 16:40:50.037 DEBUG 22962 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 16:40:52.105 DEBUG 22962 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 16:40:52.105 DEBUG 22962 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 16:40:52.105 DEBUG 22962 --- [http-nio-8084-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 16:40:52.106 DEBUG 22962 --- [http-nio-8084-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 16:40:52.106 DEBUG 22962 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 16:40:52.124 DEBUG 22962 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 16:40:52.126 DEBUG 22962 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 16:40:54.500 DEBUG 22962 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /registration?
2021-03-23 16:40:54.500 DEBUG 22962 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 16:40:54.501 DEBUG 22962 --- [http-nio-8084-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 16:40:54.501 DEBUG 22962 --- [http-nio-8084-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /registration?] with attributes [permitAll]
2021-03-23 16:40:54.501 DEBUG 22962 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /registration?
2021-03-23 16:40:54.537 DEBUG 22962 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 16:40:54.538 DEBUG 22962 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 16:41:12.624 DEBUG 22962 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /registration
2021-03-23 16:41:12.624 DEBUG 22962 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 16:41:12.624 DEBUG 22962 --- [http-nio-8084-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 16:41:12.625 DEBUG 22962 --- [http-nio-8084-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /registration] with attributes [permitAll]
2021-03-23 16:41:12.625 DEBUG 22962 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /registration
2021-03-23 16:41:13.123 DEBUG 22962 --- [http-nio-8084-exec-7] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 16:41:13.124 DEBUG 22962 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 16:41:13.129 DEBUG 22962 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /login?successMessage=%D0%92%D1%8B+%D1%83%D1%81%D0%BF%D0%B5%D1%88%D0%BD%D0%BE+%D0%B7%D0%B0%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D1%8B%21
2021-03-23 16:41:13.130 DEBUG 22962 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 16:41:13.130 DEBUG 22962 --- [http-nio-8084-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 16:41:13.131 DEBUG 22962 --- [http-nio-8084-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login?successMessage=%D0%92%D1%8B+%D1%83%D1%81%D0%BF%D0%B5%D1%88%D0%BD%D0%BE+%D0%B7%D0%B0%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D1%8B%21] with attributes [permitAll]
2021-03-23 16:41:13.131 DEBUG 22962 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /login?successMessage=%D0%92%D1%8B+%D1%83%D1%81%D0%BF%D0%B5%D1%88%D0%BD%D0%BE+%D0%B7%D0%B0%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D1%8B%21
2021-03-23 16:41:13.134 DEBUG 22962 --- [http-nio-8084-exec-8] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 16:41:13.135 DEBUG 22962 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 16:41:29.426 DEBUG 22962 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /registration?
2021-03-23 16:41:29.427 DEBUG 22962 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 16:41:29.427 DEBUG 22962 --- [http-nio-8084-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 16:41:29.428 DEBUG 22962 --- [http-nio-8084-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /registration?] with attributes [permitAll]
2021-03-23 16:41:29.428 DEBUG 22962 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /registration?
2021-03-23 16:41:29.437 DEBUG 22962 --- [http-nio-8084-exec-9] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 16:41:29.439 DEBUG 22962 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 16:41:44.982 DEBUG 22962 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /registration
2021-03-23 16:41:44.982 DEBUG 22962 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 16:41:44.982 DEBUG 22962 --- [http-nio-8084-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 16:41:44.983 DEBUG 22962 --- [http-nio-8084-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /registration] with attributes [permitAll]
2021-03-23 16:41:44.983 DEBUG 22962 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /registration
2021-03-23 16:41:45.136 DEBUG 22962 --- [http-nio-8084-exec-10] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 16:41:45.136 DEBUG 22962 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 16:41:45.142 DEBUG 22962 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /login?successMessage=%D0%92%D1%8B+%D1%83%D1%81%D0%BF%D0%B5%D1%88%D0%BD%D0%BE+%D0%B7%D0%B0%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D1%8B%21
2021-03-23 16:41:45.142 DEBUG 22962 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 16:41:45.142 DEBUG 22962 --- [http-nio-8084-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 16:41:45.143 DEBUG 22962 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login?successMessage=%D0%92%D1%8B+%D1%83%D1%81%D0%BF%D0%B5%D1%88%D0%BD%D0%BE+%D0%B7%D0%B0%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D1%8B%21] with attributes [permitAll]
2021-03-23 16:41:45.143 DEBUG 22962 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /login?successMessage=%D0%92%D1%8B+%D1%83%D1%81%D0%BF%D0%B5%D1%88%D0%BD%D0%BE+%D0%B7%D0%B0%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D1%8B%21
2021-03-23 16:41:45.147 DEBUG 22962 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 16:41:45.148 DEBUG 22962 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 16:42:27.380 DEBUG 22962 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /registration?
2021-03-23 16:42:27.380 DEBUG 22962 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 16:42:27.380 DEBUG 22962 --- [http-nio-8084-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 16:42:27.381 DEBUG 22962 --- [http-nio-8084-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /registration?] with attributes [permitAll]
2021-03-23 16:42:27.381 DEBUG 22962 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /registration?
2021-03-23 16:42:27.389 DEBUG 22962 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 16:42:27.390 DEBUG 22962 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 16:43:00.963 DEBUG 22962 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /registration
2021-03-23 16:43:00.964 DEBUG 22962 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 16:43:00.964 DEBUG 22962 --- [http-nio-8084-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 16:43:00.964 DEBUG 22962 --- [http-nio-8084-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /registration] with attributes [permitAll]
2021-03-23 16:43:00.965 DEBUG 22962 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /registration
2021-03-23 16:43:01.123 DEBUG 22962 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 16:43:01.124 DEBUG 22962 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 16:43:01.130 DEBUG 22962 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /login?successMessage=%D0%92%D1%8B+%D1%83%D1%81%D0%BF%D0%B5%D1%88%D0%BD%D0%BE+%D0%B7%D0%B0%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D1%8B%21
2021-03-23 16:43:01.131 DEBUG 22962 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 16:43:01.131 DEBUG 22962 --- [http-nio-8084-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 16:43:01.132 DEBUG 22962 --- [http-nio-8084-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login?successMessage=%D0%92%D1%8B+%D1%83%D1%81%D0%BF%D0%B5%D1%88%D0%BD%D0%BE+%D0%B7%D0%B0%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D1%8B%21] with attributes [permitAll]
2021-03-23 16:43:01.132 DEBUG 22962 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /login?successMessage=%D0%92%D1%8B+%D1%83%D1%81%D0%BF%D0%B5%D1%88%D0%BD%D0%BE+%D0%B7%D0%B0%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D1%8B%21
2021-03-23 16:43:01.135 DEBUG 22962 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 16:43:01.136 DEBUG 22962 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 16:43:26.732 DEBUG 22962 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 16:43:26.732 DEBUG 22962 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 16:43:27.011 DEBUG 22962 --- [http-nio-8084-exec-5] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 16:43:27.013 DEBUG 22962 --- [http-nio-8084-exec-5] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]
2021-03-23 16:43:27.014 DEBUG 22962 --- [http-nio-8084-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /user/main
2021-03-23 16:43:27.026 DEBUG 22962 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2021-03-23 16:43:27.027 DEBUG 22962 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@2cc74dd1]
2021-03-23 16:43:27.027 DEBUG 22962 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 16:43:27.036 DEBUG 22962 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /user/main
2021-03-23 16:43:27.036 DEBUG 22962 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 16:43:27.037 DEBUG 22962 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 16:43:27.037 DEBUG 22962 --- [http-nio-8084-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /user/main] with attributes [authenticated]
2021-03-23 16:43:27.038 DEBUG 22962 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /user/main
2021-03-23 16:43:27.049 DEBUG 22962 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 16:43:52.664 DEBUG 22962 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /logout?registration=
2021-03-23 16:43:52.665 DEBUG 22962 --- [http-nio-8084-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 16:43:52.665 DEBUG 22962 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 16:43:52.665 DEBUG 22962 --- [http-nio-8084-exec-8] o.s.s.w.a.logout.LogoutFilter            : Logging out [UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 16:43:52.666 DEBUG 22962 --- [http-nio-8084-exec-8] o.s.s.w.a.l.SecurityContextLogoutHandler : Invalidated session A32EB1042AD648912A3BDFE7F54D4BDA
2021-03-23 16:43:52.667 DEBUG 22962 --- [http-nio-8084-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /login
2021-03-23 16:43:52.667 DEBUG 22962 --- [http-nio-8084-exec-8] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 16:43:52.667 DEBUG 22962 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 16:43:52.678 DEBUG 22962 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 16:43:52.678 DEBUG 22962 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 16:43:52.679 DEBUG 22962 --- [http-nio-8084-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 16:43:52.679 DEBUG 22962 --- [http-nio-8084-exec-9] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id A32EB1042AD648912A3BDFE7F54D4BDA
2021-03-23 16:43:52.679 DEBUG 22962 --- [http-nio-8084-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 16:43:52.679 DEBUG 22962 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 16:43:52.682 DEBUG 22962 --- [http-nio-8084-exec-9] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 16:43:52.682 DEBUG 22962 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 16:44:12.492 DEBUG 22962 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 16:44:12.493 DEBUG 22962 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 16:44:12.627 DEBUG 22962 --- [http-nio-8084-exec-10] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 16:44:12.628 DEBUG 22962 --- [http-nio-8084-exec-10] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]
2021-03-23 16:44:12.628 DEBUG 22962 --- [http-nio-8084-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /user/main
2021-03-23 16:44:12.628 DEBUG 22962 --- [http-nio-8084-exec-10] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2021-03-23 16:44:12.629 DEBUG 22962 --- [http-nio-8084-exec-10] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@259ecf69]
2021-03-23 16:44:12.629 DEBUG 22962 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 16:44:12.634 DEBUG 22962 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /user/main
2021-03-23 16:44:12.634 DEBUG 22962 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 16:44:12.635 DEBUG 22962 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 16:44:12.635 DEBUG 22962 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /user/main] with attributes [authenticated]
2021-03-23 16:44:12.635 DEBUG 22962 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /user/main
2021-03-23 16:44:12.641 DEBUG 22962 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 16:44:17.479 DEBUG 22962 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /logout?registration=
2021-03-23 16:44:17.479 DEBUG 22962 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 16:44:17.479 DEBUG 22962 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 16:44:17.480 DEBUG 22962 --- [http-nio-8084-exec-2] o.s.s.w.a.logout.LogoutFilter            : Logging out [UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 16:44:17.480 DEBUG 22962 --- [http-nio-8084-exec-2] o.s.s.w.a.l.SecurityContextLogoutHandler : Invalidated session 92B651827093D93553A05404871A30A8
2021-03-23 16:44:17.480 DEBUG 22962 --- [http-nio-8084-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /login
2021-03-23 16:44:17.480 DEBUG 22962 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 16:44:17.480 DEBUG 22962 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 16:44:17.490 DEBUG 22962 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 16:44:17.490 DEBUG 22962 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 16:44:17.490 DEBUG 22962 --- [http-nio-8084-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 16:44:17.490 DEBUG 22962 --- [http-nio-8084-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 92B651827093D93553A05404871A30A8
2021-03-23 16:44:17.491 DEBUG 22962 --- [http-nio-8084-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 16:44:17.491 DEBUG 22962 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 16:44:17.493 DEBUG 22962 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 16:44:17.495 DEBUG 22962 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 16:45:00.455 DEBUG 22962 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 16:45:00.455 DEBUG 22962 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 16:45:00.590 DEBUG 22962 --- [http-nio-8084-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 16:45:00.590 DEBUG 22962 --- [http-nio-8084-exec-4] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]
2021-03-23 16:45:00.590 DEBUG 22962 --- [http-nio-8084-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /user/main
2021-03-23 16:45:00.591 DEBUG 22962 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2021-03-23 16:45:00.591 DEBUG 22962 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@18336b85]
2021-03-23 16:45:00.591 DEBUG 22962 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 16:45:00.601 DEBUG 22962 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /user/main
2021-03-23 16:45:00.601 DEBUG 22962 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 16:45:00.601 DEBUG 22962 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 16:45:00.602 DEBUG 22962 --- [http-nio-8084-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /user/main] with attributes [authenticated]
2021-03-23 16:45:00.602 DEBUG 22962 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /user/main
2021-03-23 16:45:00.609 DEBUG 22962 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 16:46:00.706 DEBUG 22962 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /admin/home
2021-03-23 16:46:00.707 DEBUG 22962 --- [http-nio-8084-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 16:46:00.708 DEBUG 22962 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 16:46:00.708 DEBUG 22962 --- [http-nio-8084-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /admin/home] with attributes [hasAuthority('ADMIN')]
2021-03-23 16:46:00.709 DEBUG 22962 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /admin/home
2021-03-23 16:46:00.720 DEBUG 22962 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 16:46:04.947 DEBUG 22962 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /admin/home/users
2021-03-23 16:46:04.947 DEBUG 22962 --- [http-nio-8084-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 16:46:04.948 DEBUG 22962 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 16:46:04.948 DEBUG 22962 --- [http-nio-8084-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /admin/home/users] with attributes [hasAuthority('ADMIN')]
2021-03-23 16:46:04.948 DEBUG 22962 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /admin/home/users
2021-03-23 16:46:04.992  WARN 22962 --- [http-nio-8084-exec-9] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.ru.microservice.model.User.roles, could not initialize proxy - no Session; nested exception is com.fasterxml.jackson.databind.JsonMappingException: failed to lazily initialize a collection of role: com.ru.microservice.model.User.roles, could not initialize proxy - no Session (through reference chain: java.util.ArrayList[0]->com.ru.microservice.model.User["roles"])]
2021-03-23 16:46:04.992 DEBUG 22962 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 16:46:04.995 DEBUG 22962 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /error
2021-03-23 16:46:04.995 DEBUG 22962 --- [http-nio-8084-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 16:46:04.995 DEBUG 22962 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 16:46:04.995 DEBUG 22962 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /error
2021-03-23 16:46:05.007 DEBUG 22962 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 16:51:09.855  INFO 22962 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 16:51:09.863  INFO 22962 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 16:51:09.865  INFO 22962 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 16:51:09.899  INFO 22962 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 16:51:16.601  INFO 23516 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 23516 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 16:51:16.610 DEBUG 23516 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 16:51:16.611  INFO 23516 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 16:51:18.104  INFO 23516 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 16:51:18.160  INFO 23516 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 2 JPA repository interfaces.
2021-03-23 16:51:18.621  INFO 23516 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:51:18.625  INFO 23516 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:51:18.631  INFO 23516 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:51:18.637  INFO 23516 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:51:18.644  INFO 23516 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:51:18.646  INFO 23516 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:51:18.652  INFO 23516 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:51:18.676  INFO 23516 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:51:18.679  INFO 23516 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:51:18.682  INFO 23516 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:51:18.705  INFO 23516 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:51:18.706  INFO 23516 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:51:18.709  INFO 23516 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:51:18.711  INFO 23516 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:51:18.713  INFO 23516 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:51:18.724  INFO 23516 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:51:18.728  INFO 23516 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:51:18.737  INFO 23516 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:51:18.738  INFO 23516 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:51:18.739  INFO 23516 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:51:18.746  INFO 23516 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:51:18.755  INFO 23516 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:51:18.757  INFO 23516 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:51:18.758  INFO 23516 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:51:18.766  INFO 23516 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:51:18.785  INFO 23516 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:51:18.793  INFO 23516 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:51:18.795  INFO 23516 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:51:19.162  INFO 23516 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 16:51:19.191  INFO 23516 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 16:51:19.192  INFO 23516 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 16:51:19.267  INFO 23516 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 16:51:19.267  INFO 23516 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2509 ms
2021-03-23 16:51:19.738  INFO 23516 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 16:51:19.780  INFO 23516 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 16:51:19.824  INFO 23516 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 16:51:20.001  INFO 23516 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 16:51:20.140  INFO 23516 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 16:51:20.159  INFO 23516 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 16:51:20.159  INFO 23516 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 16:51:20.160  INFO 23516 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 16:51:20.160  INFO 23516 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 16:51:20.160  INFO 23516 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 16:51:20.270 DEBUG 23516 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 16:51:20.274 DEBUG 23516 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 16:51:20.275 DEBUG 23516 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 16:51:20.275 DEBUG 23516 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 16:51:20.277 DEBUG 23516 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('USER')] for Ant [pattern='/users/**']
2021-03-23 16:51:20.277 DEBUG 23516 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 16:51:20.339  INFO 23516 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@24eeac69, org.springframework.security.web.context.SecurityContextPersistenceFilter@5e5aafc6, org.springframework.security.web.header.HeaderWriterFilter@17aa8a11, org.springframework.security.web.authentication.logout.LogoutFilter@5731d3a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6a916402, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5583098b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@717d7587, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@18539cb1, org.springframework.security.web.session.SessionManagementFilter@18a25bbd, org.springframework.security.web.access.ExceptionTranslationFilter@57c00115, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3f362135]
2021-03-23 16:51:20.658  INFO 23516 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 16:51:20.672  INFO 23516 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 16:51:21.443  INFO 23516 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 16:51:21.454  INFO 23516 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 16:51:22.448  INFO 23516 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 16:51:23.191  INFO 23516 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 16:51:23.298  INFO 23516 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 16:51:23.311  INFO 23516 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2021-03-23 16:51:23.386  INFO 23516 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2021-03-23 16:51:23.412 ERROR 23516 --- [main] o.s.boot.SpringApplication               : Application run failed

java.lang.RuntimeException: java.util.concurrent.ExecutionException: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/home/evgeniy/IdeaProjects/security-service/target/classes/data.sql]: INSERT INTO roles VALUES (1, 'ADMIN'), (2, 'USER'); nested exception is org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Подробности: Key (role_id)=(1) already exists.
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceInitializationCompletionListener.onApplicationEvent(DataSourceInitializedPublisher.java:151) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceInitializationCompletionListener.onApplicationEvent(DataSourceInitializedPublisher.java:138) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:203) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:196) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:161) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:426) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:383) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:945) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1309) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1298) [spring-boot-2.4.0.jar:2.4.0]
	at com.ru.microservice.SecurityApplication.main(SecurityApplication.java:10) [classes/:na]
Caused by: java.util.concurrent.ExecutionException: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/home/evgeniy/IdeaProjects/security-service/target/classes/data.sql]: INSERT INTO roles VALUES (1, 'ADMIN'), (2, 'USER'); nested exception is org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Подробности: Key (role_id)=(1) already exists.
	at java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:1.8.0_202]
	at java.util.concurrent.FutureTask.get(FutureTask.java:192) ~[na:1.8.0_202]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceInitializationCompletionListener.onApplicationEvent(DataSourceInitializedPublisher.java:148) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	... 16 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/home/evgeniy/IdeaProjects/security-service/target/classes/data.sql]: INSERT INTO roles VALUES (1, 'ADMIN'), (2, 'USER'); nested exception is org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Подробности: Key (role_id)=(1) already exists.
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:622) ~[spring-jdbc-5.3.1.jar:5.3.1]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254) ~[spring-jdbc-5.3.1.jar:5.3.1]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:49) ~[spring-jdbc-5.3.1.jar:5.3.1]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:202) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.initSchema(DataSourceInitializer.java:119) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.onApplicationEvent(DataSourceInitializerInvoker.java:91) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.onApplicationEvent(DataSourceInitializerInvoker.java:38) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:203) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:196) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:161) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:426) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:383) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.publishEventIfRequired(DataSourceInitializedPublisher.java:110) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.access$300(DataSourceInitializedPublisher.java:55) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceSchemaCreatedPublisher.lambda$postProcessEntityManagerFactory$0(DataSourceInitializedPublisher.java:253) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[na:1.8.0_202]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_202]
	at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_202]
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Подробности: Key (role_id)=(1) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:473) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:393) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:322) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:308) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:284) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:279) ~[postgresql-42.2.18.jar:42.2.18]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-3.4.5.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-3.4.5.jar:na]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:601) ~[spring-jdbc-5.3.1.jar:5.3.1]
	... 19 common frames omitted

2021-03-23 16:51:23.422  INFO 23516 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 16:51:23.424  INFO 23516 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 16:51:23.426  INFO 23516 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 16:51:23.444  INFO 23516 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 16:52:30.752  INFO 23676 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 23676 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 16:52:30.758 DEBUG 23676 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 16:52:30.759  INFO 23676 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 16:52:32.156  INFO 23676 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 16:52:32.211  INFO 23676 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 2 JPA repository interfaces.
2021-03-23 16:52:32.612  INFO 23676 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:52:32.616  INFO 23676 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:52:32.622  INFO 23676 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:52:32.629  INFO 23676 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:52:32.638  INFO 23676 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:52:32.640  INFO 23676 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:52:32.647  INFO 23676 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:52:32.663  INFO 23676 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:52:32.665  INFO 23676 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:52:32.667  INFO 23676 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:52:32.682  INFO 23676 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:52:32.683  INFO 23676 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:52:32.686  INFO 23676 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:52:32.687  INFO 23676 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:52:32.688  INFO 23676 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:52:32.697  INFO 23676 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:52:32.699  INFO 23676 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:52:32.705  INFO 23676 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:52:32.706  INFO 23676 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:52:32.707  INFO 23676 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:52:32.712  INFO 23676 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:52:32.718  INFO 23676 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:52:32.720  INFO 23676 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:52:32.721  INFO 23676 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:52:32.727  INFO 23676 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:52:32.740  INFO 23676 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:52:32.747  INFO 23676 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:52:32.748  INFO 23676 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:52:33.042  INFO 23676 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 16:52:33.050  INFO 23676 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 16:52:33.050  INFO 23676 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 16:52:33.153  INFO 23676 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 16:52:33.153  INFO 23676 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2264 ms
2021-03-23 16:52:33.575  INFO 23676 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 16:52:33.620  INFO 23676 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 16:52:33.668  INFO 23676 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 16:52:33.776  INFO 23676 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 16:52:33.879  INFO 23676 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 16:52:33.912  INFO 23676 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 16:52:33.912  INFO 23676 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 16:52:33.913  INFO 23676 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 16:52:33.913  INFO 23676 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 16:52:33.914  INFO 23676 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 16:52:33.992 DEBUG 23676 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 16:52:33.995 DEBUG 23676 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 16:52:33.995 DEBUG 23676 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 16:52:33.995 DEBUG 23676 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 16:52:33.997 DEBUG 23676 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('USER')] for Ant [pattern='/users/**']
2021-03-23 16:52:33.997 DEBUG 23676 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 16:52:34.028  INFO 23676 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@31b7d869, org.springframework.security.web.context.SecurityContextPersistenceFilter@4e83a98, org.springframework.security.web.header.HeaderWriterFilter@20a7953c, org.springframework.security.web.authentication.logout.LogoutFilter@2a39aa2b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7cfb4736, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71b639d0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ce85af2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6a916402, org.springframework.security.web.session.SessionManagementFilter@411a5965, org.springframework.security.web.access.ExceptionTranslationFilter@53ed80d3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1a8b81e8]
2021-03-23 16:52:34.249  INFO 23676 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 16:52:34.278  INFO 23676 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 16:52:35.023  INFO 23676 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 16:52:35.034  INFO 23676 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 16:52:35.895  INFO 23676 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 16:52:36.532  INFO 23676 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 16:52:36.608  INFO 23676 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 16:52:36.621  INFO 23676 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2021-03-23 16:52:36.696  INFO 23676 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2021-03-23 16:52:36.714 ERROR 23676 --- [main] o.s.boot.SpringApplication               : Application run failed

java.lang.RuntimeException: java.util.concurrent.ExecutionException: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/home/evgeniy/IdeaProjects/security-service/target/classes/data.sql]: INSERT INTO roles VALUES (1, 'ADMIN'), (2, 'USER'); nested exception is org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Подробности: Key (role_id)=(1) already exists.
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceInitializationCompletionListener.onApplicationEvent(DataSourceInitializedPublisher.java:151) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceInitializationCompletionListener.onApplicationEvent(DataSourceInitializedPublisher.java:138) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:203) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:196) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:161) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:426) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:383) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:945) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:591) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1309) [spring-boot-2.4.0.jar:2.4.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1298) [spring-boot-2.4.0.jar:2.4.0]
	at com.ru.microservice.SecurityApplication.main(SecurityApplication.java:10) [classes/:na]
Caused by: java.util.concurrent.ExecutionException: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/home/evgeniy/IdeaProjects/security-service/target/classes/data.sql]: INSERT INTO roles VALUES (1, 'ADMIN'), (2, 'USER'); nested exception is org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Подробности: Key (role_id)=(1) already exists.
	at java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:1.8.0_202]
	at java.util.concurrent.FutureTask.get(FutureTask.java:192) ~[na:1.8.0_202]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceInitializationCompletionListener.onApplicationEvent(DataSourceInitializedPublisher.java:148) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	... 16 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/home/evgeniy/IdeaProjects/security-service/target/classes/data.sql]: INSERT INTO roles VALUES (1, 'ADMIN'), (2, 'USER'); nested exception is org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Подробности: Key (role_id)=(1) already exists.
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:622) ~[spring-jdbc-5.3.1.jar:5.3.1]
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254) ~[spring-jdbc-5.3.1.jar:5.3.1]
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:49) ~[spring-jdbc-5.3.1.jar:5.3.1]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.runScripts(DataSourceInitializer.java:202) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializer.initSchema(DataSourceInitializer.java:119) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.onApplicationEvent(DataSourceInitializerInvoker.java:91) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker.onApplicationEvent(DataSourceInitializerInvoker.java:38) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:203) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:196) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:161) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:426) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:383) ~[spring-context-5.3.1.jar:5.3.1]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.publishEventIfRequired(DataSourceInitializedPublisher.java:110) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.access$300(DataSourceInitializedPublisher.java:55) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher$DataSourceSchemaCreatedPublisher.lambda$postProcessEntityManagerFactory$0(DataSourceInitializedPublisher.java:253) ~[spring-boot-autoconfigure-2.4.0.jar:2.4.0]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[na:1.8.0_202]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_202]
	at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_202]
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "roles_pkey"
  Подробности: Key (role_id)=(1) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2553) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2285) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:323) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:473) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:393) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:322) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:308) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:284) ~[postgresql-42.2.18.jar:42.2.18]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:279) ~[postgresql-42.2.18.jar:42.2.18]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-3.4.5.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-3.4.5.jar:na]
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:601) ~[spring-jdbc-5.3.1.jar:5.3.1]
	... 19 common frames omitted

2021-03-23 16:52:36.724  INFO 23676 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 16:52:36.726  INFO 23676 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 16:52:36.727  INFO 23676 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 16:52:36.761  INFO 23676 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 16:53:19.826  INFO 23830 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 23830 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 16:53:19.830 DEBUG 23830 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 16:53:19.831  INFO 23830 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 16:53:21.205  INFO 23830 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 16:53:21.263  INFO 23830 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50 ms. Found 2 JPA repository interfaces.
2021-03-23 16:53:21.653  INFO 23830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:53:21.657  INFO 23830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:53:21.661  INFO 23830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:53:21.667  INFO 23830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:53:21.673  INFO 23830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:53:21.674  INFO 23830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:53:21.678  INFO 23830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:53:21.692  INFO 23830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:53:21.694  INFO 23830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:53:21.696  INFO 23830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:53:21.716  INFO 23830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:53:21.718  INFO 23830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:53:21.720  INFO 23830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:53:21.722  INFO 23830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:53:21.724  INFO 23830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:53:21.732  INFO 23830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:53:21.735  INFO 23830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:53:21.741  INFO 23830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:53:21.742  INFO 23830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:53:21.743  INFO 23830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:53:21.748  INFO 23830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:53:21.756  INFO 23830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:53:21.758  INFO 23830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:53:21.759  INFO 23830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:53:21.764  INFO 23830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:53:21.777  INFO 23830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:53:21.784  INFO 23830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:53:21.785  INFO 23830 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:53:22.097  INFO 23830 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 16:53:22.105  INFO 23830 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 16:53:22.106  INFO 23830 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 16:53:22.182  INFO 23830 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 16:53:22.182  INFO 23830 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2272 ms
2021-03-23 16:53:22.657  INFO 23830 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 16:53:22.701  INFO 23830 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 16:53:22.743  INFO 23830 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 16:53:22.857  INFO 23830 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 16:53:22.977  INFO 23830 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 16:53:23.007  INFO 23830 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 16:53:23.008  INFO 23830 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 16:53:23.009  INFO 23830 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 16:53:23.009  INFO 23830 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 16:53:23.009  INFO 23830 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 16:53:23.082 DEBUG 23830 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 16:53:23.085 DEBUG 23830 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 16:53:23.085 DEBUG 23830 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 16:53:23.085 DEBUG 23830 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 16:53:23.086 DEBUG 23830 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('USER')] for Ant [pattern='/users/**']
2021-03-23 16:53:23.087 DEBUG 23830 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 16:53:23.112  INFO 23830 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@21eee94f, org.springframework.security.web.context.SecurityContextPersistenceFilter@7c51782d, org.springframework.security.web.header.HeaderWriterFilter@608b1fd2, org.springframework.security.web.authentication.logout.LogoutFilter@1e60b459, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e8507f1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@48e8c32a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@18a25bbd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6bc24e72, org.springframework.security.web.session.SessionManagementFilter@591a4f8e, org.springframework.security.web.access.ExceptionTranslationFilter@41184371, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@311ff287]
2021-03-23 16:53:23.355  INFO 23830 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 16:53:23.369  INFO 23830 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 16:53:24.086  INFO 23830 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 16:53:24.096  INFO 23830 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 16:53:24.983  INFO 23830 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 16:53:25.640  INFO 23830 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 16:53:25.719  INFO 23830 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 16:53:25.721  INFO 23830 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2021-03-23 16:53:25.844  INFO 23830 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2021-03-23 16:53:25.863  INFO 23830 --- [main] com.ru.microservice.SecurityApplication  : Started SecurityApplication in 6.621 seconds (JVM running for 7.393)
2021-03-23 16:53:26.003  INFO 23830 --- [RMI TCP Connection(2)-192.168.0.16] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-03-23 16:53:26.007  INFO 23830 --- [RMI TCP Connection(2)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-03-23 16:53:26.009  INFO 23830 --- [RMI TCP Connection(2)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-03-23 16:54:00.930 DEBUG 23830 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /
2021-03-23 16:54:00.933 DEBUG 23830 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 16:54:00.936 DEBUG 23830 --- [http-nio-8084-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 16:54:00.937 DEBUG 23830 --- [http-nio-8084-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B360669EE466AA5E211219CAD0BE5A14
2021-03-23 16:54:00.942 DEBUG 23830 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /] with attributes [permitAll]
2021-03-23 16:54:00.943 DEBUG 23830 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /
2021-03-23 16:54:01.296 DEBUG 23830 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 16:54:01.301 DEBUG 23830 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 16:54:03.524 DEBUG 23830 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 16:54:03.525 DEBUG 23830 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 16:54:03.525 DEBUG 23830 --- [http-nio-8084-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 16:54:03.525 DEBUG 23830 --- [http-nio-8084-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id B360669EE466AA5E211219CAD0BE5A14
2021-03-23 16:54:03.526 DEBUG 23830 --- [http-nio-8084-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 16:54:03.526 DEBUG 23830 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 16:54:03.544 DEBUG 23830 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 16:54:03.545 DEBUG 23830 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 16:54:13.700 DEBUG 23830 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 16:54:13.700 DEBUG 23830 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 16:54:14.125 DEBUG 23830 --- [http-nio-8084-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 16:54:14.126 DEBUG 23830 --- [http-nio-8084-exec-3] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]
2021-03-23 16:54:14.128 DEBUG 23830 --- [http-nio-8084-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /user/main
2021-03-23 16:54:14.137 DEBUG 23830 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2021-03-23 16:54:14.138 DEBUG 23830 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@3676342a]
2021-03-23 16:54:14.138 DEBUG 23830 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 16:54:14.149 DEBUG 23830 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /user/main
2021-03-23 16:54:14.150 DEBUG 23830 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 16:54:14.150 DEBUG 23830 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 16:54:14.151 DEBUG 23830 --- [http-nio-8084-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /user/main] with attributes [authenticated]
2021-03-23 16:54:14.151 DEBUG 23830 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /user/main
2021-03-23 16:54:14.184 DEBUG 23830 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 16:54:20.915 DEBUG 23830 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /admin/home
2021-03-23 16:54:20.916 DEBUG 23830 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 16:54:20.916 DEBUG 23830 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 16:54:20.917 DEBUG 23830 --- [http-nio-8084-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /admin/home] with attributes [hasAuthority('ADMIN')]
2021-03-23 16:54:20.917 DEBUG 23830 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /admin/home
2021-03-23 16:54:20.928 DEBUG 23830 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 16:54:26.420 DEBUG 23830 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /admin/home/users
2021-03-23 16:54:26.421 DEBUG 23830 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 16:54:26.421 DEBUG 23830 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 16:54:26.422 DEBUG 23830 --- [http-nio-8084-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /admin/home/users] with attributes [hasAuthority('ADMIN')]
2021-03-23 16:54:26.423 DEBUG 23830 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /admin/home/users
2021-03-23 16:54:26.479  WARN 23830 --- [http-nio-8084-exec-6] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: failed to lazily initialize a collection of role: com.ru.microservice.model.User.roles, could not initialize proxy - no Session; nested exception is com.fasterxml.jackson.databind.JsonMappingException: failed to lazily initialize a collection of role: com.ru.microservice.model.User.roles, could not initialize proxy - no Session (through reference chain: java.util.ArrayList[0]->com.ru.microservice.model.User["roles"])]
2021-03-23 16:54:26.479 DEBUG 23830 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 16:54:26.482 DEBUG 23830 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /error
2021-03-23 16:54:26.482 DEBUG 23830 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 16:54:26.482 DEBUG 23830 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 16:54:26.482 DEBUG 23830 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /error
2021-03-23 16:54:26.501 DEBUG 23830 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 16:55:15.520  INFO 23830 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 16:55:15.523  INFO 23830 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 16:55:15.524  INFO 23830 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 16:55:15.550  INFO 23830 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 16:55:22.021  INFO 24107 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 24107 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 16:55:22.025 DEBUG 24107 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 16:55:22.026  INFO 24107 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 16:55:23.624  INFO 24107 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 16:55:23.680  INFO 24107 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 2 JPA repository interfaces.
2021-03-23 16:55:24.140  INFO 24107 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:55:24.143  INFO 24107 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:55:24.147  INFO 24107 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:55:24.154  INFO 24107 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:55:24.162  INFO 24107 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:55:24.164  INFO 24107 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:55:24.169  INFO 24107 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:55:24.187  INFO 24107 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:55:24.190  INFO 24107 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:55:24.193  INFO 24107 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:55:24.210  INFO 24107 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:55:24.212  INFO 24107 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:55:24.215  INFO 24107 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:55:24.217  INFO 24107 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:55:24.219  INFO 24107 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:55:24.230  INFO 24107 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:55:24.233  INFO 24107 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:55:24.241  INFO 24107 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:55:24.241  INFO 24107 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:55:24.242  INFO 24107 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:55:24.248  INFO 24107 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:55:24.256  INFO 24107 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:55:24.258  INFO 24107 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:55:24.259  INFO 24107 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:55:24.266  INFO 24107 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:55:24.286  INFO 24107 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:55:24.296  INFO 24107 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:55:24.297  INFO 24107 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 16:55:24.662  INFO 24107 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 16:55:24.671  INFO 24107 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 16:55:24.672  INFO 24107 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 16:55:24.771  INFO 24107 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 16:55:24.771  INFO 24107 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2613 ms
2021-03-23 16:55:25.127  INFO 24107 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 16:55:25.259  INFO 24107 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 16:55:25.308  INFO 24107 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 16:55:25.444  INFO 24107 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 16:55:25.547  INFO 24107 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 16:55:25.582  INFO 24107 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 16:55:25.583  INFO 24107 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 16:55:25.583  INFO 24107 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 16:55:25.583  INFO 24107 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 16:55:25.583  INFO 24107 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 16:55:25.660 DEBUG 24107 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 16:55:25.663 DEBUG 24107 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 16:55:25.664 DEBUG 24107 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 16:55:25.664 DEBUG 24107 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 16:55:25.665 DEBUG 24107 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('USER')] for Ant [pattern='/users/**']
2021-03-23 16:55:25.665 DEBUG 24107 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 16:55:25.692  INFO 24107 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@748f93bb, org.springframework.security.web.context.SecurityContextPersistenceFilter@5583098b, org.springframework.security.web.header.HeaderWriterFilter@18a25bbd, org.springframework.security.web.authentication.logout.LogoutFilter@1eff3cfb, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6d2a2560, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@53a84ff4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@40230eb9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7f2d31af, org.springframework.security.web.session.SessionManagementFilter@1ee27d73, org.springframework.security.web.access.ExceptionTranslationFilter@4fe533ff, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6bc24e72]
2021-03-23 16:55:25.959  INFO 24107 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 16:55:25.981  INFO 24107 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 16:55:27.620  INFO 24107 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 16:55:27.629  INFO 24107 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 16:55:28.244  INFO 24107 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 16:55:29.135  INFO 24107 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 16:55:29.220  INFO 24107 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 16:55:29.222  INFO 24107 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2021-03-23 16:55:29.343  INFO 24107 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2021-03-23 16:55:29.361  INFO 24107 --- [main] com.ru.microservice.SecurityApplication  : Started SecurityApplication in 7.919 seconds (JVM running for 8.895)
2021-03-23 16:55:29.794  INFO 24107 --- [RMI TCP Connection(2)-192.168.0.16] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-03-23 16:55:29.794  INFO 24107 --- [RMI TCP Connection(2)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-03-23 16:55:29.796  INFO 24107 --- [RMI TCP Connection(2)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-03-23 16:55:33.865 DEBUG 24107 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /admin/home/users
2021-03-23 16:55:33.868 DEBUG 24107 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 16:55:33.871 DEBUG 24107 --- [http-nio-8084-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 16:55:33.871 DEBUG 24107 --- [http-nio-8084-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 1A076327181C9FCD88C8BD57C8C130D3
2021-03-23 16:55:33.877 DEBUG 24107 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /admin/home/users] with attributes [hasAuthority('ADMIN')]
2021-03-23 16:55:33.899 DEBUG 24107 --- [http-nio-8084-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8084/admin/home/users to session
2021-03-23 16:55:33.900 DEBUG 24107 --- [http-nio-8084-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8084/
2021-03-23 16:55:33.902 DEBUG 24107 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 16:55:33.904 DEBUG 24107 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 16:55:33.916 DEBUG 24107 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /
2021-03-23 16:55:33.916 DEBUG 24107 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 16:55:33.916 DEBUG 24107 --- [http-nio-8084-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 16:55:33.919 DEBUG 24107 --- [http-nio-8084-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /] with attributes [permitAll]
2021-03-23 16:55:33.920 DEBUG 24107 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /
2021-03-23 16:55:34.311 DEBUG 24107 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 16:55:34.315 DEBUG 24107 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 16:55:36.290 DEBUG 24107 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 16:55:36.290 DEBUG 24107 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 16:55:36.290 DEBUG 24107 --- [http-nio-8084-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 16:55:36.291 DEBUG 24107 --- [http-nio-8084-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 16:55:36.291 DEBUG 24107 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 16:55:36.309 DEBUG 24107 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 16:55:36.310 DEBUG 24107 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 16:55:45.360 DEBUG 24107 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 16:55:45.360 DEBUG 24107 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 16:55:45.770 DEBUG 24107 --- [http-nio-8084-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 16:55:45.772 DEBUG 24107 --- [http-nio-8084-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 6FAF6113F92AF1F93E1B877244A7876A
2021-03-23 16:55:45.773 DEBUG 24107 --- [http-nio-8084-exec-4] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=6FAF6113F92AF1F93E1B877244A7876A], Granted Authorities=[ADMIN]]
2021-03-23 16:55:45.774 DEBUG 24107 --- [http-nio-8084-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8084/admin/home/users
2021-03-23 16:55:45.774 DEBUG 24107 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=6FAF6113F92AF1F93E1B877244A7876A], Granted Authorities=[ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@6e9e9c84]
2021-03-23 16:55:45.775 DEBUG 24107 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 16:55:45.781 DEBUG 24107 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /admin/home/users
2021-03-23 16:55:45.781 DEBUG 24107 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=6FAF6113F92AF1F93E1B877244A7876A], Granted Authorities=[ADMIN]]]
2021-03-23 16:55:45.781 DEBUG 24107 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=6FAF6113F92AF1F93E1B877244A7876A], Granted Authorities=[ADMIN]]]
2021-03-23 16:55:45.782 DEBUG 24107 --- [http-nio-8084-exec-5] o.s.s.w.s.HttpSessionRequestCache        : Loaded matching saved request http://localhost:8084/admin/home/users
2021-03-23 16:55:45.784 DEBUG 24107 --- [http-nio-8084-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /admin/home/users] with attributes [hasAuthority('ADMIN')]
2021-03-23 16:55:45.784 DEBUG 24107 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /admin/home/users
2021-03-23 16:55:45.837 DEBUG 24107 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 16:57:35.818  INFO 24107 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 16:57:35.821  INFO 24107 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 16:57:35.821  INFO 24107 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 16:57:35.839  INFO 24107 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 17:52:41.686  INFO 25253 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 25253 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 17:52:41.690 DEBUG 25253 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 17:52:41.691  INFO 25253 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 17:52:43.121  INFO 25253 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 17:52:43.175  INFO 25253 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 2 JPA repository interfaces.
2021-03-23 17:52:43.544  INFO 25253 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:52:43.548  INFO 25253 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:52:43.552  INFO 25253 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:52:43.558  INFO 25253 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:52:43.564  INFO 25253 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:52:43.566  INFO 25253 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:52:43.570  INFO 25253 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:52:43.582  INFO 25253 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:52:43.585  INFO 25253 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:52:43.587  INFO 25253 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:52:43.602  INFO 25253 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:52:43.603  INFO 25253 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:52:43.606  INFO 25253 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:52:43.608  INFO 25253 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:52:43.609  INFO 25253 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:52:43.618  INFO 25253 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:52:43.620  INFO 25253 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:52:43.626  INFO 25253 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:52:43.627  INFO 25253 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:52:43.628  INFO 25253 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:52:43.633  INFO 25253 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:52:43.639  INFO 25253 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:52:43.640  INFO 25253 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:52:43.642  INFO 25253 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:52:43.647  INFO 25253 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:52:43.661  INFO 25253 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:52:43.669  INFO 25253 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:52:43.671  INFO 25253 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:52:43.967  INFO 25253 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 17:52:43.975  INFO 25253 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 17:52:43.976  INFO 25253 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 17:52:44.062  INFO 25253 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 17:52:44.062  INFO 25253 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2305 ms
2021-03-23 17:52:44.553  INFO 25253 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 17:52:44.596  INFO 25253 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 17:52:44.640  INFO 25253 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 17:52:44.749  INFO 25253 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 17:52:44.848  INFO 25253 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 17:52:44.882  INFO 25253 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 17:52:44.882  INFO 25253 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 17:52:44.882  INFO 25253 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 17:52:44.883  INFO 25253 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 17:52:44.883  INFO 25253 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 17:52:44.963 DEBUG 25253 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 17:52:44.965 DEBUG 25253 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 17:52:44.966 DEBUG 25253 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 17:52:44.966 DEBUG 25253 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 17:52:44.967 DEBUG 25253 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('USER')] for Ant [pattern='/users/**']
2021-03-23 17:52:44.967 DEBUG 25253 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 17:52:44.996  INFO 25253 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@62d1dc3c, org.springframework.security.web.context.SecurityContextPersistenceFilter@5d5b9ecb, org.springframework.security.web.header.HeaderWriterFilter@5377414a, org.springframework.security.web.authentication.logout.LogoutFilter@29ebbdf4, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5034f5dd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5e5aafc6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7930ffa9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3811510, org.springframework.security.web.session.SessionManagementFilter@17aa8a11, org.springframework.security.web.access.ExceptionTranslationFilter@48e8c32a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@d08edc5]
2021-03-23 17:52:45.197  INFO 25253 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 17:52:45.216  INFO 25253 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 17:52:45.953  INFO 25253 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 17:52:45.964  INFO 25253 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 17:52:46.814  INFO 25253 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 17:52:47.428  INFO 25253 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 17:52:47.510  INFO 25253 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 17:52:47.512  INFO 25253 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2021-03-23 17:52:47.646  INFO 25253 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2021-03-23 17:52:47.662  INFO 25253 --- [main] com.ru.microservice.SecurityApplication  : Started SecurityApplication in 6.49 seconds (JVM running for 7.371)
2021-03-23 17:52:47.856  INFO 25253 --- [RMI TCP Connection(3)-192.168.0.16] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-03-23 17:52:47.857  INFO 25253 --- [RMI TCP Connection(3)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-03-23 17:52:47.867  INFO 25253 --- [RMI TCP Connection(3)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Completed initialization in 10 ms
2021-03-23 17:52:56.463 DEBUG 25253 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /
2021-03-23 17:52:56.467 DEBUG 25253 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 17:52:56.471 DEBUG 25253 --- [http-nio-8084-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 17:52:56.479 DEBUG 25253 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /] with attributes [permitAll]
2021-03-23 17:52:56.480 DEBUG 25253 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /
2021-03-23 17:52:56.872 DEBUG 25253 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 17:52:56.880 DEBUG 25253 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 17:52:57.106 DEBUG 25253 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /favicon.ico
2021-03-23 17:52:57.106 DEBUG 25253 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 17:52:57.106 DEBUG 25253 --- [http-nio-8084-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 17:52:57.110 DEBUG 25253 --- [http-nio-8084-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /favicon.ico] with attributes [authenticated]
2021-03-23 17:52:57.116 DEBUG 25253 --- [http-nio-8084-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8084/
2021-03-23 17:52:57.117 DEBUG 25253 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 17:52:57.119 DEBUG 25253 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 17:52:58.441 DEBUG 25253 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 17:52:58.442 DEBUG 25253 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 17:52:58.442 DEBUG 25253 --- [http-nio-8084-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 17:52:58.442 DEBUG 25253 --- [http-nio-8084-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 17:52:58.443 DEBUG 25253 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 17:52:58.460 DEBUG 25253 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 17:52:58.462 DEBUG 25253 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 17:53:09.977 DEBUG 25253 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 17:53:09.977 DEBUG 25253 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 17:53:10.391 DEBUG 25253 --- [http-nio-8084-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 17:53:10.393 DEBUG 25253 --- [http-nio-8084-exec-4] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]
2021-03-23 17:53:10.394 DEBUG 25253 --- [http-nio-8084-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /user/main
2021-03-23 17:53:10.402 DEBUG 25253 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2021-03-23 17:53:10.403 DEBUG 25253 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@3a4e7a4d]
2021-03-23 17:53:10.403 DEBUG 25253 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 17:53:10.412 DEBUG 25253 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /user/main
2021-03-23 17:53:10.413 DEBUG 25253 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 17:53:10.413 DEBUG 25253 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 17:53:10.414 DEBUG 25253 --- [http-nio-8084-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /user/main] with attributes [authenticated]
2021-03-23 17:53:10.414 DEBUG 25253 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /user/main
2021-03-23 17:53:10.451 DEBUG 25253 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 17:53:20.080 DEBUG 25253 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /admin/home
2021-03-23 17:53:20.080 DEBUG 25253 --- [http-nio-8084-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 17:53:20.080 DEBUG 25253 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 17:53:20.081 DEBUG 25253 --- [http-nio-8084-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /admin/home] with attributes [hasAuthority('ADMIN')]
2021-03-23 17:53:20.082 DEBUG 25253 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /admin/home
2021-03-23 17:53:20.094 DEBUG 25253 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 17:53:25.541 DEBUG 25253 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /admin/home/users
2021-03-23 17:53:25.541 DEBUG 25253 --- [http-nio-8084-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 17:53:25.541 DEBUG 25253 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 17:53:25.542 DEBUG 25253 --- [http-nio-8084-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /admin/home/users] with attributes [hasAuthority('ADMIN')]
2021-03-23 17:53:25.543 DEBUG 25253 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /admin/home/users
2021-03-23 17:53:25.591 DEBUG 25253 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 17:58:11.291  INFO 25253 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 17:58:11.294  INFO 25253 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 17:58:11.295  INFO 25253 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 17:58:11.312  INFO 25253 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 17:58:19.123  INFO 26032 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 26032 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 17:58:19.127 DEBUG 26032 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 17:58:19.128  INFO 26032 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 17:58:20.560  INFO 26032 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 17:58:20.619  INFO 26032 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50 ms. Found 2 JPA repository interfaces.
2021-03-23 17:58:21.020  INFO 26032 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:58:21.024  INFO 26032 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:58:21.028  INFO 26032 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:58:21.032  INFO 26032 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:58:21.038  INFO 26032 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:58:21.040  INFO 26032 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:58:21.045  INFO 26032 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:58:21.059  INFO 26032 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:58:21.061  INFO 26032 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:58:21.063  INFO 26032 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:58:21.079  INFO 26032 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:58:21.080  INFO 26032 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:58:21.083  INFO 26032 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:58:21.084  INFO 26032 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:58:21.086  INFO 26032 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:58:21.094  INFO 26032 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:58:21.098  INFO 26032 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:58:21.104  INFO 26032 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:58:21.104  INFO 26032 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:58:21.105  INFO 26032 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:58:21.111  INFO 26032 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:58:21.118  INFO 26032 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:58:21.119  INFO 26032 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:58:21.120  INFO 26032 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:58:21.126  INFO 26032 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:58:21.140  INFO 26032 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:58:21.149  INFO 26032 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:58:21.151  INFO 26032 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 17:58:21.462  INFO 26032 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 17:58:21.471  INFO 26032 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 17:58:21.471  INFO 26032 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 17:58:21.551  INFO 26032 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 17:58:21.551  INFO 26032 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2357 ms
2021-03-23 17:58:21.986  INFO 26032 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 17:58:22.029  INFO 26032 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 17:58:22.074  INFO 26032 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 17:58:22.187  INFO 26032 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 17:58:22.285  INFO 26032 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 17:58:22.319  INFO 26032 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 17:58:22.319  INFO 26032 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 17:58:22.320  INFO 26032 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 17:58:22.321  INFO 26032 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 17:58:22.321  INFO 26032 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 17:58:22.417 DEBUG 26032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 17:58:22.421 DEBUG 26032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 17:58:22.421 DEBUG 26032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 17:58:22.421 DEBUG 26032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 17:58:22.423 DEBUG 26032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('USER')] for Ant [pattern='/users/**']
2021-03-23 17:58:22.423 DEBUG 26032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 17:58:22.462  INFO 26032 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@27be17c8, org.springframework.security.web.context.SecurityContextPersistenceFilter@7c0777b5, org.springframework.security.web.header.HeaderWriterFilter@717d7587, org.springframework.security.web.authentication.logout.LogoutFilter@5a49af50, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@40d60f2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2a39aa2b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@70c69586, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2c413ffc, org.springframework.security.web.session.SessionManagementFilter@40230eb9, org.springframework.security.web.access.ExceptionTranslationFilter@316acbb5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@18539cb1]
2021-03-23 17:58:22.678  INFO 26032 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 17:58:22.707  INFO 26032 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 17:58:23.994  INFO 26032 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 17:58:24.046  INFO 26032 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 17:58:25.678  INFO 26032 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 17:58:26.324  INFO 26032 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 17:58:26.400  INFO 26032 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 17:58:26.402  INFO 26032 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2021-03-23 17:58:26.538  INFO 26032 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2021-03-23 17:58:26.556  INFO 26032 --- [main] com.ru.microservice.SecurityApplication  : Started SecurityApplication in 8.116 seconds (JVM running for 9.074)
2021-03-23 17:58:26.694  INFO 26032 --- [RMI TCP Connection(5)-192.168.0.16] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-03-23 17:58:26.694  INFO 26032 --- [RMI TCP Connection(5)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-03-23 17:58:26.700  INFO 26032 --- [RMI TCP Connection(5)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2021-03-23 17:58:30.826 DEBUG 26032 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /admin/home/users
2021-03-23 17:58:30.829 DEBUG 26032 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 17:58:30.831 DEBUG 26032 --- [http-nio-8084-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 17:58:30.831 DEBUG 26032 --- [http-nio-8084-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 6452F962AD8D3CA691FE6DE576DB66DB
2021-03-23 17:58:30.837 DEBUG 26032 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /admin/home/users] with attributes [hasAuthority('ADMIN')]
2021-03-23 17:58:30.855 DEBUG 26032 --- [http-nio-8084-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8084/admin/home/users to session
2021-03-23 17:58:30.857 DEBUG 26032 --- [http-nio-8084-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8084/
2021-03-23 17:58:30.858 DEBUG 26032 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 17:58:30.860 DEBUG 26032 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 17:58:30.870 DEBUG 26032 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /
2021-03-23 17:58:30.871 DEBUG 26032 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 17:58:30.871 DEBUG 26032 --- [http-nio-8084-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 17:58:30.875 DEBUG 26032 --- [http-nio-8084-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /] with attributes [permitAll]
2021-03-23 17:58:30.875 DEBUG 26032 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /
2021-03-23 17:58:31.238 DEBUG 26032 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 17:58:31.242 DEBUG 26032 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 17:58:33.002 DEBUG 26032 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 17:58:33.003 DEBUG 26032 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 17:58:33.003 DEBUG 26032 --- [http-nio-8084-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 17:58:33.004 DEBUG 26032 --- [http-nio-8084-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 17:58:33.004 DEBUG 26032 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 17:58:33.023 DEBUG 26032 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 17:58:33.024 DEBUG 26032 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 17:58:43.894 DEBUG 26032 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 17:58:43.894 DEBUG 26032 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 17:58:44.348 DEBUG 26032 --- [http-nio-8084-exec-5] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 17:58:44.350 DEBUG 26032 --- [http-nio-8084-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 18CFC7F20E9853931E3D1026487743FD
2021-03-23 17:58:44.351 DEBUG 26032 --- [http-nio-8084-exec-5] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=18CFC7F20E9853931E3D1026487743FD], Granted Authorities=[ADMIN]]
2021-03-23 17:58:44.353 DEBUG 26032 --- [http-nio-8084-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8084/admin/home/users
2021-03-23 17:58:44.353 DEBUG 26032 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=18CFC7F20E9853931E3D1026487743FD], Granted Authorities=[ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@a5bb3cd]
2021-03-23 17:58:44.354 DEBUG 26032 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 17:58:44.360 DEBUG 26032 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /admin/home/users
2021-03-23 17:58:44.360 DEBUG 26032 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=18CFC7F20E9853931E3D1026487743FD], Granted Authorities=[ADMIN]]]
2021-03-23 17:58:44.361 DEBUG 26032 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=18CFC7F20E9853931E3D1026487743FD], Granted Authorities=[ADMIN]]]
2021-03-23 17:58:44.361 DEBUG 26032 --- [http-nio-8084-exec-6] o.s.s.w.s.HttpSessionRequestCache        : Loaded matching saved request http://localhost:8084/admin/home/users
2021-03-23 17:58:44.364 DEBUG 26032 --- [http-nio-8084-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /admin/home/users] with attributes [hasAuthority('ADMIN')]
2021-03-23 17:58:44.364 DEBUG 26032 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /admin/home/users
2021-03-23 17:58:44.423 DEBUG 26032 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 17:59:17.125  INFO 26032 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 17:59:17.127  INFO 26032 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 17:59:17.128  INFO 26032 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 17:59:17.150  INFO 26032 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 18:43:09.134  INFO 26822 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 26822 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 18:43:09.192 DEBUG 26822 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 18:43:09.198  INFO 26822 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 18:43:12.242  INFO 26822 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 18:43:12.375  INFO 26822 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 116 ms. Found 2 JPA repository interfaces.
2021-03-23 18:43:13.140  INFO 26822 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:43:13.146  INFO 26822 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:43:13.155  INFO 26822 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:43:13.165  INFO 26822 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:43:13.176  INFO 26822 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:43:13.179  INFO 26822 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:43:13.186  INFO 26822 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:43:13.209  INFO 26822 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:43:13.213  INFO 26822 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:43:13.217  INFO 26822 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:43:13.246  INFO 26822 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:43:13.247  INFO 26822 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:43:13.250  INFO 26822 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:43:13.253  INFO 26822 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:43:13.255  INFO 26822 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:43:13.269  INFO 26822 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:43:13.274  INFO 26822 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:43:13.286  INFO 26822 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:43:13.288  INFO 26822 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:43:13.290  INFO 26822 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:43:13.301  INFO 26822 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:43:13.330  INFO 26822 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:43:13.332  INFO 26822 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:43:13.335  INFO 26822 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:43:13.384  INFO 26822 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:43:13.441  INFO 26822 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:43:13.462  INFO 26822 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:43:13.475  INFO 26822 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:43:14.013  INFO 26822 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 18:43:14.025  INFO 26822 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 18:43:14.026  INFO 26822 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 18:43:14.129  INFO 26822 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 18:43:14.130  INFO 26822 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4747 ms
2021-03-23 18:43:14.762  INFO 26822 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 18:43:14.821  INFO 26822 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 18:43:14.878  INFO 26822 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 18:43:15.053  INFO 26822 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 18:43:15.198  INFO 26822 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 18:43:15.246  INFO 26822 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 18:43:15.246  INFO 26822 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 18:43:15.247  INFO 26822 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 18:43:15.247  INFO 26822 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 18:43:15.247  INFO 26822 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 18:43:15.377 DEBUG 26822 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 18:43:15.379 DEBUG 26822 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 18:43:15.380 DEBUG 26822 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 18:43:15.380 DEBUG 26822 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 18:43:15.381 DEBUG 26822 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('USER')] for Ant [pattern='/users/**']
2021-03-23 18:43:15.382 DEBUG 26822 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 18:43:15.416  INFO 26822 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b8ec001, org.springframework.security.web.context.SecurityContextPersistenceFilter@254449bb, org.springframework.security.web.header.HeaderWriterFilter@41b13f3d, org.springframework.security.web.authentication.logout.LogoutFilter@77f905e3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e26173, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@29ebbdf4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5d4e13e1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1e95b653, org.springframework.security.web.session.SessionManagementFilter@2489e84a, org.springframework.security.web.access.ExceptionTranslationFilter@1e60b459, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2a43e0ac]
2021-03-23 18:43:15.658  INFO 26822 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 18:43:15.681  INFO 26822 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 18:43:16.495  INFO 26822 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 18:43:16.506  INFO 26822 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 18:43:18.421  INFO 26822 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 18:43:20.172  INFO 26822 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 18:43:20.281  INFO 26822 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 18:43:20.282  INFO 26822 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2021-03-23 18:43:20.409  INFO 26822 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2021-03-23 18:43:20.426  INFO 26822 --- [main] com.ru.microservice.SecurityApplication  : Started SecurityApplication in 12.153 seconds (JVM running for 13.016)
2021-03-23 18:43:20.902  INFO 26822 --- [RMI TCP Connection(7)-192.168.0.16] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-03-23 18:43:20.906  INFO 26822 --- [RMI TCP Connection(7)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-03-23 18:43:20.909  INFO 26822 --- [RMI TCP Connection(7)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2021-03-23 18:43:37.012 DEBUG 26822 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /
2021-03-23 18:43:37.015 DEBUG 26822 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 18:43:37.017 DEBUG 26822 --- [http-nio-8084-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 18:43:37.022 DEBUG 26822 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /] with attributes [permitAll]
2021-03-23 18:43:37.023 DEBUG 26822 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /
2021-03-23 18:43:37.393 DEBUG 26822 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 18:43:37.400 DEBUG 26822 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:43:37.616 DEBUG 26822 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /favicon.ico
2021-03-23 18:43:37.617 DEBUG 26822 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 18:43:37.617 DEBUG 26822 --- [http-nio-8084-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 18:43:37.620 DEBUG 26822 --- [http-nio-8084-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /favicon.ico] with attributes [authenticated]
2021-03-23 18:43:37.627 DEBUG 26822 --- [http-nio-8084-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8084/
2021-03-23 18:43:37.628 DEBUG 26822 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 18:43:37.629 DEBUG 26822 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:43:40.437 DEBUG 26822 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 18:43:40.438 DEBUG 26822 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 18:43:40.438 DEBUG 26822 --- [http-nio-8084-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 18:43:40.439 DEBUG 26822 --- [http-nio-8084-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 18:43:40.439 DEBUG 26822 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 18:43:40.456 DEBUG 26822 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 18:43:40.457 DEBUG 26822 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:43:57.545 DEBUG 26822 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 18:43:57.546 DEBUG 26822 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 18:43:57.974 DEBUG 26822 --- [http-nio-8084-exec-5] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 18:43:57.976 DEBUG 26822 --- [http-nio-8084-exec-5] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]
2021-03-23 18:43:57.977 DEBUG 26822 --- [http-nio-8084-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /user/main
2021-03-23 18:43:57.985 DEBUG 26822 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2021-03-23 18:43:57.986 DEBUG 26822 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@15e1741a]
2021-03-23 18:43:57.986 DEBUG 26822 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:43:57.999 DEBUG 26822 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /user/main
2021-03-23 18:43:58.000 DEBUG 26822 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 18:43:58.000 DEBUG 26822 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 18:43:58.001 DEBUG 26822 --- [http-nio-8084-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /user/main] with attributes [authenticated]
2021-03-23 18:43:58.001 DEBUG 26822 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /user/main
2021-03-23 18:43:58.036 DEBUG 26822 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:44:08.137 DEBUG 26822 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /admin
2021-03-23 18:44:08.138 DEBUG 26822 --- [http-nio-8084-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 18:44:08.138 DEBUG 26822 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 18:44:08.139 DEBUG 26822 --- [http-nio-8084-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /admin] with attributes [hasAuthority('ADMIN')]
2021-03-23 18:44:08.139 DEBUG 26822 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /admin
2021-03-23 18:44:08.143 DEBUG 26822 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:44:08.145 DEBUG 26822 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /error
2021-03-23 18:44:08.146 DEBUG 26822 --- [http-nio-8084-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 18:44:08.146 DEBUG 26822 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 18:44:08.146 DEBUG 26822 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /error
2021-03-23 18:44:08.166 DEBUG 26822 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:44:13.885 DEBUG 26822 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /admin/home
2021-03-23 18:44:13.886 DEBUG 26822 --- [http-nio-8084-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 18:44:13.886 DEBUG 26822 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 18:44:13.887 DEBUG 26822 --- [http-nio-8084-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /admin/home] with attributes [hasAuthority('ADMIN')]
2021-03-23 18:44:13.888 DEBUG 26822 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /admin/home
2021-03-23 18:44:13.899 DEBUG 26822 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:45:10.106  INFO 26822 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 18:45:10.111  INFO 26822 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 18:45:10.112  INFO 26822 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 18:45:10.134  INFO 26822 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 18:45:17.498  INFO 27221 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 27221 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 18:45:17.503 DEBUG 27221 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 18:45:17.505  INFO 27221 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 18:45:18.983  INFO 27221 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 18:45:19.034  INFO 27221 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 2 JPA repository interfaces.
2021-03-23 18:45:19.388  INFO 27221 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:45:19.391  INFO 27221 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:45:19.395  INFO 27221 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:45:19.399  INFO 27221 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:45:19.405  INFO 27221 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:45:19.407  INFO 27221 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:45:19.411  INFO 27221 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:45:19.430  INFO 27221 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:45:19.433  INFO 27221 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:45:19.436  INFO 27221 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:45:19.455  INFO 27221 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:45:19.457  INFO 27221 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:45:19.459  INFO 27221 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:45:19.461  INFO 27221 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:45:19.463  INFO 27221 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:45:19.472  INFO 27221 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:45:19.476  INFO 27221 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:45:19.483  INFO 27221 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:45:19.484  INFO 27221 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:45:19.485  INFO 27221 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:45:19.490  INFO 27221 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:45:19.496  INFO 27221 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:45:19.498  INFO 27221 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:45:19.499  INFO 27221 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:45:19.504  INFO 27221 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:45:19.518  INFO 27221 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:45:19.524  INFO 27221 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:45:19.525  INFO 27221 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:45:19.812  INFO 27221 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 18:45:19.821  INFO 27221 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 18:45:19.821  INFO 27221 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 18:45:19.906  INFO 27221 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 18:45:19.906  INFO 27221 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2283 ms
2021-03-23 18:45:20.351  INFO 27221 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 18:45:20.395  INFO 27221 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 18:45:20.438  INFO 27221 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 18:45:20.551  INFO 27221 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 18:45:20.649  INFO 27221 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 18:45:20.670  INFO 27221 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 18:45:20.670  INFO 27221 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 18:45:20.670  INFO 27221 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 18:45:20.670  INFO 27221 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 18:45:20.670  INFO 27221 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 18:45:20.742 DEBUG 27221 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 18:45:20.745 DEBUG 27221 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 18:45:20.745 DEBUG 27221 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 18:45:20.745 DEBUG 27221 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 18:45:20.746 DEBUG 27221 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('USER')] for Ant [pattern='/users/**']
2021-03-23 18:45:20.747 DEBUG 27221 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 18:45:20.771  INFO 27221 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@748f93bb, org.springframework.security.web.context.SecurityContextPersistenceFilter@5583098b, org.springframework.security.web.header.HeaderWriterFilter@18a25bbd, org.springframework.security.web.authentication.logout.LogoutFilter@1eff3cfb, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6d2a2560, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@53a84ff4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@40230eb9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7f2d31af, org.springframework.security.web.session.SessionManagementFilter@1ee27d73, org.springframework.security.web.access.ExceptionTranslationFilter@4fe533ff, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6bc24e72]
2021-03-23 18:45:20.998  INFO 27221 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 18:45:21.012  INFO 27221 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 18:45:21.749  INFO 27221 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 18:45:21.760  INFO 27221 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 18:45:22.610  INFO 27221 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 18:45:23.237  INFO 27221 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 18:45:23.313  INFO 27221 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 18:45:23.315  INFO 27221 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2021-03-23 18:45:23.432  INFO 27221 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2021-03-23 18:45:23.451  INFO 27221 --- [main] com.ru.microservice.SecurityApplication  : Started SecurityApplication in 6.605 seconds (JVM running for 7.345)
2021-03-23 18:45:23.626  INFO 27221 --- [RMI TCP Connection(1)-192.168.0.16] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-03-23 18:45:23.626  INFO 27221 --- [RMI TCP Connection(1)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-03-23 18:45:23.628  INFO 27221 --- [RMI TCP Connection(1)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-03-23 18:45:27.264 DEBUG 27221 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /admin/home
2021-03-23 18:45:27.268 DEBUG 27221 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 18:45:27.270 DEBUG 27221 --- [http-nio-8084-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 18:45:27.270 DEBUG 27221 --- [http-nio-8084-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 770279D591B99D401E3FBDF4FB392E9C
2021-03-23 18:45:27.275 DEBUG 27221 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /admin/home] with attributes [hasAuthority('ADMIN')]
2021-03-23 18:45:27.293 DEBUG 27221 --- [http-nio-8084-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8084/admin/home to session
2021-03-23 18:45:27.294 DEBUG 27221 --- [http-nio-8084-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8084/
2021-03-23 18:45:27.295 DEBUG 27221 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 18:45:27.297 DEBUG 27221 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:45:27.307 DEBUG 27221 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /
2021-03-23 18:45:27.307 DEBUG 27221 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 18:45:27.307 DEBUG 27221 --- [http-nio-8084-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 18:45:27.310 DEBUG 27221 --- [http-nio-8084-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /] with attributes [permitAll]
2021-03-23 18:45:27.311 DEBUG 27221 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /
2021-03-23 18:45:27.656 DEBUG 27221 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 18:45:27.660 DEBUG 27221 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:45:29.563 DEBUG 27221 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 18:45:29.563 DEBUG 27221 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 18:45:29.564 DEBUG 27221 --- [http-nio-8084-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 18:45:29.564 DEBUG 27221 --- [http-nio-8084-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 18:45:29.564 DEBUG 27221 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 18:45:29.581 DEBUG 27221 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 18:45:29.582 DEBUG 27221 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:45:40.200 DEBUG 27221 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 18:45:40.200 DEBUG 27221 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 18:45:40.616 DEBUG 27221 --- [http-nio-8084-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 18:45:40.618 DEBUG 27221 --- [http-nio-8084-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from E8E270AF2215DEC9589D490197984764
2021-03-23 18:45:40.619 DEBUG 27221 --- [http-nio-8084-exec-4] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=E8E270AF2215DEC9589D490197984764], Granted Authorities=[ADMIN]]
2021-03-23 18:45:40.620 DEBUG 27221 --- [http-nio-8084-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8084/admin/home
2021-03-23 18:45:40.620 DEBUG 27221 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=E8E270AF2215DEC9589D490197984764], Granted Authorities=[ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@517eb502]
2021-03-23 18:45:40.621 DEBUG 27221 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:45:40.627 DEBUG 27221 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /admin/home
2021-03-23 18:45:40.627 DEBUG 27221 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=E8E270AF2215DEC9589D490197984764], Granted Authorities=[ADMIN]]]
2021-03-23 18:45:40.627 DEBUG 27221 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=E8E270AF2215DEC9589D490197984764], Granted Authorities=[ADMIN]]]
2021-03-23 18:45:40.628 DEBUG 27221 --- [http-nio-8084-exec-5] o.s.s.w.s.HttpSessionRequestCache        : Loaded matching saved request http://localhost:8084/admin/home
2021-03-23 18:45:40.630 DEBUG 27221 --- [http-nio-8084-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /admin/home] with attributes [hasAuthority('ADMIN')]
2021-03-23 18:45:40.630 DEBUG 27221 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /admin/home
2021-03-23 18:45:40.638 DEBUG 27221 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:45:40.641 DEBUG 27221 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error
2021-03-23 18:45:40.642 DEBUG 27221 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=E8E270AF2215DEC9589D490197984764], Granted Authorities=[ADMIN]]]
2021-03-23 18:45:40.642 DEBUG 27221 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=E8E270AF2215DEC9589D490197984764], Granted Authorities=[ADMIN]]]
2021-03-23 18:45:40.642 DEBUG 27221 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /error
2021-03-23 18:45:40.668 DEBUG 27221 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:45:47.533 DEBUG 27221 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /admin/home/home
2021-03-23 18:45:47.533 DEBUG 27221 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=E8E270AF2215DEC9589D490197984764], Granted Authorities=[ADMIN]]]
2021-03-23 18:45:47.534 DEBUG 27221 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=E8E270AF2215DEC9589D490197984764], Granted Authorities=[ADMIN]]]
2021-03-23 18:45:47.534 DEBUG 27221 --- [http-nio-8084-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /admin/home/home] with attributes [hasAuthority('ADMIN')]
2021-03-23 18:45:47.535 DEBUG 27221 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /admin/home/home
2021-03-23 18:45:47.565 DEBUG 27221 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:46:00.428  INFO 27221 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 18:46:00.431  INFO 27221 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 18:46:00.432  INFO 27221 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 18:46:00.458  INFO 27221 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 18:46:07.695  INFO 27366 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 27366 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 18:46:07.699 DEBUG 27366 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 18:46:07.700  INFO 27366 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 18:46:09.024  INFO 27366 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 18:46:09.077  INFO 27366 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 2 JPA repository interfaces.
2021-03-23 18:46:09.493  INFO 27366 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:46:09.496  INFO 27366 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:46:09.501  INFO 27366 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:46:09.505  INFO 27366 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:46:09.511  INFO 27366 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:46:09.513  INFO 27366 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:46:09.519  INFO 27366 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:46:09.535  INFO 27366 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:46:09.538  INFO 27366 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:46:09.540  INFO 27366 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:46:09.559  INFO 27366 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:46:09.560  INFO 27366 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:46:09.564  INFO 27366 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:46:09.566  INFO 27366 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:46:09.568  INFO 27366 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:46:09.577  INFO 27366 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:46:09.581  INFO 27366 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:46:09.589  INFO 27366 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:46:09.589  INFO 27366 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:46:09.591  INFO 27366 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:46:09.598  INFO 27366 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:46:09.606  INFO 27366 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:46:09.607  INFO 27366 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:46:09.609  INFO 27366 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:46:09.615  INFO 27366 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:46:09.629  INFO 27366 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:46:09.637  INFO 27366 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:46:09.639  INFO 27366 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:46:09.932  INFO 27366 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 18:46:09.942  INFO 27366 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 18:46:09.942  INFO 27366 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 18:46:10.033  INFO 27366 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 18:46:10.033  INFO 27366 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2267 ms
2021-03-23 18:46:10.475  INFO 27366 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 18:46:10.516  INFO 27366 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 18:46:10.560  INFO 27366 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 18:46:10.672  INFO 27366 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 18:46:10.786  INFO 27366 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 18:46:10.816  INFO 27366 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 18:46:10.817  INFO 27366 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 18:46:10.817  INFO 27366 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 18:46:10.817  INFO 27366 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 18:46:10.817  INFO 27366 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 18:46:10.908 DEBUG 27366 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 18:46:10.913 DEBUG 27366 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 18:46:10.913 DEBUG 27366 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 18:46:10.914 DEBUG 27366 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 18:46:10.915 DEBUG 27366 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('USER')] for Ant [pattern='/users/**']
2021-03-23 18:46:10.916 DEBUG 27366 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 18:46:10.952  INFO 27366 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4fc5563d, org.springframework.security.web.context.SecurityContextPersistenceFilter@2fd954f, org.springframework.security.web.header.HeaderWriterFilter@2a39aa2b, org.springframework.security.web.authentication.logout.LogoutFilter@3b7eac14, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7d21852b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6a0f2853, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2676dc05, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@286090c, org.springframework.security.web.session.SessionManagementFilter@254449bb, org.springframework.security.web.access.ExceptionTranslationFilter@40230eb9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1084f78c]
2021-03-23 18:46:11.214  INFO 27366 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 18:46:11.229  INFO 27366 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 18:46:11.987  INFO 27366 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 18:46:11.998  INFO 27366 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 18:46:12.862  INFO 27366 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 18:46:13.518  INFO 27366 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 18:46:13.595  INFO 27366 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 18:46:13.597  INFO 27366 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2021-03-23 18:46:13.716  INFO 27366 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2021-03-23 18:46:13.735  INFO 27366 --- [main] com.ru.microservice.SecurityApplication  : Started SecurityApplication in 6.657 seconds (JVM running for 7.4)
2021-03-23 18:46:13.914  INFO 27366 --- [RMI TCP Connection(3)-192.168.0.16] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-03-23 18:46:13.915  INFO 27366 --- [RMI TCP Connection(3)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-03-23 18:46:13.921  INFO 27366 --- [RMI TCP Connection(3)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2021-03-23 18:46:22.595 DEBUG 27366 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /admin/home
2021-03-23 18:46:22.598 DEBUG 27366 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 18:46:22.601 DEBUG 27366 --- [http-nio-8084-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 18:46:22.601 DEBUG 27366 --- [http-nio-8084-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 179319E7B2E2CD99DA506FE4D04A1169
2021-03-23 18:46:22.607 DEBUG 27366 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /admin/home] with attributes [hasAuthority('ADMIN')]
2021-03-23 18:46:22.625 DEBUG 27366 --- [http-nio-8084-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8084/admin/home to session
2021-03-23 18:46:22.626 DEBUG 27366 --- [http-nio-8084-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8084/
2021-03-23 18:46:22.628 DEBUG 27366 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 18:46:22.630 DEBUG 27366 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:46:22.640 DEBUG 27366 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /
2021-03-23 18:46:22.640 DEBUG 27366 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 18:46:22.640 DEBUG 27366 --- [http-nio-8084-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 18:46:22.643 DEBUG 27366 --- [http-nio-8084-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /] with attributes [permitAll]
2021-03-23 18:46:22.643 DEBUG 27366 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /
2021-03-23 18:46:22.988 DEBUG 27366 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 18:46:22.992 DEBUG 27366 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:46:26.274 DEBUG 27366 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 18:46:26.274 DEBUG 27366 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 18:46:26.275 DEBUG 27366 --- [http-nio-8084-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 18:46:26.275 DEBUG 27366 --- [http-nio-8084-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 18:46:26.275 DEBUG 27366 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 18:46:26.294 DEBUG 27366 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 18:46:26.295 DEBUG 27366 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:46:38.408 DEBUG 27366 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 18:46:38.409 DEBUG 27366 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 18:46:38.821 DEBUG 27366 --- [http-nio-8084-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 18:46:38.823 DEBUG 27366 --- [http-nio-8084-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 2D2B24FE952B5143585C40697BDDECAD
2021-03-23 18:46:38.824 DEBUG 27366 --- [http-nio-8084-exec-4] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=2D2B24FE952B5143585C40697BDDECAD], Granted Authorities=[ADMIN]]
2021-03-23 18:46:38.825 DEBUG 27366 --- [http-nio-8084-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8084/admin/home
2021-03-23 18:46:38.826 DEBUG 27366 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=2D2B24FE952B5143585C40697BDDECAD], Granted Authorities=[ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@5a009359]
2021-03-23 18:46:38.826 DEBUG 27366 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:46:38.832 DEBUG 27366 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /admin/home
2021-03-23 18:46:38.833 DEBUG 27366 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=2D2B24FE952B5143585C40697BDDECAD], Granted Authorities=[ADMIN]]]
2021-03-23 18:46:38.833 DEBUG 27366 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=2D2B24FE952B5143585C40697BDDECAD], Granted Authorities=[ADMIN]]]
2021-03-23 18:46:38.833 DEBUG 27366 --- [http-nio-8084-exec-5] o.s.s.w.s.HttpSessionRequestCache        : Loaded matching saved request http://localhost:8084/admin/home
2021-03-23 18:46:38.836 DEBUG 27366 --- [http-nio-8084-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /admin/home] with attributes [hasAuthority('ADMIN')]
2021-03-23 18:46:38.836 DEBUG 27366 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /admin/home
2021-03-23 18:46:38.877 DEBUG 27366 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:46:45.471 DEBUG 27366 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /admin/users
2021-03-23 18:46:45.472 DEBUG 27366 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=2D2B24FE952B5143585C40697BDDECAD], Granted Authorities=[ADMIN]]]
2021-03-23 18:46:45.472 DEBUG 27366 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=2D2B24FE952B5143585C40697BDDECAD], Granted Authorities=[ADMIN]]]
2021-03-23 18:46:45.472 DEBUG 27366 --- [http-nio-8084-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /admin/users] with attributes [hasAuthority('ADMIN')]
2021-03-23 18:46:45.472 DEBUG 27366 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /admin/users
2021-03-23 18:46:45.524 DEBUG 27366 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:49:42.807  INFO 27366 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 18:49:42.809  INFO 27366 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 18:49:42.810  INFO 27366 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 18:49:42.829  INFO 27366 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 18:56:07.750  INFO 27672 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 27672 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 18:56:07.754 DEBUG 27672 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 18:56:07.755  INFO 27672 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 18:56:09.130  INFO 27672 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 18:56:09.185  INFO 27672 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 2 JPA repository interfaces.
2021-03-23 18:56:09.594  INFO 27672 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:56:09.597  INFO 27672 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:56:09.602  INFO 27672 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:56:09.606  INFO 27672 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:56:09.612  INFO 27672 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:56:09.614  INFO 27672 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:56:09.618  INFO 27672 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:56:09.631  INFO 27672 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:56:09.634  INFO 27672 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:56:09.636  INFO 27672 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:56:09.651  INFO 27672 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:56:09.652  INFO 27672 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:56:09.655  INFO 27672 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:56:09.656  INFO 27672 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:56:09.657  INFO 27672 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:56:09.665  INFO 27672 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:56:09.668  INFO 27672 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:56:09.674  INFO 27672 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:56:09.675  INFO 27672 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:56:09.676  INFO 27672 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:56:09.681  INFO 27672 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:56:09.690  INFO 27672 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:56:09.691  INFO 27672 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:56:09.692  INFO 27672 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:56:09.698  INFO 27672 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:56:09.712  INFO 27672 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:56:09.720  INFO 27672 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:56:09.722  INFO 27672 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:56:10.010  INFO 27672 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 18:56:10.018  INFO 27672 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 18:56:10.018  INFO 27672 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 18:56:10.096  INFO 27672 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 18:56:10.097  INFO 27672 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2263 ms
2021-03-23 18:56:10.571  INFO 27672 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 18:56:10.612  INFO 27672 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 18:56:10.657  INFO 27672 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 18:56:10.773  INFO 27672 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 18:56:10.870  INFO 27672 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 18:56:10.893  INFO 27672 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 18:56:10.894  INFO 27672 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 18:56:10.894  INFO 27672 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 18:56:10.894  INFO 27672 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 18:56:10.894  INFO 27672 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 18:56:10.968 DEBUG 27672 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 18:56:10.970 DEBUG 27672 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 18:56:10.970 DEBUG 27672 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 18:56:10.970 DEBUG 27672 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 18:56:10.971 DEBUG 27672 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('USER')] for Ant [pattern='/users/**']
2021-03-23 18:56:10.972 DEBUG 27672 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 18:56:11.004  INFO 27672 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d21852b, org.springframework.security.web.context.SecurityContextPersistenceFilter@2a39aa2b, org.springframework.security.web.header.HeaderWriterFilter@40230eb9, org.springframework.security.web.authentication.logout.LogoutFilter@793d163b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2f74900b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@254449bb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e9f2c32, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6cd98a05, org.springframework.security.web.session.SessionManagementFilter@41b13f3d, org.springframework.security.web.access.ExceptionTranslationFilter@47311277, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7f2d31af]
2021-03-23 18:56:11.273  INFO 27672 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 18:56:11.288  INFO 27672 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 18:56:11.982  INFO 27672 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 18:56:11.993  INFO 27672 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 18:56:12.797  INFO 27672 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 18:56:13.448  INFO 27672 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 18:56:13.523  INFO 27672 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 18:56:13.524  INFO 27672 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2021-03-23 18:56:13.641  INFO 27672 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2021-03-23 18:56:13.660  INFO 27672 --- [main] com.ru.microservice.SecurityApplication  : Started SecurityApplication in 6.499 seconds (JVM running for 7.224)
2021-03-23 18:56:13.820  INFO 27672 --- [RMI TCP Connection(2)-192.168.0.16] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-03-23 18:56:13.820  INFO 27672 --- [RMI TCP Connection(2)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-03-23 18:56:13.822  INFO 27672 --- [RMI TCP Connection(2)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-03-23 18:56:25.422 DEBUG 27672 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /admin/home
2021-03-23 18:56:25.425 DEBUG 27672 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 18:56:25.427 DEBUG 27672 --- [http-nio-8084-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 18:56:25.433 DEBUG 27672 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /admin/home] with attributes [hasAuthority('ADMIN')]
2021-03-23 18:56:25.452 DEBUG 27672 --- [http-nio-8084-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8084/admin/home to session
2021-03-23 18:56:25.453 DEBUG 27672 --- [http-nio-8084-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8084/login
2021-03-23 18:56:25.455 DEBUG 27672 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 18:56:25.458 DEBUG 27672 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:56:25.472 DEBUG 27672 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 18:56:25.472 DEBUG 27672 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 18:56:25.472 DEBUG 27672 --- [http-nio-8084-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 18:56:25.476 DEBUG 27672 --- [http-nio-8084-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 18:56:25.476 DEBUG 27672 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 18:56:25.872 DEBUG 27672 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 18:56:25.876 DEBUG 27672 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:56:26.234 DEBUG 27672 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /favicon.ico
2021-03-23 18:56:26.235 DEBUG 27672 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 18:56:26.235 DEBUG 27672 --- [http-nio-8084-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 18:56:26.236 DEBUG 27672 --- [http-nio-8084-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /favicon.ico] with attributes [authenticated]
2021-03-23 18:56:26.236 DEBUG 27672 --- [http-nio-8084-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8084/login
2021-03-23 18:56:26.237 DEBUG 27672 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 18:56:26.237 DEBUG 27672 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:56:37.174 DEBUG 27672 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 18:56:37.175 DEBUG 27672 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 18:56:37.633 DEBUG 27672 --- [http-nio-8084-exec-5] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 18:56:37.635 DEBUG 27672 --- [http-nio-8084-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from B5A4F10402D72413C92B3C67547FDA21
2021-03-23 18:56:37.637 DEBUG 27672 --- [http-nio-8084-exec-5] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=B5A4F10402D72413C92B3C67547FDA21], Granted Authorities=[ADMIN]]
2021-03-23 18:56:37.638 DEBUG 27672 --- [http-nio-8084-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8084/admin/home
2021-03-23 18:56:37.638 DEBUG 27672 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=B5A4F10402D72413C92B3C67547FDA21], Granted Authorities=[ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@60332a20]
2021-03-23 18:56:37.639 DEBUG 27672 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:56:37.644 DEBUG 27672 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /admin/home
2021-03-23 18:56:37.645 DEBUG 27672 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=B5A4F10402D72413C92B3C67547FDA21], Granted Authorities=[ADMIN]]]
2021-03-23 18:56:37.645 DEBUG 27672 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=B5A4F10402D72413C92B3C67547FDA21], Granted Authorities=[ADMIN]]]
2021-03-23 18:56:37.646 DEBUG 27672 --- [http-nio-8084-exec-6] o.s.s.w.s.HttpSessionRequestCache        : Loaded matching saved request http://localhost:8084/admin/home
2021-03-23 18:56:37.648 DEBUG 27672 --- [http-nio-8084-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /admin/home] with attributes [hasAuthority('ADMIN')]
2021-03-23 18:56:37.649 DEBUG 27672 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /admin/home
2021-03-23 18:56:37.683 DEBUG 27672 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:56:37.796 DEBUG 27672 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 18:56:37.797 DEBUG 27672 --- [http-nio-8084-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=B5A4F10402D72413C92B3C67547FDA21], Granted Authorities=[ADMIN]]]
2021-03-23 18:56:37.797 DEBUG 27672 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=B5A4F10402D72413C92B3C67547FDA21], Granted Authorities=[ADMIN]]]
2021-03-23 18:56:37.797 DEBUG 27672 --- [http-nio-8084-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 18:56:37.798 DEBUG 27672 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 18:56:37.802 DEBUG 27672 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:56:45.258 DEBUG 27672 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /users
2021-03-23 18:56:45.259 DEBUG 27672 --- [http-nio-8084-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=B5A4F10402D72413C92B3C67547FDA21], Granted Authorities=[ADMIN]]]
2021-03-23 18:56:45.259 DEBUG 27672 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=B5A4F10402D72413C92B3C67547FDA21], Granted Authorities=[ADMIN]]]
2021-03-23 18:56:45.260 DEBUG 27672 --- [http-nio-8084-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /users] with attributes [hasAuthority('USER')]
2021-03-23 18:56:45.260 DEBUG 27672 --- [http-nio-8084-exec-9] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2021-03-23 18:56:45.261 DEBUG 27672 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:56:45.264 DEBUG 27672 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /error
2021-03-23 18:56:45.264 DEBUG 27672 --- [http-nio-8084-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=B5A4F10402D72413C92B3C67547FDA21], Granted Authorities=[ADMIN]]]
2021-03-23 18:56:45.264 DEBUG 27672 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=B5A4F10402D72413C92B3C67547FDA21], Granted Authorities=[ADMIN]]]
2021-03-23 18:56:45.264 DEBUG 27672 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /error
2021-03-23 18:56:45.282 DEBUG 27672 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:56:50.566 DEBUG 27672 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /users/main
2021-03-23 18:56:50.567 DEBUG 27672 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=B5A4F10402D72413C92B3C67547FDA21], Granted Authorities=[ADMIN]]]
2021-03-23 18:56:50.567 DEBUG 27672 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=B5A4F10402D72413C92B3C67547FDA21], Granted Authorities=[ADMIN]]]
2021-03-23 18:56:50.568 DEBUG 27672 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /users/main] with attributes [hasAuthority('USER')]
2021-03-23 18:56:50.568 DEBUG 27672 --- [http-nio-8084-exec-1] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2021-03-23 18:56:50.568 DEBUG 27672 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:56:50.569 DEBUG 27672 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error
2021-03-23 18:56:50.569 DEBUG 27672 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=B5A4F10402D72413C92B3C67547FDA21], Granted Authorities=[ADMIN]]]
2021-03-23 18:56:50.569 DEBUG 27672 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=B5A4F10402D72413C92B3C67547FDA21], Granted Authorities=[ADMIN]]]
2021-03-23 18:56:50.569 DEBUG 27672 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /error
2021-03-23 18:56:50.574 DEBUG 27672 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:57:24.401 DEBUG 27672 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login?
2021-03-23 18:57:24.402 DEBUG 27672 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=B5A4F10402D72413C92B3C67547FDA21], Granted Authorities=[ADMIN]]]
2021-03-23 18:57:24.402 DEBUG 27672 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=B5A4F10402D72413C92B3C67547FDA21], Granted Authorities=[ADMIN]]]
2021-03-23 18:57:24.403 DEBUG 27672 --- [http-nio-8084-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login?] with attributes [permitAll]
2021-03-23 18:57:24.404 DEBUG 27672 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login?
2021-03-23 18:57:24.409 DEBUG 27672 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:57:33.866 DEBUG 27672 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 18:57:33.867 DEBUG 27672 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=B5A4F10402D72413C92B3C67547FDA21], Granted Authorities=[ADMIN]]]
2021-03-23 18:57:33.867 DEBUG 27672 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=B5A4F10402D72413C92B3C67547FDA21], Granted Authorities=[ADMIN]]]
2021-03-23 18:57:34.002 DEBUG 27672 --- [http-nio-8084-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 18:57:34.002 DEBUG 27672 --- [http-nio-8084-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from A3D2DAC4EDFDB269ED24EE6F03930BC1
2021-03-23 18:57:34.002 DEBUG 27672 --- [http-nio-8084-exec-3] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=A3D2DAC4EDFDB269ED24EE6F03930BC1], Granted Authorities=[ADMIN]]
2021-03-23 18:57:34.003 DEBUG 27672 --- [http-nio-8084-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /user/main
2021-03-23 18:57:34.003 DEBUG 27672 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=A3D2DAC4EDFDB269ED24EE6F03930BC1], Granted Authorities=[ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@60332a20]
2021-03-23 18:57:34.003 DEBUG 27672 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:57:34.009 DEBUG 27672 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /user/main
2021-03-23 18:57:34.010 DEBUG 27672 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=A3D2DAC4EDFDB269ED24EE6F03930BC1], Granted Authorities=[ADMIN]]]
2021-03-23 18:57:34.010 DEBUG 27672 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=A3D2DAC4EDFDB269ED24EE6F03930BC1], Granted Authorities=[ADMIN]]]
2021-03-23 18:57:34.010 DEBUG 27672 --- [http-nio-8084-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /user/main] with attributes [authenticated]
2021-03-23 18:57:34.010 DEBUG 27672 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /user/main
2021-03-23 18:57:34.014 DEBUG 27672 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:57:34.015 DEBUG 27672 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error
2021-03-23 18:57:34.016 DEBUG 27672 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=A3D2DAC4EDFDB269ED24EE6F03930BC1], Granted Authorities=[ADMIN]]]
2021-03-23 18:57:34.016 DEBUG 27672 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=A3D2DAC4EDFDB269ED24EE6F03930BC1], Granted Authorities=[ADMIN]]]
2021-03-23 18:57:34.016 DEBUG 27672 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /error
2021-03-23 18:57:34.024 DEBUG 27672 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:57:34.118 DEBUG 27672 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 18:57:34.119 DEBUG 27672 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=A3D2DAC4EDFDB269ED24EE6F03930BC1], Granted Authorities=[ADMIN]]]
2021-03-23 18:57:34.119 DEBUG 27672 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=A3D2DAC4EDFDB269ED24EE6F03930BC1], Granted Authorities=[ADMIN]]]
2021-03-23 18:57:34.119 DEBUG 27672 --- [http-nio-8084-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 18:57:34.120 DEBUG 27672 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 18:57:34.124 DEBUG 27672 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:57:41.142 DEBUG 27672 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /users/main
2021-03-23 18:57:41.142 DEBUG 27672 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=A3D2DAC4EDFDB269ED24EE6F03930BC1], Granted Authorities=[ADMIN]]]
2021-03-23 18:57:41.142 DEBUG 27672 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=A3D2DAC4EDFDB269ED24EE6F03930BC1], Granted Authorities=[ADMIN]]]
2021-03-23 18:57:41.143 DEBUG 27672 --- [http-nio-8084-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /users/main] with attributes [hasAuthority('USER')]
2021-03-23 18:57:41.143 DEBUG 27672 --- [http-nio-8084-exec-6] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2021-03-23 18:57:41.144 DEBUG 27672 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:57:41.144 DEBUG 27672 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /error
2021-03-23 18:57:41.145 DEBUG 27672 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=A3D2DAC4EDFDB269ED24EE6F03930BC1], Granted Authorities=[ADMIN]]]
2021-03-23 18:57:41.145 DEBUG 27672 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=A3D2DAC4EDFDB269ED24EE6F03930BC1], Granted Authorities=[ADMIN]]]
2021-03-23 18:57:41.145 DEBUG 27672 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /error
2021-03-23 18:57:41.150 DEBUG 27672 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:57:44.485 DEBUG 27672 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /login?
2021-03-23 18:57:44.486 DEBUG 27672 --- [http-nio-8084-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=A3D2DAC4EDFDB269ED24EE6F03930BC1], Granted Authorities=[ADMIN]]]
2021-03-23 18:57:44.486 DEBUG 27672 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=A3D2DAC4EDFDB269ED24EE6F03930BC1], Granted Authorities=[ADMIN]]]
2021-03-23 18:57:44.487 DEBUG 27672 --- [http-nio-8084-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login?] with attributes [permitAll]
2021-03-23 18:57:44.487 DEBUG 27672 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /login?
2021-03-23 18:57:44.491 DEBUG 27672 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:57:53.759 DEBUG 27672 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 18:57:53.759 DEBUG 27672 --- [http-nio-8084-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=A3D2DAC4EDFDB269ED24EE6F03930BC1], Granted Authorities=[ADMIN]]]
2021-03-23 18:57:53.759 DEBUG 27672 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=A3D2DAC4EDFDB269ED24EE6F03930BC1], Granted Authorities=[ADMIN]]]
2021-03-23 18:57:53.894 DEBUG 27672 --- [http-nio-8084-exec-8] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 18:57:53.895 DEBUG 27672 --- [http-nio-8084-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 2780FE768675433B331CE90A0BDBCA7C
2021-03-23 18:57:53.895 DEBUG 27672 --- [http-nio-8084-exec-8] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=2780FE768675433B331CE90A0BDBCA7C], Granted Authorities=[ADMIN]]
2021-03-23 18:57:53.895 DEBUG 27672 --- [http-nio-8084-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /user/main
2021-03-23 18:57:53.895 DEBUG 27672 --- [http-nio-8084-exec-8] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=2780FE768675433B331CE90A0BDBCA7C], Granted Authorities=[ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@60332a20]
2021-03-23 18:57:53.895 DEBUG 27672 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:57:53.901 DEBUG 27672 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /user/main
2021-03-23 18:57:53.902 DEBUG 27672 --- [http-nio-8084-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=2780FE768675433B331CE90A0BDBCA7C], Granted Authorities=[ADMIN]]]
2021-03-23 18:57:53.902 DEBUG 27672 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=2780FE768675433B331CE90A0BDBCA7C], Granted Authorities=[ADMIN]]]
2021-03-23 18:57:53.902 DEBUG 27672 --- [http-nio-8084-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /user/main] with attributes [authenticated]
2021-03-23 18:57:53.902 DEBUG 27672 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /user/main
2021-03-23 18:57:53.910 DEBUG 27672 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:57:53.911 DEBUG 27672 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /error
2021-03-23 18:57:53.911 DEBUG 27672 --- [http-nio-8084-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=2780FE768675433B331CE90A0BDBCA7C], Granted Authorities=[ADMIN]]]
2021-03-23 18:57:53.911 DEBUG 27672 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=2780FE768675433B331CE90A0BDBCA7C], Granted Authorities=[ADMIN]]]
2021-03-23 18:57:53.911 DEBUG 27672 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /error
2021-03-23 18:57:53.915 DEBUG 27672 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:57:53.997 DEBUG 27672 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 18:57:53.997 DEBUG 27672 --- [http-nio-8084-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=2780FE768675433B331CE90A0BDBCA7C], Granted Authorities=[ADMIN]]]
2021-03-23 18:57:53.997 DEBUG 27672 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=2780FE768675433B331CE90A0BDBCA7C], Granted Authorities=[ADMIN]]]
2021-03-23 18:57:53.998 DEBUG 27672 --- [http-nio-8084-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 18:57:53.998 DEBUG 27672 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 18:57:54.003 DEBUG 27672 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:58:06.497 DEBUG 27672 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /admin/home
2021-03-23 18:58:06.498 DEBUG 27672 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=2780FE768675433B331CE90A0BDBCA7C], Granted Authorities=[ADMIN]]]
2021-03-23 18:58:06.498 DEBUG 27672 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=2780FE768675433B331CE90A0BDBCA7C], Granted Authorities=[ADMIN]]]
2021-03-23 18:58:06.498 DEBUG 27672 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /admin/home] with attributes [hasAuthority('ADMIN')]
2021-03-23 18:58:06.499 DEBUG 27672 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /admin/home
2021-03-23 18:58:06.506 DEBUG 27672 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:58:51.994  INFO 27672 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 18:58:51.999  INFO 27672 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 18:58:52.000  INFO 27672 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 18:58:52.031  INFO 27672 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 18:58:58.689  INFO 28061 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 28061 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 18:58:58.693 DEBUG 28061 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 18:58:58.694  INFO 28061 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 18:59:00.027  INFO 28061 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 18:59:00.079  INFO 28061 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44 ms. Found 2 JPA repository interfaces.
2021-03-23 18:59:00.445  INFO 28061 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:59:00.448  INFO 28061 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:59:00.452  INFO 28061 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:59:00.456  INFO 28061 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:59:00.462  INFO 28061 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:59:00.464  INFO 28061 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:59:00.468  INFO 28061 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:59:00.487  INFO 28061 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:59:00.489  INFO 28061 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:59:00.491  INFO 28061 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:59:00.506  INFO 28061 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:59:00.507  INFO 28061 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:59:00.510  INFO 28061 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:59:00.511  INFO 28061 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:59:00.513  INFO 28061 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:59:00.521  INFO 28061 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:59:00.524  INFO 28061 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:59:00.530  INFO 28061 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:59:00.530  INFO 28061 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:59:00.532  INFO 28061 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:59:00.537  INFO 28061 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:59:00.543  INFO 28061 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:59:00.544  INFO 28061 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:59:00.546  INFO 28061 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:59:00.551  INFO 28061 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:59:00.565  INFO 28061 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:59:00.571  INFO 28061 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:59:00.572  INFO 28061 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 18:59:00.906  INFO 28061 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 18:59:00.916  INFO 28061 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 18:59:00.917  INFO 28061 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 18:59:01.021  INFO 28061 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 18:59:01.021  INFO 28061 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2247 ms
2021-03-23 18:59:01.502  INFO 28061 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 18:59:01.544  INFO 28061 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 18:59:01.584  INFO 28061 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 18:59:01.701  INFO 28061 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 18:59:01.802  INFO 28061 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 18:59:01.828  INFO 28061 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 18:59:01.828  INFO 28061 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 18:59:01.828  INFO 28061 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 18:59:01.829  INFO 28061 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 18:59:01.829  INFO 28061 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 18:59:01.904 DEBUG 28061 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 18:59:01.907 DEBUG 28061 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 18:59:01.907 DEBUG 28061 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 18:59:01.907 DEBUG 28061 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 18:59:01.908 DEBUG 28061 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/users/**']
2021-03-23 18:59:01.908 DEBUG 28061 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 18:59:01.933  INFO 28061 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b8ec001, org.springframework.security.web.context.SecurityContextPersistenceFilter@254449bb, org.springframework.security.web.header.HeaderWriterFilter@41b13f3d, org.springframework.security.web.authentication.logout.LogoutFilter@77f905e3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e26173, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@29ebbdf4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5d4e13e1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1e95b653, org.springframework.security.web.session.SessionManagementFilter@2489e84a, org.springframework.security.web.access.ExceptionTranslationFilter@1e60b459, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2a43e0ac]
2021-03-23 18:59:02.158  INFO 28061 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 18:59:02.177  INFO 28061 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 18:59:02.910  INFO 28061 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 18:59:02.919  INFO 28061 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 18:59:03.783  INFO 28061 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 18:59:04.399  INFO 28061 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 18:59:04.477  INFO 28061 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 18:59:04.479  INFO 28061 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2021-03-23 18:59:04.599  INFO 28061 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2021-03-23 18:59:04.618  INFO 28061 --- [main] com.ru.microservice.SecurityApplication  : Started SecurityApplication in 6.559 seconds (JVM running for 7.247)
2021-03-23 18:59:04.798  INFO 28061 --- [RMI TCP Connection(2)-192.168.0.16] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-03-23 18:59:04.798  INFO 28061 --- [RMI TCP Connection(2)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-03-23 18:59:04.801  INFO 28061 --- [RMI TCP Connection(2)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2021-03-23 18:59:09.097 DEBUG 28061 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /admin/home
2021-03-23 18:59:09.100 DEBUG 28061 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 18:59:09.103 DEBUG 28061 --- [http-nio-8084-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 18:59:09.103 DEBUG 28061 --- [http-nio-8084-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id C70A3978196EA70FCF691A51A25F50E7
2021-03-23 18:59:09.108 DEBUG 28061 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /admin/home] with attributes [hasAuthority('ADMIN')]
2021-03-23 18:59:09.125 DEBUG 28061 --- [http-nio-8084-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8084/admin/home to session
2021-03-23 18:59:09.127 DEBUG 28061 --- [http-nio-8084-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8084/login
2021-03-23 18:59:09.128 DEBUG 28061 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 18:59:09.130 DEBUG 28061 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:59:09.140 DEBUG 28061 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 18:59:09.141 DEBUG 28061 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 18:59:09.141 DEBUG 28061 --- [http-nio-8084-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 18:59:09.145 DEBUG 28061 --- [http-nio-8084-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 18:59:09.146 DEBUG 28061 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 18:59:09.516 DEBUG 28061 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 18:59:09.520 DEBUG 28061 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:59:20.545 DEBUG 28061 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 18:59:20.545 DEBUG 28061 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 18:59:20.961 DEBUG 28061 --- [http-nio-8084-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 18:59:20.962 DEBUG 28061 --- [http-nio-8084-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 98448C521581672493B89E321C1D7F2A
2021-03-23 18:59:20.964 DEBUG 28061 --- [http-nio-8084-exec-3] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=98448C521581672493B89E321C1D7F2A], Granted Authorities=[ADMIN]]
2021-03-23 18:59:20.965 DEBUG 28061 --- [http-nio-8084-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8084/admin/home
2021-03-23 18:59:20.965 DEBUG 28061 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=98448C521581672493B89E321C1D7F2A], Granted Authorities=[ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@539932e5]
2021-03-23 18:59:20.966 DEBUG 28061 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:59:20.976 DEBUG 28061 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /admin/home
2021-03-23 18:59:20.976 DEBUG 28061 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=98448C521581672493B89E321C1D7F2A], Granted Authorities=[ADMIN]]]
2021-03-23 18:59:20.977 DEBUG 28061 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=98448C521581672493B89E321C1D7F2A], Granted Authorities=[ADMIN]]]
2021-03-23 18:59:20.977 DEBUG 28061 --- [http-nio-8084-exec-4] o.s.s.w.s.HttpSessionRequestCache        : Loaded matching saved request http://localhost:8084/admin/home
2021-03-23 18:59:20.979 DEBUG 28061 --- [http-nio-8084-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /admin/home] with attributes [hasAuthority('ADMIN')]
2021-03-23 18:59:20.980 DEBUG 28061 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /admin/home
2021-03-23 18:59:21.010 DEBUG 28061 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:59:21.099 DEBUG 28061 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 18:59:21.100 DEBUG 28061 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=98448C521581672493B89E321C1D7F2A], Granted Authorities=[ADMIN]]]
2021-03-23 18:59:21.100 DEBUG 28061 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=98448C521581672493B89E321C1D7F2A], Granted Authorities=[ADMIN]]]
2021-03-23 18:59:21.100 DEBUG 28061 --- [http-nio-8084-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 18:59:21.101 DEBUG 28061 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 18:59:21.108 DEBUG 28061 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:59:29.773 DEBUG 28061 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /users/main
2021-03-23 18:59:29.773 DEBUG 28061 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=98448C521581672493B89E321C1D7F2A], Granted Authorities=[ADMIN]]]
2021-03-23 18:59:29.773 DEBUG 28061 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=98448C521581672493B89E321C1D7F2A], Granted Authorities=[ADMIN]]]
2021-03-23 18:59:29.774 DEBUG 28061 --- [http-nio-8084-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /users/main] with attributes [hasAuthority('ADMIN')]
2021-03-23 18:59:29.775 DEBUG 28061 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /users/main
2021-03-23 18:59:29.786 DEBUG 28061 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:59:36.538 DEBUG 28061 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /logout?registration=
2021-03-23 18:59:36.539 DEBUG 28061 --- [http-nio-8084-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=98448C521581672493B89E321C1D7F2A], Granted Authorities=[ADMIN]]]
2021-03-23 18:59:36.539 DEBUG 28061 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=98448C521581672493B89E321C1D7F2A], Granted Authorities=[ADMIN]]]
2021-03-23 18:59:36.540 DEBUG 28061 --- [http-nio-8084-exec-7] o.s.s.w.a.logout.LogoutFilter            : Logging out [UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=98448C521581672493B89E321C1D7F2A], Granted Authorities=[ADMIN]]]
2021-03-23 18:59:36.541 DEBUG 28061 --- [http-nio-8084-exec-7] o.s.s.w.a.l.SecurityContextLogoutHandler : Invalidated session E3089652A7CE9BD91292556D1559CD87
2021-03-23 18:59:36.542 DEBUG 28061 --- [http-nio-8084-exec-7] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /login
2021-03-23 18:59:36.543 DEBUG 28061 --- [http-nio-8084-exec-7] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 18:59:36.544 DEBUG 28061 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:59:36.549 DEBUG 28061 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 18:59:36.550 DEBUG 28061 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 18:59:36.550 DEBUG 28061 --- [http-nio-8084-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 18:59:36.550 DEBUG 28061 --- [http-nio-8084-exec-8] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id E3089652A7CE9BD91292556D1559CD87
2021-03-23 18:59:36.551 DEBUG 28061 --- [http-nio-8084-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 18:59:36.551 DEBUG 28061 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 18:59:36.554 DEBUG 28061 --- [http-nio-8084-exec-8] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 18:59:36.555 DEBUG 28061 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:59:49.108 DEBUG 28061 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 18:59:49.108 DEBUG 28061 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 18:59:49.243 DEBUG 28061 --- [http-nio-8084-exec-9] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 18:59:49.244 DEBUG 28061 --- [http-nio-8084-exec-9] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]
2021-03-23 18:59:49.244 DEBUG 28061 --- [http-nio-8084-exec-9] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /user/main
2021-03-23 18:59:49.245 DEBUG 28061 --- [http-nio-8084-exec-9] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2021-03-23 18:59:49.245 DEBUG 28061 --- [http-nio-8084-exec-9] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@6efd245a]
2021-03-23 18:59:49.245 DEBUG 28061 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:59:49.252 DEBUG 28061 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /user/main
2021-03-23 18:59:49.252 DEBUG 28061 --- [http-nio-8084-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 18:59:49.253 DEBUG 28061 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 18:59:49.253 DEBUG 28061 --- [http-nio-8084-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /user/main] with attributes [authenticated]
2021-03-23 18:59:49.254 DEBUG 28061 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /user/main
2021-03-23 18:59:49.265 DEBUG 28061 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:59:49.268 DEBUG 28061 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /error
2021-03-23 18:59:49.268 DEBUG 28061 --- [http-nio-8084-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 18:59:49.268 DEBUG 28061 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 18:59:49.269 DEBUG 28061 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /error
2021-03-23 18:59:49.284 DEBUG 28061 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 18:59:49.386 DEBUG 28061 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 18:59:49.386 DEBUG 28061 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 18:59:49.386 DEBUG 28061 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 18:59:49.387 DEBUG 28061 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 18:59:49.387 DEBUG 28061 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 18:59:49.390 DEBUG 28061 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:00:13.377  INFO 28061 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 19:00:13.380  INFO 28061 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 19:00:13.381  INFO 28061 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 19:00:13.404  INFO 28061 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 19:00:20.119  INFO 28217 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 28217 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 19:00:20.131 DEBUG 28217 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 19:00:20.132  INFO 28217 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 19:00:21.471  INFO 28217 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 19:00:21.527  INFO 28217 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 2 JPA repository interfaces.
2021-03-23 19:00:21.894  INFO 28217 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:00:21.898  INFO 28217 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:00:21.901  INFO 28217 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:00:21.906  INFO 28217 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:00:21.911  INFO 28217 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:00:21.913  INFO 28217 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:00:21.917  INFO 28217 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:00:21.931  INFO 28217 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:00:21.933  INFO 28217 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:00:21.935  INFO 28217 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:00:21.955  INFO 28217 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:00:21.957  INFO 28217 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:00:21.959  INFO 28217 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:00:21.961  INFO 28217 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:00:21.962  INFO 28217 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:00:21.970  INFO 28217 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:00:21.973  INFO 28217 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:00:21.979  INFO 28217 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:00:21.980  INFO 28217 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:00:21.981  INFO 28217 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:00:21.986  INFO 28217 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:00:21.992  INFO 28217 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:00:21.993  INFO 28217 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:00:21.995  INFO 28217 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:00:22.000  INFO 28217 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:00:22.014  INFO 28217 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:00:22.020  INFO 28217 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:00:22.021  INFO 28217 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:00:22.312  INFO 28217 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 19:00:22.321  INFO 28217 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 19:00:22.322  INFO 28217 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 19:00:22.407  INFO 28217 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 19:00:22.407  INFO 28217 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2184 ms
2021-03-23 19:00:22.869  INFO 28217 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 19:00:22.913  INFO 28217 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 19:00:22.956  INFO 28217 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 19:00:23.066  INFO 28217 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 19:00:23.171  INFO 28217 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 19:00:23.193  INFO 28217 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 19:00:23.193  INFO 28217 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 19:00:23.193  INFO 28217 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 19:00:23.194  INFO 28217 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 19:00:23.194  INFO 28217 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 19:00:23.269 DEBUG 28217 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 19:00:23.272 DEBUG 28217 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 19:00:23.272 DEBUG 28217 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 19:00:23.272 DEBUG 28217 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 19:00:23.273 DEBUG 28217 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/users/**']
2021-03-23 19:00:23.273 DEBUG 28217 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 19:00:23.302  INFO 28217 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@346f41a9, org.springframework.security.web.context.SecurityContextPersistenceFilter@56f730b2, org.springframework.security.web.header.HeaderWriterFilter@5583098b, org.springframework.security.web.authentication.logout.LogoutFilter@5d4e13e1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@748f93bb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7930ffa9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2a39aa2b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1084f78c, org.springframework.security.web.session.SessionManagementFilter@53a84ff4, org.springframework.security.web.access.ExceptionTranslationFilter@18a25bbd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7650ded6]
2021-03-23 19:00:23.527  INFO 28217 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 19:00:23.542  INFO 28217 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 19:00:24.288  INFO 28217 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 19:00:24.298  INFO 28217 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 19:00:25.147  INFO 28217 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 19:00:25.790  INFO 28217 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 19:00:25.882  INFO 28217 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 19:00:25.884  INFO 28217 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2021-03-23 19:00:26.004  INFO 28217 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2021-03-23 19:00:26.021  INFO 28217 --- [main] com.ru.microservice.SecurityApplication  : Started SecurityApplication in 6.453 seconds (JVM running for 7.163)
2021-03-23 19:00:26.374  INFO 28217 --- [RMI TCP Connection(1)-192.168.0.16] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-03-23 19:00:26.374  INFO 28217 --- [RMI TCP Connection(1)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-03-23 19:00:26.377  INFO 28217 --- [RMI TCP Connection(1)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2021-03-23 19:00:37.127 DEBUG 28217 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /users/main
2021-03-23 19:00:37.130 DEBUG 28217 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 19:00:37.132 DEBUG 28217 --- [http-nio-8084-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 19:00:37.133 DEBUG 28217 --- [http-nio-8084-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 7D400C77FFE199A882ABB5C30C876F83
2021-03-23 19:00:37.138 DEBUG 28217 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /users/main] with attributes [hasAuthority('ADMIN')]
2021-03-23 19:00:37.156 DEBUG 28217 --- [http-nio-8084-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8084/users/main to session
2021-03-23 19:00:37.157 DEBUG 28217 --- [http-nio-8084-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8084/login
2021-03-23 19:00:37.158 DEBUG 28217 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 19:00:37.160 DEBUG 28217 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:00:37.170 DEBUG 28217 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 19:00:37.171 DEBUG 28217 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 19:00:37.171 DEBUG 28217 --- [http-nio-8084-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 19:00:37.174 DEBUG 28217 --- [http-nio-8084-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 19:00:37.175 DEBUG 28217 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 19:00:37.540 DEBUG 28217 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 19:00:37.543 DEBUG 28217 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:00:53.934 DEBUG 28217 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 19:00:53.935 DEBUG 28217 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 19:00:54.351 DEBUG 28217 --- [http-nio-8084-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 19:00:54.353 DEBUG 28217 --- [http-nio-8084-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 42E411747BC73BC7139ACFFEC9465B08
2021-03-23 19:00:54.354 DEBUG 28217 --- [http-nio-8084-exec-3] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=42E411747BC73BC7139ACFFEC9465B08], Granted Authorities=[USER]]
2021-03-23 19:00:54.355 DEBUG 28217 --- [http-nio-8084-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8084/users/main
2021-03-23 19:00:54.356 DEBUG 28217 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=42E411747BC73BC7139ACFFEC9465B08], Granted Authorities=[USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@6859e293]
2021-03-23 19:00:54.356 DEBUG 28217 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:00:54.363 DEBUG 28217 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /users/main
2021-03-23 19:00:54.363 DEBUG 28217 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=42E411747BC73BC7139ACFFEC9465B08], Granted Authorities=[USER]]]
2021-03-23 19:00:54.363 DEBUG 28217 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=42E411747BC73BC7139ACFFEC9465B08], Granted Authorities=[USER]]]
2021-03-23 19:00:54.364 DEBUG 28217 --- [http-nio-8084-exec-4] o.s.s.w.s.HttpSessionRequestCache        : Loaded matching saved request http://localhost:8084/users/main
2021-03-23 19:00:54.366 DEBUG 28217 --- [http-nio-8084-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /users/main] with attributes [hasAuthority('ADMIN')]
2021-03-23 19:00:54.366 DEBUG 28217 --- [http-nio-8084-exec-4] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2021-03-23 19:00:54.367 DEBUG 28217 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:00:54.370 DEBUG 28217 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error
2021-03-23 19:00:54.370 DEBUG 28217 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=42E411747BC73BC7139ACFFEC9465B08], Granted Authorities=[USER]]]
2021-03-23 19:00:54.370 DEBUG 28217 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=42E411747BC73BC7139ACFFEC9465B08], Granted Authorities=[USER]]]
2021-03-23 19:00:54.370 DEBUG 28217 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /error
2021-03-23 19:00:54.393 DEBUG 28217 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:00:54.484 DEBUG 28217 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 19:00:54.484 DEBUG 28217 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=42E411747BC73BC7139ACFFEC9465B08], Granted Authorities=[USER]]]
2021-03-23 19:00:54.484 DEBUG 28217 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=42E411747BC73BC7139ACFFEC9465B08], Granted Authorities=[USER]]]
2021-03-23 19:00:54.485 DEBUG 28217 --- [http-nio-8084-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 19:00:54.485 DEBUG 28217 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 19:00:54.492 DEBUG 28217 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:02:06.260 DEBUG 28217 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /login?
2021-03-23 19:02:06.261 DEBUG 28217 --- [http-nio-8084-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=42E411747BC73BC7139ACFFEC9465B08], Granted Authorities=[USER]]]
2021-03-23 19:02:06.262 DEBUG 28217 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=42E411747BC73BC7139ACFFEC9465B08], Granted Authorities=[USER]]]
2021-03-23 19:02:06.263 DEBUG 28217 --- [http-nio-8084-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login?] with attributes [permitAll]
2021-03-23 19:02:06.263 DEBUG 28217 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /login?
2021-03-23 19:02:06.267 DEBUG 28217 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:02:18.450 DEBUG 28217 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 19:02:18.450 DEBUG 28217 --- [http-nio-8084-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=42E411747BC73BC7139ACFFEC9465B08], Granted Authorities=[USER]]]
2021-03-23 19:02:18.450 DEBUG 28217 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=42E411747BC73BC7139ACFFEC9465B08], Granted Authorities=[USER]]]
2021-03-23 19:02:18.589 DEBUG 28217 --- [http-nio-8084-exec-8] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 19:02:18.590 DEBUG 28217 --- [http-nio-8084-exec-8] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 92AC07285765A6C87B041B8EF93E1DD9
2021-03-23 19:02:18.590 DEBUG 28217 --- [http-nio-8084-exec-8] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=92AC07285765A6C87B041B8EF93E1DD9], Granted Authorities=[USER]]
2021-03-23 19:02:18.590 DEBUG 28217 --- [http-nio-8084-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /users/main
2021-03-23 19:02:18.590 DEBUG 28217 --- [http-nio-8084-exec-8] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=92AC07285765A6C87B041B8EF93E1DD9], Granted Authorities=[USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@6859e293]
2021-03-23 19:02:18.591 DEBUG 28217 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:02:18.597 DEBUG 28217 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /users/main
2021-03-23 19:02:18.597 DEBUG 28217 --- [http-nio-8084-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=92AC07285765A6C87B041B8EF93E1DD9], Granted Authorities=[USER]]]
2021-03-23 19:02:18.597 DEBUG 28217 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=92AC07285765A6C87B041B8EF93E1DD9], Granted Authorities=[USER]]]
2021-03-23 19:02:18.598 DEBUG 28217 --- [http-nio-8084-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /users/main] with attributes [hasAuthority('ADMIN')]
2021-03-23 19:02:18.598 DEBUG 28217 --- [http-nio-8084-exec-9] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2021-03-23 19:02:18.598 DEBUG 28217 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:02:18.600 DEBUG 28217 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /error
2021-03-23 19:02:18.600 DEBUG 28217 --- [http-nio-8084-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=92AC07285765A6C87B041B8EF93E1DD9], Granted Authorities=[USER]]]
2021-03-23 19:02:18.600 DEBUG 28217 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=92AC07285765A6C87B041B8EF93E1DD9], Granted Authorities=[USER]]]
2021-03-23 19:02:18.601 DEBUG 28217 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /error
2021-03-23 19:02:18.608 DEBUG 28217 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:02:18.686 DEBUG 28217 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 19:02:18.686 DEBUG 28217 --- [http-nio-8084-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=92AC07285765A6C87B041B8EF93E1DD9], Granted Authorities=[USER]]]
2021-03-23 19:02:18.686 DEBUG 28217 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=92AC07285765A6C87B041B8EF93E1DD9], Granted Authorities=[USER]]]
2021-03-23 19:02:18.687 DEBUG 28217 --- [http-nio-8084-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 19:02:18.687 DEBUG 28217 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 19:02:18.693 DEBUG 28217 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:02:24.216 DEBUG 28217 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /login?
2021-03-23 19:02:24.217 DEBUG 28217 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=92AC07285765A6C87B041B8EF93E1DD9], Granted Authorities=[USER]]]
2021-03-23 19:02:24.217 DEBUG 28217 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=92AC07285765A6C87B041B8EF93E1DD9], Granted Authorities=[USER]]]
2021-03-23 19:02:24.218 DEBUG 28217 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login?] with attributes [permitAll]
2021-03-23 19:02:24.218 DEBUG 28217 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /login?
2021-03-23 19:02:24.222 DEBUG 28217 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:02:38.286 DEBUG 28217 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 19:02:38.286 DEBUG 28217 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=92AC07285765A6C87B041B8EF93E1DD9], Granted Authorities=[USER]]]
2021-03-23 19:02:38.287 DEBUG 28217 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=92AC07285765A6C87B041B8EF93E1DD9], Granted Authorities=[USER]]]
2021-03-23 19:02:38.422 DEBUG 28217 --- [http-nio-8084-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 19:02:38.423 DEBUG 28217 --- [http-nio-8084-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 9BC8DEB5E13CDAE2314CC598F6AB7533
2021-03-23 19:02:38.423 DEBUG 28217 --- [http-nio-8084-exec-2] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=9BC8DEB5E13CDAE2314CC598F6AB7533], Granted Authorities=[USER]]
2021-03-23 19:02:38.423 DEBUG 28217 --- [http-nio-8084-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /users/main
2021-03-23 19:02:38.423 DEBUG 28217 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=9BC8DEB5E13CDAE2314CC598F6AB7533], Granted Authorities=[USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@6859e293]
2021-03-23 19:02:38.423 DEBUG 28217 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:02:38.429 DEBUG 28217 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /users/main
2021-03-23 19:02:38.429 DEBUG 28217 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=9BC8DEB5E13CDAE2314CC598F6AB7533], Granted Authorities=[USER]]]
2021-03-23 19:02:38.429 DEBUG 28217 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=9BC8DEB5E13CDAE2314CC598F6AB7533], Granted Authorities=[USER]]]
2021-03-23 19:02:38.430 DEBUG 28217 --- [http-nio-8084-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /users/main] with attributes [hasAuthority('ADMIN')]
2021-03-23 19:02:38.430 DEBUG 28217 --- [http-nio-8084-exec-3] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2021-03-23 19:02:38.430 DEBUG 28217 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:02:38.431 DEBUG 28217 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /error
2021-03-23 19:02:38.431 DEBUG 28217 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=9BC8DEB5E13CDAE2314CC598F6AB7533], Granted Authorities=[USER]]]
2021-03-23 19:02:38.431 DEBUG 28217 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=9BC8DEB5E13CDAE2314CC598F6AB7533], Granted Authorities=[USER]]]
2021-03-23 19:02:38.431 DEBUG 28217 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /error
2021-03-23 19:02:38.435 DEBUG 28217 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:02:38.535 DEBUG 28217 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 19:02:38.536 DEBUG 28217 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=9BC8DEB5E13CDAE2314CC598F6AB7533], Granted Authorities=[USER]]]
2021-03-23 19:02:38.536 DEBUG 28217 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=9BC8DEB5E13CDAE2314CC598F6AB7533], Granted Authorities=[USER]]]
2021-03-23 19:02:38.537 DEBUG 28217 --- [http-nio-8084-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 19:02:38.537 DEBUG 28217 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 19:02:38.540 DEBUG 28217 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:04:15.455 DEBUG 28217 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /login?
2021-03-23 19:04:15.456 DEBUG 28217 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=9BC8DEB5E13CDAE2314CC598F6AB7533], Granted Authorities=[USER]]]
2021-03-23 19:04:15.456 DEBUG 28217 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=9BC8DEB5E13CDAE2314CC598F6AB7533], Granted Authorities=[USER]]]
2021-03-23 19:04:15.457 DEBUG 28217 --- [http-nio-8084-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login?] with attributes [permitAll]
2021-03-23 19:04:15.457 DEBUG 28217 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /login?
2021-03-23 19:04:15.463 DEBUG 28217 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:04:25.465 DEBUG 28217 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 19:04:25.465 DEBUG 28217 --- [http-nio-8084-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=9BC8DEB5E13CDAE2314CC598F6AB7533], Granted Authorities=[USER]]]
2021-03-23 19:04:25.466 DEBUG 28217 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=9BC8DEB5E13CDAE2314CC598F6AB7533], Granted Authorities=[USER]]]
2021-03-23 19:04:25.603 DEBUG 28217 --- [http-nio-8084-exec-7] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 19:04:25.603 DEBUG 28217 --- [http-nio-8084-exec-7] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from F3F91D842821E6F0C29358A55EFE70D7
2021-03-23 19:04:25.604 DEBUG 28217 --- [http-nio-8084-exec-7] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=F3F91D842821E6F0C29358A55EFE70D7], Granted Authorities=[ADMIN]]
2021-03-23 19:04:25.604 DEBUG 28217 --- [http-nio-8084-exec-7] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /users/main
2021-03-23 19:04:25.604 DEBUG 28217 --- [http-nio-8084-exec-7] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=F3F91D842821E6F0C29358A55EFE70D7], Granted Authorities=[ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@6859e293]
2021-03-23 19:04:25.604 DEBUG 28217 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:04:25.609 DEBUG 28217 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /users/main
2021-03-23 19:04:25.610 DEBUG 28217 --- [http-nio-8084-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=F3F91D842821E6F0C29358A55EFE70D7], Granted Authorities=[ADMIN]]]
2021-03-23 19:04:25.610 DEBUG 28217 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=F3F91D842821E6F0C29358A55EFE70D7], Granted Authorities=[ADMIN]]]
2021-03-23 19:04:25.610 DEBUG 28217 --- [http-nio-8084-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /users/main] with attributes [hasAuthority('ADMIN')]
2021-03-23 19:04:25.611 DEBUG 28217 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /users/main
2021-03-23 19:04:25.639 DEBUG 28217 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:04:25.718 DEBUG 28217 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 19:04:25.719 DEBUG 28217 --- [http-nio-8084-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=F3F91D842821E6F0C29358A55EFE70D7], Granted Authorities=[ADMIN]]]
2021-03-23 19:04:25.719 DEBUG 28217 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=F3F91D842821E6F0C29358A55EFE70D7], Granted Authorities=[ADMIN]]]
2021-03-23 19:04:25.720 DEBUG 28217 --- [http-nio-8084-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 19:04:25.721 DEBUG 28217 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 19:04:25.726 DEBUG 28217 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:04:34.805 DEBUG 28217 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /admin/home
2021-03-23 19:04:34.806 DEBUG 28217 --- [http-nio-8084-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=F3F91D842821E6F0C29358A55EFE70D7], Granted Authorities=[ADMIN]]]
2021-03-23 19:04:34.806 DEBUG 28217 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=F3F91D842821E6F0C29358A55EFE70D7], Granted Authorities=[ADMIN]]]
2021-03-23 19:04:34.806 DEBUG 28217 --- [http-nio-8084-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /admin/home] with attributes [hasAuthority('ADMIN')]
2021-03-23 19:04:34.807 DEBUG 28217 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /admin/home
2021-03-23 19:04:34.819 DEBUG 28217 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:04:40.945 DEBUG 28217 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /admin/users
2021-03-23 19:04:40.945 DEBUG 28217 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=F3F91D842821E6F0C29358A55EFE70D7], Granted Authorities=[ADMIN]]]
2021-03-23 19:04:40.946 DEBUG 28217 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=F3F91D842821E6F0C29358A55EFE70D7], Granted Authorities=[ADMIN]]]
2021-03-23 19:04:40.946 DEBUG 28217 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /admin/users] with attributes [hasAuthority('ADMIN')]
2021-03-23 19:04:40.946 DEBUG 28217 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /admin/users
2021-03-23 19:04:40.996 DEBUG 28217 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:04:54.376 DEBUG 28217 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /users/
2021-03-23 19:04:54.376 DEBUG 28217 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=F3F91D842821E6F0C29358A55EFE70D7], Granted Authorities=[ADMIN]]]
2021-03-23 19:04:54.377 DEBUG 28217 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=F3F91D842821E6F0C29358A55EFE70D7], Granted Authorities=[ADMIN]]]
2021-03-23 19:04:54.377 DEBUG 28217 --- [http-nio-8084-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /users/] with attributes [hasAuthority('ADMIN')]
2021-03-23 19:04:54.377 DEBUG 28217 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /users/
2021-03-23 19:04:54.543 DEBUG 28217 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:05:09.527 DEBUG 28217 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /admin/
2021-03-23 19:05:09.527 DEBUG 28217 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=F3F91D842821E6F0C29358A55EFE70D7], Granted Authorities=[ADMIN]]]
2021-03-23 19:05:09.528 DEBUG 28217 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=F3F91D842821E6F0C29358A55EFE70D7], Granted Authorities=[ADMIN]]]
2021-03-23 19:05:09.528 DEBUG 28217 --- [http-nio-8084-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /admin/] with attributes [hasAuthority('ADMIN')]
2021-03-23 19:05:09.528 DEBUG 28217 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /admin/
2021-03-23 19:05:09.532 DEBUG 28217 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:05:09.533 DEBUG 28217 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /error
2021-03-23 19:05:09.533 DEBUG 28217 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=F3F91D842821E6F0C29358A55EFE70D7], Granted Authorities=[ADMIN]]]
2021-03-23 19:05:09.533 DEBUG 28217 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=F3F91D842821E6F0C29358A55EFE70D7], Granted Authorities=[ADMIN]]]
2021-03-23 19:05:09.534 DEBUG 28217 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /error
2021-03-23 19:05:09.540 DEBUG 28217 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:05:16.421 DEBUG 28217 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /admin/users
2021-03-23 19:05:16.421 DEBUG 28217 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=F3F91D842821E6F0C29358A55EFE70D7], Granted Authorities=[ADMIN]]]
2021-03-23 19:05:16.421 DEBUG 28217 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=F3F91D842821E6F0C29358A55EFE70D7], Granted Authorities=[ADMIN]]]
2021-03-23 19:05:16.422 DEBUG 28217 --- [http-nio-8084-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /admin/users] with attributes [hasAuthority('ADMIN')]
2021-03-23 19:05:16.422 DEBUG 28217 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /admin/users
2021-03-23 19:05:16.432 DEBUG 28217 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:08:32.782  INFO 28217 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 19:08:32.786  INFO 28217 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 19:08:32.787  INFO 28217 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 19:08:32.806  INFO 28217 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 19:08:39.952  INFO 28584 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 28584 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 19:08:39.957 DEBUG 28584 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 19:08:39.971  INFO 28584 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 19:08:41.391  INFO 28584 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 19:08:41.444  INFO 28584 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 2 JPA repository interfaces.
2021-03-23 19:08:41.824  INFO 28584 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:08:41.828  INFO 28584 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:08:41.832  INFO 28584 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:08:41.838  INFO 28584 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:08:41.844  INFO 28584 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:08:41.845  INFO 28584 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:08:41.849  INFO 28584 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:08:41.863  INFO 28584 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:08:41.866  INFO 28584 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:08:41.868  INFO 28584 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:08:41.883  INFO 28584 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:08:41.884  INFO 28584 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:08:41.887  INFO 28584 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:08:41.888  INFO 28584 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:08:41.890  INFO 28584 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:08:41.898  INFO 28584 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:08:41.900  INFO 28584 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:08:41.906  INFO 28584 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:08:41.907  INFO 28584 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:08:41.908  INFO 28584 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:08:41.913  INFO 28584 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:08:41.920  INFO 28584 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:08:41.921  INFO 28584 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:08:41.922  INFO 28584 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:08:41.927  INFO 28584 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:08:41.941  INFO 28584 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:08:41.950  INFO 28584 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:08:41.952  INFO 28584 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:08:42.240  INFO 28584 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 19:08:42.248  INFO 28584 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 19:08:42.248  INFO 28584 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 19:08:42.320  INFO 28584 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 19:08:42.321  INFO 28584 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2238 ms
2021-03-23 19:08:42.761  INFO 28584 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 19:08:42.807  INFO 28584 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 19:08:42.850  INFO 28584 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 19:08:42.960  INFO 28584 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 19:08:43.064  INFO 28584 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 19:08:43.091  INFO 28584 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 19:08:43.091  INFO 28584 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 19:08:43.091  INFO 28584 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 19:08:43.091  INFO 28584 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 19:08:43.092  INFO 28584 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 19:08:43.168 DEBUG 28584 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 19:08:43.170 DEBUG 28584 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 19:08:43.171 DEBUG 28584 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 19:08:43.171 DEBUG 28584 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 19:08:43.172 DEBUG 28584 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_USER')] for Ant [pattern='/users/**']
2021-03-23 19:08:43.172 DEBUG 28584 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 19:08:43.203  INFO 28584 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b8ec001, org.springframework.security.web.context.SecurityContextPersistenceFilter@254449bb, org.springframework.security.web.header.HeaderWriterFilter@41b13f3d, org.springframework.security.web.authentication.logout.LogoutFilter@77f905e3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e26173, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@29ebbdf4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5d4e13e1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1e95b653, org.springframework.security.web.session.SessionManagementFilter@2489e84a, org.springframework.security.web.access.ExceptionTranslationFilter@1e60b459, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2a43e0ac]
2021-03-23 19:08:43.451  INFO 28584 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 19:08:43.468  INFO 28584 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 19:08:44.168  INFO 28584 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 19:08:44.177  INFO 28584 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 19:08:44.982  INFO 28584 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 19:08:45.601  INFO 28584 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 19:08:45.677  INFO 28584 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 19:08:45.679  INFO 28584 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2021-03-23 19:08:45.808  INFO 28584 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2021-03-23 19:08:45.827  INFO 28584 --- [main] com.ru.microservice.SecurityApplication  : Started SecurityApplication in 6.55 seconds (JVM running for 7.397)
2021-03-23 19:08:46.005  INFO 28584 --- [RMI TCP Connection(1)-192.168.0.16] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-03-23 19:08:46.005  INFO 28584 --- [RMI TCP Connection(1)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-03-23 19:08:46.007  INFO 28584 --- [RMI TCP Connection(1)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-03-23 19:08:50.925 DEBUG 28584 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /admin/users
2021-03-23 19:08:50.928 DEBUG 28584 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 19:08:50.930 DEBUG 28584 --- [http-nio-8084-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 19:08:50.931 DEBUG 28584 --- [http-nio-8084-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id BC7ABFD9A3BBF5807B954097C4DCD08A
2021-03-23 19:08:50.936 DEBUG 28584 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /admin/users] with attributes [hasAuthority('ADMIN')]
2021-03-23 19:08:50.955 DEBUG 28584 --- [http-nio-8084-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8084/admin/users to session
2021-03-23 19:08:50.956 DEBUG 28584 --- [http-nio-8084-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8084/login
2021-03-23 19:08:50.957 DEBUG 28584 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 19:08:50.960 DEBUG 28584 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:08:50.968 DEBUG 28584 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 19:08:50.969 DEBUG 28584 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 19:08:50.969 DEBUG 28584 --- [http-nio-8084-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 19:08:50.972 DEBUG 28584 --- [http-nio-8084-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 19:08:50.973 DEBUG 28584 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 19:08:51.338 DEBUG 28584 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 19:08:51.342 DEBUG 28584 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:09:02.956 DEBUG 28584 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 19:09:02.957 DEBUG 28584 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 19:09:03.405 DEBUG 28584 --- [http-nio-8084-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 19:09:03.407 DEBUG 28584 --- [http-nio-8084-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 65C6BC36389CBAF46696D93A3DFB2014
2021-03-23 19:09:03.409 DEBUG 28584 --- [http-nio-8084-exec-3] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=65C6BC36389CBAF46696D93A3DFB2014], Granted Authorities=[ADMIN]]
2021-03-23 19:09:03.410 DEBUG 28584 --- [http-nio-8084-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8084/admin/users
2021-03-23 19:09:03.411 DEBUG 28584 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=65C6BC36389CBAF46696D93A3DFB2014], Granted Authorities=[ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@7be9b2d1]
2021-03-23 19:09:03.411 DEBUG 28584 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:09:03.417 DEBUG 28584 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /admin/users
2021-03-23 19:09:03.417 DEBUG 28584 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=65C6BC36389CBAF46696D93A3DFB2014], Granted Authorities=[ADMIN]]]
2021-03-23 19:09:03.418 DEBUG 28584 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=65C6BC36389CBAF46696D93A3DFB2014], Granted Authorities=[ADMIN]]]
2021-03-23 19:09:03.418 DEBUG 28584 --- [http-nio-8084-exec-4] o.s.s.w.s.HttpSessionRequestCache        : Loaded matching saved request http://localhost:8084/admin/users
2021-03-23 19:09:03.420 DEBUG 28584 --- [http-nio-8084-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /admin/users] with attributes [hasAuthority('ADMIN')]
2021-03-23 19:09:03.421 DEBUG 28584 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /admin/users
2021-03-23 19:09:03.479 DEBUG 28584 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:09:11.798 DEBUG 28584 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /admin/home
2021-03-23 19:09:11.799 DEBUG 28584 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=65C6BC36389CBAF46696D93A3DFB2014], Granted Authorities=[ADMIN]]]
2021-03-23 19:09:11.799 DEBUG 28584 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=65C6BC36389CBAF46696D93A3DFB2014], Granted Authorities=[ADMIN]]]
2021-03-23 19:09:11.800 DEBUG 28584 --- [http-nio-8084-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /admin/home] with attributes [hasAuthority('ADMIN')]
2021-03-23 19:09:11.800 DEBUG 28584 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /admin/home
2021-03-23 19:09:11.829 DEBUG 28584 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:09:11.908 DEBUG 28584 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 19:09:11.908 DEBUG 28584 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=65C6BC36389CBAF46696D93A3DFB2014], Granted Authorities=[ADMIN]]]
2021-03-23 19:09:11.909 DEBUG 28584 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=65C6BC36389CBAF46696D93A3DFB2014], Granted Authorities=[ADMIN]]]
2021-03-23 19:09:11.909 DEBUG 28584 --- [http-nio-8084-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 19:09:11.909 DEBUG 28584 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 19:09:11.914 DEBUG 28584 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:09:23.173 DEBUG 28584 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /users/main
2021-03-23 19:09:23.174 DEBUG 28584 --- [http-nio-8084-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=65C6BC36389CBAF46696D93A3DFB2014], Granted Authorities=[ADMIN]]]
2021-03-23 19:09:23.174 DEBUG 28584 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=65C6BC36389CBAF46696D93A3DFB2014], Granted Authorities=[ADMIN]]]
2021-03-23 19:09:23.175 DEBUG 28584 --- [http-nio-8084-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /users/main] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_USER')]
2021-03-23 19:09:23.176 DEBUG 28584 --- [http-nio-8084-exec-7] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2021-03-23 19:09:23.176 DEBUG 28584 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:09:23.179 DEBUG 28584 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /error
2021-03-23 19:09:23.179 DEBUG 28584 --- [http-nio-8084-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=65C6BC36389CBAF46696D93A3DFB2014], Granted Authorities=[ADMIN]]]
2021-03-23 19:09:23.179 DEBUG 28584 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=65C6BC36389CBAF46696D93A3DFB2014], Granted Authorities=[ADMIN]]]
2021-03-23 19:09:23.180 DEBUG 28584 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /error
2021-03-23 19:09:23.198 DEBUG 28584 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:09:27.526 DEBUG 28584 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /login?
2021-03-23 19:09:27.526 DEBUG 28584 --- [http-nio-8084-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=65C6BC36389CBAF46696D93A3DFB2014], Granted Authorities=[ADMIN]]]
2021-03-23 19:09:27.526 DEBUG 28584 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=65C6BC36389CBAF46696D93A3DFB2014], Granted Authorities=[ADMIN]]]
2021-03-23 19:09:27.528 DEBUG 28584 --- [http-nio-8084-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login?] with attributes [permitAll]
2021-03-23 19:09:27.528 DEBUG 28584 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /login?
2021-03-23 19:09:27.534 DEBUG 28584 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:09:37.610 DEBUG 28584 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 19:09:37.610 DEBUG 28584 --- [http-nio-8084-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=65C6BC36389CBAF46696D93A3DFB2014], Granted Authorities=[ADMIN]]]
2021-03-23 19:09:37.610 DEBUG 28584 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=65C6BC36389CBAF46696D93A3DFB2014], Granted Authorities=[ADMIN]]]
2021-03-23 19:09:37.744 DEBUG 28584 --- [http-nio-8084-exec-9] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 19:09:37.744 DEBUG 28584 --- [http-nio-8084-exec-9] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 059C7DBA7EC1B18B917715A89455C6DF
2021-03-23 19:09:37.744 DEBUG 28584 --- [http-nio-8084-exec-9] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=059C7DBA7EC1B18B917715A89455C6DF], Granted Authorities=[ADMIN]]
2021-03-23 19:09:37.744 DEBUG 28584 --- [http-nio-8084-exec-9] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /users/main
2021-03-23 19:09:37.745 DEBUG 28584 --- [http-nio-8084-exec-9] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=059C7DBA7EC1B18B917715A89455C6DF], Granted Authorities=[ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@7be9b2d1]
2021-03-23 19:09:37.745 DEBUG 28584 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:09:37.751 DEBUG 28584 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /users/main
2021-03-23 19:09:37.751 DEBUG 28584 --- [http-nio-8084-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=059C7DBA7EC1B18B917715A89455C6DF], Granted Authorities=[ADMIN]]]
2021-03-23 19:09:37.752 DEBUG 28584 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=059C7DBA7EC1B18B917715A89455C6DF], Granted Authorities=[ADMIN]]]
2021-03-23 19:09:37.752 DEBUG 28584 --- [http-nio-8084-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /users/main] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_USER')]
2021-03-23 19:09:37.752 DEBUG 28584 --- [http-nio-8084-exec-10] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2021-03-23 19:09:37.753 DEBUG 28584 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:09:37.753 DEBUG 28584 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /error
2021-03-23 19:09:37.754 DEBUG 28584 --- [http-nio-8084-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=059C7DBA7EC1B18B917715A89455C6DF], Granted Authorities=[ADMIN]]]
2021-03-23 19:09:37.754 DEBUG 28584 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=059C7DBA7EC1B18B917715A89455C6DF], Granted Authorities=[ADMIN]]]
2021-03-23 19:09:37.754 DEBUG 28584 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /error
2021-03-23 19:09:37.760 DEBUG 28584 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:09:37.862 DEBUG 28584 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 19:09:37.862 DEBUG 28584 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=059C7DBA7EC1B18B917715A89455C6DF], Granted Authorities=[ADMIN]]]
2021-03-23 19:09:37.863 DEBUG 28584 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=059C7DBA7EC1B18B917715A89455C6DF], Granted Authorities=[ADMIN]]]
2021-03-23 19:09:37.863 DEBUG 28584 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 19:09:37.863 DEBUG 28584 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 19:09:37.868 DEBUG 28584 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:09:49.624 DEBUG 28584 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login?
2021-03-23 19:09:49.625 DEBUG 28584 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=059C7DBA7EC1B18B917715A89455C6DF], Granted Authorities=[ADMIN]]]
2021-03-23 19:09:49.625 DEBUG 28584 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=059C7DBA7EC1B18B917715A89455C6DF], Granted Authorities=[ADMIN]]]
2021-03-23 19:09:49.625 DEBUG 28584 --- [http-nio-8084-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login?] with attributes [permitAll]
2021-03-23 19:09:49.626 DEBUG 28584 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login?
2021-03-23 19:09:49.631 DEBUG 28584 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:10:02.993 DEBUG 28584 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 19:10:02.994 DEBUG 28584 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=059C7DBA7EC1B18B917715A89455C6DF], Granted Authorities=[ADMIN]]]
2021-03-23 19:10:02.994 DEBUG 28584 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=059C7DBA7EC1B18B917715A89455C6DF], Granted Authorities=[ADMIN]]]
2021-03-23 19:10:03.130 DEBUG 28584 --- [http-nio-8084-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 19:10:03.130 DEBUG 28584 --- [http-nio-8084-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 3960FCF8656E3D03B90495836C2FA863
2021-03-23 19:10:03.131 DEBUG 28584 --- [http-nio-8084-exec-3] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=3960FCF8656E3D03B90495836C2FA863], Granted Authorities=[USER]]
2021-03-23 19:10:03.131 DEBUG 28584 --- [http-nio-8084-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /users/main
2021-03-23 19:10:03.131 DEBUG 28584 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=3960FCF8656E3D03B90495836C2FA863], Granted Authorities=[USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@7be9b2d1]
2021-03-23 19:10:03.131 DEBUG 28584 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:10:03.137 DEBUG 28584 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /users/main
2021-03-23 19:10:03.137 DEBUG 28584 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=3960FCF8656E3D03B90495836C2FA863], Granted Authorities=[USER]]]
2021-03-23 19:10:03.137 DEBUG 28584 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=3960FCF8656E3D03B90495836C2FA863], Granted Authorities=[USER]]]
2021-03-23 19:10:03.138 DEBUG 28584 --- [http-nio-8084-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /users/main] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_USER')]
2021-03-23 19:10:03.138 DEBUG 28584 --- [http-nio-8084-exec-4] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2021-03-23 19:10:03.139 DEBUG 28584 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:10:03.139 DEBUG 28584 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error
2021-03-23 19:10:03.140 DEBUG 28584 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=3960FCF8656E3D03B90495836C2FA863], Granted Authorities=[USER]]]
2021-03-23 19:10:03.140 DEBUG 28584 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=3960FCF8656E3D03B90495836C2FA863], Granted Authorities=[USER]]]
2021-03-23 19:10:03.140 DEBUG 28584 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /error
2021-03-23 19:10:03.145 DEBUG 28584 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:10:03.229 DEBUG 28584 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 19:10:03.229 DEBUG 28584 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=3960FCF8656E3D03B90495836C2FA863], Granted Authorities=[USER]]]
2021-03-23 19:10:03.229 DEBUG 28584 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=3960FCF8656E3D03B90495836C2FA863], Granted Authorities=[USER]]]
2021-03-23 19:10:03.230 DEBUG 28584 --- [http-nio-8084-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 19:10:03.230 DEBUG 28584 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 19:10:03.232 DEBUG 28584 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:10:30.048 DEBUG 28584 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /
2021-03-23 19:10:30.048 DEBUG 28584 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=3960FCF8656E3D03B90495836C2FA863], Granted Authorities=[USER]]]
2021-03-23 19:10:30.048 DEBUG 28584 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=3960FCF8656E3D03B90495836C2FA863], Granted Authorities=[USER]]]
2021-03-23 19:10:30.049 DEBUG 28584 --- [http-nio-8084-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /] with attributes [permitAll]
2021-03-23 19:10:30.049 DEBUG 28584 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /
2021-03-23 19:10:30.053 DEBUG 28584 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:10:32.379 DEBUG 28584 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 19:10:32.380 DEBUG 28584 --- [http-nio-8084-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=3960FCF8656E3D03B90495836C2FA863], Granted Authorities=[USER]]]
2021-03-23 19:10:32.380 DEBUG 28584 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=3960FCF8656E3D03B90495836C2FA863], Granted Authorities=[USER]]]
2021-03-23 19:10:32.380 DEBUG 28584 --- [http-nio-8084-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 19:10:32.381 DEBUG 28584 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 19:10:32.385 DEBUG 28584 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:10:48.183 DEBUG 28584 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /registration?
2021-03-23 19:10:48.183 DEBUG 28584 --- [http-nio-8084-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=3960FCF8656E3D03B90495836C2FA863], Granted Authorities=[USER]]]
2021-03-23 19:10:48.183 DEBUG 28584 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=3960FCF8656E3D03B90495836C2FA863], Granted Authorities=[USER]]]
2021-03-23 19:10:48.184 DEBUG 28584 --- [http-nio-8084-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /registration?] with attributes [permitAll]
2021-03-23 19:10:48.184 DEBUG 28584 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /registration?
2021-03-23 19:10:48.222 DEBUG 28584 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:11:05.158 DEBUG 28584 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /registration
2021-03-23 19:11:05.159 DEBUG 28584 --- [http-nio-8084-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=3960FCF8656E3D03B90495836C2FA863], Granted Authorities=[USER]]]
2021-03-23 19:11:05.159 DEBUG 28584 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=3960FCF8656E3D03B90495836C2FA863], Granted Authorities=[USER]]]
2021-03-23 19:11:05.159 DEBUG 28584 --- [http-nio-8084-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /registration] with attributes [permitAll]
2021-03-23 19:11:05.160 DEBUG 28584 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /registration
2021-03-23 19:11:05.419 DEBUG 28584 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:11:05.423 DEBUG 28584 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /login?successMessage=%D0%92%D1%8B+%D1%83%D1%81%D0%BF%D0%B5%D1%88%D0%BD%D0%BE+%D0%B7%D0%B0%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D1%8B%21
2021-03-23 19:11:05.424 DEBUG 28584 --- [http-nio-8084-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=3960FCF8656E3D03B90495836C2FA863], Granted Authorities=[USER]]]
2021-03-23 19:11:05.424 DEBUG 28584 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=3960FCF8656E3D03B90495836C2FA863], Granted Authorities=[USER]]]
2021-03-23 19:11:05.425 DEBUG 28584 --- [http-nio-8084-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login?successMessage=%D0%92%D1%8B+%D1%83%D1%81%D0%BF%D0%B5%D1%88%D0%BD%D0%BE+%D0%B7%D0%B0%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D1%8B%21] with attributes [permitAll]
2021-03-23 19:11:05.425 DEBUG 28584 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /login?successMessage=%D0%92%D1%8B+%D1%83%D1%81%D0%BF%D0%B5%D1%88%D0%BD%D0%BE+%D0%B7%D0%B0%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D1%8B%21
2021-03-23 19:11:05.428 DEBUG 28584 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:11:22.053 DEBUG 28584 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 19:11:22.053 DEBUG 28584 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=3960FCF8656E3D03B90495836C2FA863], Granted Authorities=[USER]]]
2021-03-23 19:11:22.054 DEBUG 28584 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=3960FCF8656E3D03B90495836C2FA863], Granted Authorities=[USER]]]
2021-03-23 19:11:22.189 DEBUG 28584 --- [http-nio-8084-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 19:11:22.189 DEBUG 28584 --- [http-nio-8084-exec-1] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 5ACF0C5AA28B479AF9E94421FD40B3BE
2021-03-23 19:11:22.190 DEBUG 28584 --- [http-nio-8084-exec-1] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user1@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=5ACF0C5AA28B479AF9E94421FD40B3BE], Granted Authorities=[USER]]
2021-03-23 19:11:22.190 DEBUG 28584 --- [http-nio-8084-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /users/main
2021-03-23 19:11:22.190 DEBUG 28584 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user1@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=5ACF0C5AA28B479AF9E94421FD40B3BE], Granted Authorities=[USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@7be9b2d1]
2021-03-23 19:11:22.190 DEBUG 28584 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:11:22.196 DEBUG 28584 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /users/main
2021-03-23 19:11:22.196 DEBUG 28584 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user1@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=5ACF0C5AA28B479AF9E94421FD40B3BE], Granted Authorities=[USER]]]
2021-03-23 19:11:22.196 DEBUG 28584 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user1@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=5ACF0C5AA28B479AF9E94421FD40B3BE], Granted Authorities=[USER]]]
2021-03-23 19:11:22.197 DEBUG 28584 --- [http-nio-8084-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /users/main] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_USER')]
2021-03-23 19:11:22.197 DEBUG 28584 --- [http-nio-8084-exec-2] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2021-03-23 19:11:22.197 DEBUG 28584 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:11:22.198 DEBUG 28584 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error
2021-03-23 19:11:22.198 DEBUG 28584 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user1@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=5ACF0C5AA28B479AF9E94421FD40B3BE], Granted Authorities=[USER]]]
2021-03-23 19:11:22.198 DEBUG 28584 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user1@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=5ACF0C5AA28B479AF9E94421FD40B3BE], Granted Authorities=[USER]]]
2021-03-23 19:11:22.198 DEBUG 28584 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /error
2021-03-23 19:11:22.202 DEBUG 28584 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:11:22.279 DEBUG 28584 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 19:11:22.279 DEBUG 28584 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user1@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=5ACF0C5AA28B479AF9E94421FD40B3BE], Granted Authorities=[USER]]]
2021-03-23 19:11:22.279 DEBUG 28584 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user1@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=5ACF0C5AA28B479AF9E94421FD40B3BE], Granted Authorities=[USER]]]
2021-03-23 19:11:22.280 DEBUG 28584 --- [http-nio-8084-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 19:11:22.280 DEBUG 28584 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 19:11:22.283 DEBUG 28584 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:11:40.419  INFO 28584 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 19:11:40.422  INFO 28584 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 19:11:40.422  INFO 28584 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 19:11:40.447  INFO 28584 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 19:11:47.732  INFO 28773 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 28773 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 19:11:47.740 DEBUG 28773 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 19:11:47.741  INFO 28773 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 19:11:49.490  INFO 28773 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 19:11:49.549  INFO 28773 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50 ms. Found 2 JPA repository interfaces.
2021-03-23 19:11:49.967  INFO 28773 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:11:49.970  INFO 28773 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:11:49.974  INFO 28773 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:11:49.979  INFO 28773 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:11:49.985  INFO 28773 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:11:49.987  INFO 28773 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:11:49.991  INFO 28773 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:11:50.009  INFO 28773 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:11:50.012  INFO 28773 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:11:50.014  INFO 28773 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:11:50.030  INFO 28773 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:11:50.031  INFO 28773 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:11:50.034  INFO 28773 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:11:50.036  INFO 28773 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:11:50.037  INFO 28773 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:11:50.048  INFO 28773 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:11:50.050  INFO 28773 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:11:50.057  INFO 28773 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:11:50.058  INFO 28773 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:11:50.059  INFO 28773 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:11:50.066  INFO 28773 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:11:50.073  INFO 28773 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:11:50.075  INFO 28773 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:11:50.076  INFO 28773 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:11:50.083  INFO 28773 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:11:50.098  INFO 28773 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:11:50.107  INFO 28773 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:11:50.108  INFO 28773 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:11:50.434  INFO 28773 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 19:11:50.442  INFO 28773 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 19:11:50.442  INFO 28773 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 19:11:50.515  INFO 28773 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 19:11:50.516  INFO 28773 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2638 ms
2021-03-23 19:11:50.842  INFO 28773 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 19:11:50.997  INFO 28773 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 19:11:51.053  INFO 28773 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 19:11:51.194  INFO 28773 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 19:11:51.311  INFO 28773 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 19:11:51.346  INFO 28773 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 19:11:51.347  INFO 28773 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 19:11:51.347  INFO 28773 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 19:11:51.347  INFO 28773 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 19:11:51.347  INFO 28773 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 19:11:51.421 DEBUG 28773 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 19:11:51.423 DEBUG 28773 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 19:11:51.424 DEBUG 28773 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 19:11:51.424 DEBUG 28773 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 19:11:51.425 DEBUG 28773 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('USER')] for Ant [pattern='/users/**']
2021-03-23 19:11:51.425 DEBUG 28773 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 19:11:51.455  INFO 28773 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d21852b, org.springframework.security.web.context.SecurityContextPersistenceFilter@2a39aa2b, org.springframework.security.web.header.HeaderWriterFilter@40230eb9, org.springframework.security.web.authentication.logout.LogoutFilter@793d163b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2f74900b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@254449bb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e9f2c32, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6cd98a05, org.springframework.security.web.session.SessionManagementFilter@41b13f3d, org.springframework.security.web.access.ExceptionTranslationFilter@47311277, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7f2d31af]
2021-03-23 19:11:51.670  INFO 28773 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 19:11:51.683  INFO 28773 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 19:11:52.403  INFO 28773 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 19:11:52.414  INFO 28773 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 19:11:53.052  INFO 28773 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 19:11:53.932  INFO 28773 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 19:11:54.009  INFO 28773 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 19:11:54.011  INFO 28773 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2021-03-23 19:11:54.130  INFO 28773 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2021-03-23 19:11:54.150  INFO 28773 --- [main] com.ru.microservice.SecurityApplication  : Started SecurityApplication in 6.979 seconds (JVM running for 7.823)
2021-03-23 19:11:54.591  INFO 28773 --- [RMI TCP Connection(2)-192.168.0.16] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-03-23 19:11:54.592  INFO 28773 --- [RMI TCP Connection(2)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-03-23 19:11:54.594  INFO 28773 --- [RMI TCP Connection(2)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-03-23 19:11:58.695 DEBUG 28773 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /users/main
2021-03-23 19:11:58.698 DEBUG 28773 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 19:11:58.701 DEBUG 28773 --- [http-nio-8084-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 19:11:58.701 DEBUG 28773 --- [http-nio-8084-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0E20A4728434B651D988B16F1E474215
2021-03-23 19:11:58.706 DEBUG 28773 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /users/main] with attributes [hasAuthority('USER')]
2021-03-23 19:11:58.725 DEBUG 28773 --- [http-nio-8084-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8084/users/main to session
2021-03-23 19:11:58.726 DEBUG 28773 --- [http-nio-8084-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8084/login
2021-03-23 19:11:58.728 DEBUG 28773 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 19:11:58.731 DEBUG 28773 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:11:58.740 DEBUG 28773 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 19:11:58.740 DEBUG 28773 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 19:11:58.741 DEBUG 28773 --- [http-nio-8084-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 19:11:58.744 DEBUG 28773 --- [http-nio-8084-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 19:11:58.745 DEBUG 28773 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 19:11:59.117 DEBUG 28773 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 19:11:59.120 DEBUG 28773 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:12:16.771 DEBUG 28773 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 19:12:16.771 DEBUG 28773 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 19:12:17.176 DEBUG 28773 --- [http-nio-8084-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 19:12:17.178 DEBUG 28773 --- [http-nio-8084-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 8244F9739FD9048A181828CC38DEC5AB
2021-03-23 19:12:17.179 DEBUG 28773 --- [http-nio-8084-exec-3] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user1@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8244F9739FD9048A181828CC38DEC5AB], Granted Authorities=[USER]]
2021-03-23 19:12:17.180 DEBUG 28773 --- [http-nio-8084-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8084/users/main
2021-03-23 19:12:17.180 DEBUG 28773 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user1@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8244F9739FD9048A181828CC38DEC5AB], Granted Authorities=[USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@1ead997b]
2021-03-23 19:12:17.181 DEBUG 28773 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:12:17.186 DEBUG 28773 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /users/main
2021-03-23 19:12:17.186 DEBUG 28773 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user1@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8244F9739FD9048A181828CC38DEC5AB], Granted Authorities=[USER]]]
2021-03-23 19:12:17.186 DEBUG 28773 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user1@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8244F9739FD9048A181828CC38DEC5AB], Granted Authorities=[USER]]]
2021-03-23 19:12:17.187 DEBUG 28773 --- [http-nio-8084-exec-4] o.s.s.w.s.HttpSessionRequestCache        : Loaded matching saved request http://localhost:8084/users/main
2021-03-23 19:12:17.189 DEBUG 28773 --- [http-nio-8084-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /users/main] with attributes [hasAuthority('USER')]
2021-03-23 19:12:17.189 DEBUG 28773 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /users/main
2021-03-23 19:12:17.225 DEBUG 28773 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:12:17.332 DEBUG 28773 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 19:12:17.333 DEBUG 28773 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user1@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8244F9739FD9048A181828CC38DEC5AB], Granted Authorities=[USER]]]
2021-03-23 19:12:17.333 DEBUG 28773 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user1@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8244F9739FD9048A181828CC38DEC5AB], Granted Authorities=[USER]]]
2021-03-23 19:12:17.334 DEBUG 28773 --- [http-nio-8084-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 19:12:17.334 DEBUG 28773 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 19:12:17.338 DEBUG 28773 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:12:25.610 DEBUG 28773 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /users/
2021-03-23 19:12:25.610 DEBUG 28773 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user1@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8244F9739FD9048A181828CC38DEC5AB], Granted Authorities=[USER]]]
2021-03-23 19:12:25.610 DEBUG 28773 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user1@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8244F9739FD9048A181828CC38DEC5AB], Granted Authorities=[USER]]]
2021-03-23 19:12:25.611 DEBUG 28773 --- [http-nio-8084-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /users/] with attributes [hasAuthority('USER')]
2021-03-23 19:12:25.611 DEBUG 28773 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /users/
2021-03-23 19:12:25.789 DEBUG 28773 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:13:33.203 DEBUG 28773 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /admin/users/
2021-03-23 19:13:33.204 DEBUG 28773 --- [http-nio-8084-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user1@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8244F9739FD9048A181828CC38DEC5AB], Granted Authorities=[USER]]]
2021-03-23 19:13:33.204 DEBUG 28773 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user1@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8244F9739FD9048A181828CC38DEC5AB], Granted Authorities=[USER]]]
2021-03-23 19:13:33.206 DEBUG 28773 --- [http-nio-8084-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /admin/users/] with attributes [hasAuthority('ADMIN')]
2021-03-23 19:13:33.206 DEBUG 28773 --- [http-nio-8084-exec-8] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2021-03-23 19:13:33.207 DEBUG 28773 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:13:33.209 DEBUG 28773 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /error
2021-03-23 19:13:33.209 DEBUG 28773 --- [http-nio-8084-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user1@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8244F9739FD9048A181828CC38DEC5AB], Granted Authorities=[USER]]]
2021-03-23 19:13:33.209 DEBUG 28773 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user1@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8244F9739FD9048A181828CC38DEC5AB], Granted Authorities=[USER]]]
2021-03-23 19:13:33.209 DEBUG 28773 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /error
2021-03-23 19:13:33.224 DEBUG 28773 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:13:36.671 DEBUG 28773 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /login?
2021-03-23 19:13:36.671 DEBUG 28773 --- [http-nio-8084-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user1@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8244F9739FD9048A181828CC38DEC5AB], Granted Authorities=[USER]]]
2021-03-23 19:13:36.672 DEBUG 28773 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user1@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8244F9739FD9048A181828CC38DEC5AB], Granted Authorities=[USER]]]
2021-03-23 19:13:36.673 DEBUG 28773 --- [http-nio-8084-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login?] with attributes [permitAll]
2021-03-23 19:13:36.674 DEBUG 28773 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /login?
2021-03-23 19:13:36.679 DEBUG 28773 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:13:45.661 DEBUG 28773 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /registration?
2021-03-23 19:13:45.661 DEBUG 28773 --- [http-nio-8084-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user1@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8244F9739FD9048A181828CC38DEC5AB], Granted Authorities=[USER]]]
2021-03-23 19:13:45.661 DEBUG 28773 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user1@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8244F9739FD9048A181828CC38DEC5AB], Granted Authorities=[USER]]]
2021-03-23 19:13:45.662 DEBUG 28773 --- [http-nio-8084-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /registration?] with attributes [permitAll]
2021-03-23 19:13:45.663 DEBUG 28773 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /registration?
2021-03-23 19:13:45.697 DEBUG 28773 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:13:46.785 DEBUG 28773 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /login?
2021-03-23 19:13:46.786 DEBUG 28773 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user1@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8244F9739FD9048A181828CC38DEC5AB], Granted Authorities=[USER]]]
2021-03-23 19:13:46.786 DEBUG 28773 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user1@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8244F9739FD9048A181828CC38DEC5AB], Granted Authorities=[USER]]]
2021-03-23 19:13:46.786 DEBUG 28773 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login?] with attributes [permitAll]
2021-03-23 19:13:46.787 DEBUG 28773 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /login?
2021-03-23 19:13:46.791 DEBUG 28773 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:13:56.830 DEBUG 28773 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 19:13:56.830 DEBUG 28773 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user1@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8244F9739FD9048A181828CC38DEC5AB], Granted Authorities=[USER]]]
2021-03-23 19:13:56.831 DEBUG 28773 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user1@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=8244F9739FD9048A181828CC38DEC5AB], Granted Authorities=[USER]]]
2021-03-23 19:13:56.966 DEBUG 28773 --- [http-nio-8084-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 19:13:56.966 DEBUG 28773 --- [http-nio-8084-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 45906574BB70EC329744F32661457239
2021-03-23 19:13:56.966 DEBUG 28773 --- [http-nio-8084-exec-2] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=45906574BB70EC329744F32661457239], Granted Authorities=[USER]]
2021-03-23 19:13:56.966 DEBUG 28773 --- [http-nio-8084-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /users/main
2021-03-23 19:13:56.967 DEBUG 28773 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=45906574BB70EC329744F32661457239], Granted Authorities=[USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@1ead997b]
2021-03-23 19:13:56.967 DEBUG 28773 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:13:56.973 DEBUG 28773 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /users/main
2021-03-23 19:13:56.974 DEBUG 28773 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=45906574BB70EC329744F32661457239], Granted Authorities=[USER]]]
2021-03-23 19:13:56.974 DEBUG 28773 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=45906574BB70EC329744F32661457239], Granted Authorities=[USER]]]
2021-03-23 19:13:56.974 DEBUG 28773 --- [http-nio-8084-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /users/main] with attributes [hasAuthority('USER')]
2021-03-23 19:13:56.974 DEBUG 28773 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /users/main
2021-03-23 19:13:56.980 DEBUG 28773 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:13:57.063 DEBUG 28773 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 19:13:57.063 DEBUG 28773 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=45906574BB70EC329744F32661457239], Granted Authorities=[USER]]]
2021-03-23 19:13:57.063 DEBUG 28773 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=45906574BB70EC329744F32661457239], Granted Authorities=[USER]]]
2021-03-23 19:13:57.064 DEBUG 28773 --- [http-nio-8084-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 19:13:57.064 DEBUG 28773 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 19:13:57.072 DEBUG 28773 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:14:06.270 DEBUG 28773 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /logout?registration=
2021-03-23 19:14:06.270 DEBUG 28773 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=45906574BB70EC329744F32661457239], Granted Authorities=[USER]]]
2021-03-23 19:14:06.270 DEBUG 28773 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=45906574BB70EC329744F32661457239], Granted Authorities=[USER]]]
2021-03-23 19:14:06.270 DEBUG 28773 --- [http-nio-8084-exec-5] o.s.s.w.a.logout.LogoutFilter            : Logging out [UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=45906574BB70EC329744F32661457239], Granted Authorities=[USER]]]
2021-03-23 19:14:06.271 DEBUG 28773 --- [http-nio-8084-exec-5] o.s.s.w.a.l.SecurityContextLogoutHandler : Invalidated session F9A8C7163B00FF624B061ABC0A5F3391
2021-03-23 19:14:06.272 DEBUG 28773 --- [http-nio-8084-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /login
2021-03-23 19:14:06.272 DEBUG 28773 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 19:14:06.272 DEBUG 28773 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:14:06.276 DEBUG 28773 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 19:14:06.276 DEBUG 28773 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 19:14:06.277 DEBUG 28773 --- [http-nio-8084-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 19:14:06.277 DEBUG 28773 --- [http-nio-8084-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id F9A8C7163B00FF624B061ABC0A5F3391
2021-03-23 19:14:06.277 DEBUG 28773 --- [http-nio-8084-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 19:14:06.277 DEBUG 28773 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 19:14:06.280 DEBUG 28773 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 19:14:06.282 DEBUG 28773 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:14:14.598 DEBUG 28773 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 19:14:14.598 DEBUG 28773 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 19:14:14.734 DEBUG 28773 --- [http-nio-8084-exec-7] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 19:14:14.734 DEBUG 28773 --- [http-nio-8084-exec-7] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]
2021-03-23 19:14:14.735 DEBUG 28773 --- [http-nio-8084-exec-7] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /users/main
2021-03-23 19:14:14.736 DEBUG 28773 --- [http-nio-8084-exec-7] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2021-03-23 19:14:14.736 DEBUG 28773 --- [http-nio-8084-exec-7] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@3283ce8]
2021-03-23 19:14:14.736 DEBUG 28773 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:14:14.741 DEBUG 28773 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /users/main
2021-03-23 19:14:14.741 DEBUG 28773 --- [http-nio-8084-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:14:14.742 DEBUG 28773 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:14:14.742 DEBUG 28773 --- [http-nio-8084-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /users/main] with attributes [hasAuthority('USER')]
2021-03-23 19:14:14.743 DEBUG 28773 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /users/main
2021-03-23 19:14:14.753 DEBUG 28773 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:14:14.847 DEBUG 28773 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 19:14:14.847 DEBUG 28773 --- [http-nio-8084-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:14:14.848 DEBUG 28773 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:14:14.849 DEBUG 28773 --- [http-nio-8084-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 19:14:14.849 DEBUG 28773 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 19:14:14.852 DEBUG 28773 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:14:19.261 DEBUG 28773 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /users/
2021-03-23 19:14:19.262 DEBUG 28773 --- [http-nio-8084-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:14:19.262 DEBUG 28773 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:14:19.262 DEBUG 28773 --- [http-nio-8084-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /users/] with attributes [hasAuthority('USER')]
2021-03-23 19:14:19.262 DEBUG 28773 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /users/
2021-03-23 19:14:19.294 DEBUG 28773 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:14:21.766 DEBUG 28773 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /users/
2021-03-23 19:14:21.767 DEBUG 28773 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:14:21.767 DEBUG 28773 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:14:21.767 DEBUG 28773 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /users/] with attributes [hasAuthority('USER')]
2021-03-23 19:14:21.767 DEBUG 28773 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /users/
2021-03-23 19:14:21.790 DEBUG 28773 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:14:31.054 DEBUG 28773 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /admin/users/
2021-03-23 19:14:31.054 DEBUG 28773 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:14:31.054 DEBUG 28773 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:14:31.054 DEBUG 28773 --- [http-nio-8084-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /admin/users/] with attributes [hasAuthority('ADMIN')]
2021-03-23 19:14:31.055 DEBUG 28773 --- [http-nio-8084-exec-2] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2021-03-23 19:14:31.055 DEBUG 28773 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:14:31.055 DEBUG 28773 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error
2021-03-23 19:14:31.055 DEBUG 28773 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:14:31.055 DEBUG 28773 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:14:31.056 DEBUG 28773 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /error
2021-03-23 19:14:31.059 DEBUG 28773 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:14:33.599 DEBUG 28773 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login?
2021-03-23 19:14:33.600 DEBUG 28773 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:14:33.600 DEBUG 28773 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:14:33.601 DEBUG 28773 --- [http-nio-8084-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login?] with attributes [permitAll]
2021-03-23 19:14:33.601 DEBUG 28773 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /login?
2021-03-23 19:14:33.605 DEBUG 28773 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:14:42.403 DEBUG 28773 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 19:14:42.403 DEBUG 28773 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:14:42.403 DEBUG 28773 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:14:42.539 DEBUG 28773 --- [http-nio-8084-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 19:14:42.539 DEBUG 28773 --- [http-nio-8084-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 23CC7E12330AFABE140C3337A9CC13A0
2021-03-23 19:14:42.540 DEBUG 28773 --- [http-nio-8084-exec-4] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=23CC7E12330AFABE140C3337A9CC13A0], Granted Authorities=[ADMIN]]
2021-03-23 19:14:42.540 DEBUG 28773 --- [http-nio-8084-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /users/main
2021-03-23 19:14:42.540 DEBUG 28773 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=23CC7E12330AFABE140C3337A9CC13A0], Granted Authorities=[ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@3283ce8]
2021-03-23 19:14:42.540 DEBUG 28773 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:14:42.545 DEBUG 28773 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /users/main
2021-03-23 19:14:42.545 DEBUG 28773 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=23CC7E12330AFABE140C3337A9CC13A0], Granted Authorities=[ADMIN]]]
2021-03-23 19:14:42.546 DEBUG 28773 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=23CC7E12330AFABE140C3337A9CC13A0], Granted Authorities=[ADMIN]]]
2021-03-23 19:14:42.546 DEBUG 28773 --- [http-nio-8084-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /users/main] with attributes [hasAuthority('USER')]
2021-03-23 19:14:42.546 DEBUG 28773 --- [http-nio-8084-exec-5] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2021-03-23 19:14:42.547 DEBUG 28773 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:14:42.548 DEBUG 28773 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error
2021-03-23 19:14:42.548 DEBUG 28773 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=23CC7E12330AFABE140C3337A9CC13A0], Granted Authorities=[ADMIN]]]
2021-03-23 19:14:42.548 DEBUG 28773 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=23CC7E12330AFABE140C3337A9CC13A0], Granted Authorities=[ADMIN]]]
2021-03-23 19:14:42.548 DEBUG 28773 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /error
2021-03-23 19:14:42.554 DEBUG 28773 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:14:42.637 DEBUG 28773 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 19:14:42.637 DEBUG 28773 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=23CC7E12330AFABE140C3337A9CC13A0], Granted Authorities=[ADMIN]]]
2021-03-23 19:14:42.637 DEBUG 28773 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=23CC7E12330AFABE140C3337A9CC13A0], Granted Authorities=[ADMIN]]]
2021-03-23 19:14:42.638 DEBUG 28773 --- [http-nio-8084-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 19:14:42.638 DEBUG 28773 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 19:14:42.642 DEBUG 28773 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:14:53.703 DEBUG 28773 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /admin/home
2021-03-23 19:14:53.703 DEBUG 28773 --- [http-nio-8084-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=23CC7E12330AFABE140C3337A9CC13A0], Granted Authorities=[ADMIN]]]
2021-03-23 19:14:53.704 DEBUG 28773 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=23CC7E12330AFABE140C3337A9CC13A0], Granted Authorities=[ADMIN]]]
2021-03-23 19:14:53.706 DEBUG 28773 --- [http-nio-8084-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /admin/home] with attributes [hasAuthority('ADMIN')]
2021-03-23 19:14:53.706 DEBUG 28773 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /admin/home
2021-03-23 19:14:53.717 DEBUG 28773 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:14:57.538 DEBUG 28773 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /logout?registration=
2021-03-23 19:14:57.538 DEBUG 28773 --- [http-nio-8084-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=23CC7E12330AFABE140C3337A9CC13A0], Granted Authorities=[ADMIN]]]
2021-03-23 19:14:57.539 DEBUG 28773 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=23CC7E12330AFABE140C3337A9CC13A0], Granted Authorities=[ADMIN]]]
2021-03-23 19:14:57.539 DEBUG 28773 --- [http-nio-8084-exec-8] o.s.s.w.a.logout.LogoutFilter            : Logging out [UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=23CC7E12330AFABE140C3337A9CC13A0], Granted Authorities=[ADMIN]]]
2021-03-23 19:14:57.539 DEBUG 28773 --- [http-nio-8084-exec-8] o.s.s.w.a.l.SecurityContextLogoutHandler : Invalidated session A8B5136672E77CA14D33BA7F2C1E5069
2021-03-23 19:14:57.539 DEBUG 28773 --- [http-nio-8084-exec-8] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /login
2021-03-23 19:14:57.540 DEBUG 28773 --- [http-nio-8084-exec-8] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 19:14:57.540 DEBUG 28773 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:14:57.551 DEBUG 28773 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 19:14:57.551 DEBUG 28773 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 19:14:57.552 DEBUG 28773 --- [http-nio-8084-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 19:14:57.552 DEBUG 28773 --- [http-nio-8084-exec-9] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id A8B5136672E77CA14D33BA7F2C1E5069
2021-03-23 19:14:57.552 DEBUG 28773 --- [http-nio-8084-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 19:14:57.552 DEBUG 28773 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 19:14:57.554 DEBUG 28773 --- [http-nio-8084-exec-9] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 19:14:57.555 DEBUG 28773 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:15:10.536 DEBUG 28773 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 19:15:10.536 DEBUG 28773 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 19:15:10.674 DEBUG 28773 --- [http-nio-8084-exec-10] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 19:15:10.674 DEBUG 28773 --- [http-nio-8084-exec-10] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]
2021-03-23 19:15:10.674 DEBUG 28773 --- [http-nio-8084-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /users/main
2021-03-23 19:15:10.675 DEBUG 28773 --- [http-nio-8084-exec-10] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2021-03-23 19:15:10.675 DEBUG 28773 --- [http-nio-8084-exec-10] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@663f5805]
2021-03-23 19:15:10.675 DEBUG 28773 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:15:10.680 DEBUG 28773 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /users/main
2021-03-23 19:15:10.680 DEBUG 28773 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 19:15:10.680 DEBUG 28773 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 19:15:10.680 DEBUG 28773 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /users/main] with attributes [hasAuthority('USER')]
2021-03-23 19:15:10.681 DEBUG 28773 --- [http-nio-8084-exec-1] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2021-03-23 19:15:10.681 DEBUG 28773 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:15:10.682 DEBUG 28773 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error
2021-03-23 19:15:10.682 DEBUG 28773 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 19:15:10.682 DEBUG 28773 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 19:15:10.683 DEBUG 28773 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /error
2021-03-23 19:15:10.688 DEBUG 28773 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:15:10.768 DEBUG 28773 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 19:15:10.769 DEBUG 28773 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 19:15:10.769 DEBUG 28773 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 19:15:10.769 DEBUG 28773 --- [http-nio-8084-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 19:15:10.769 DEBUG 28773 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 19:15:10.772 DEBUG 28773 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:16:30.299  INFO 28773 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 19:16:30.302  INFO 28773 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 19:16:30.302  INFO 28773 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 19:16:30.325  INFO 28773 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 19:16:37.185  INFO 28993 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 28993 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 19:16:37.189 DEBUG 28993 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 19:16:37.190  INFO 28993 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 19:16:38.541  INFO 28993 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 19:16:38.593  INFO 28993 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44 ms. Found 2 JPA repository interfaces.
2021-03-23 19:16:38.984  INFO 28993 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:16:38.988  INFO 28993 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:16:38.992  INFO 28993 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:16:38.998  INFO 28993 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:16:39.003  INFO 28993 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:16:39.005  INFO 28993 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:16:39.009  INFO 28993 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:16:39.024  INFO 28993 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:16:39.026  INFO 28993 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:16:39.028  INFO 28993 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:16:39.043  INFO 28993 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:16:39.044  INFO 28993 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:16:39.047  INFO 28993 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:16:39.049  INFO 28993 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:16:39.050  INFO 28993 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:16:39.058  INFO 28993 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:16:39.060  INFO 28993 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:16:39.066  INFO 28993 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:16:39.067  INFO 28993 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:16:39.068  INFO 28993 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:16:39.073  INFO 28993 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:16:39.079  INFO 28993 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:16:39.081  INFO 28993 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:16:39.082  INFO 28993 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:16:39.087  INFO 28993 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:16:39.101  INFO 28993 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:16:39.107  INFO 28993 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:16:39.108  INFO 28993 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:16:39.397  INFO 28993 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 19:16:39.405  INFO 28993 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 19:16:39.405  INFO 28993 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 19:16:39.482  INFO 28993 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 19:16:39.482  INFO 28993 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2195 ms
2021-03-23 19:16:39.960  INFO 28993 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 19:16:40.001  INFO 28993 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 19:16:40.049  INFO 28993 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 19:16:40.160  INFO 28993 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 19:16:40.261  INFO 28993 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 19:16:40.285  INFO 28993 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 19:16:40.286  INFO 28993 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 19:16:40.286  INFO 28993 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 19:16:40.286  INFO 28993 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 19:16:40.287  INFO 28993 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 19:16:40.359 DEBUG 28993 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 19:16:40.361 DEBUG 28993 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 19:16:40.361 DEBUG 28993 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 19:16:40.362 DEBUG 28993 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 19:16:40.363 DEBUG 28993 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('USER')] for Ant [pattern='/users/**']
2021-03-23 19:16:40.363 DEBUG 28993 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 19:16:40.389  INFO 28993 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b8ec001, org.springframework.security.web.context.SecurityContextPersistenceFilter@254449bb, org.springframework.security.web.header.HeaderWriterFilter@41b13f3d, org.springframework.security.web.authentication.logout.LogoutFilter@77f905e3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e26173, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@29ebbdf4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5d4e13e1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1e95b653, org.springframework.security.web.session.SessionManagementFilter@2489e84a, org.springframework.security.web.access.ExceptionTranslationFilter@1e60b459, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2a43e0ac]
2021-03-23 19:16:40.653  INFO 28993 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 19:16:40.669  INFO 28993 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 19:16:41.356  INFO 28993 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 19:16:41.368  INFO 28993 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 19:16:42.170  INFO 28993 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 19:16:42.792  INFO 28993 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 19:16:42.866  INFO 28993 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 19:16:42.868  INFO 28993 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2021-03-23 19:16:42.993  INFO 28993 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2021-03-23 19:16:43.013  INFO 28993 --- [main] com.ru.microservice.SecurityApplication  : Started SecurityApplication in 6.458 seconds (JVM running for 7.229)
2021-03-23 19:16:43.184  INFO 28993 --- [RMI TCP Connection(2)-192.168.0.16] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-03-23 19:16:43.184  INFO 28993 --- [RMI TCP Connection(2)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-03-23 19:16:43.186  INFO 28993 --- [RMI TCP Connection(2)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-03-23 19:16:46.956 DEBUG 28993 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /
2021-03-23 19:16:46.959 DEBUG 28993 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 19:16:46.962 DEBUG 28993 --- [http-nio-8084-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 19:16:46.962 DEBUG 28993 --- [http-nio-8084-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 870D5B0276A06AF401F88B6062D8C6EE
2021-03-23 19:16:46.967 DEBUG 28993 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /] with attributes [permitAll]
2021-03-23 19:16:46.968 DEBUG 28993 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /
2021-03-23 19:16:47.324 DEBUG 28993 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 19:16:47.330 DEBUG 28993 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:16:49.083 DEBUG 28993 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 19:16:49.083 DEBUG 28993 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 19:16:49.083 DEBUG 28993 --- [http-nio-8084-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 19:16:49.083 DEBUG 28993 --- [http-nio-8084-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 870D5B0276A06AF401F88B6062D8C6EE
2021-03-23 19:16:49.084 DEBUG 28993 --- [http-nio-8084-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 19:16:49.084 DEBUG 28993 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 19:16:49.101 DEBUG 28993 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 19:16:49.103 DEBUG 28993 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:16:57.962 DEBUG 28993 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 19:16:57.962 DEBUG 28993 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 19:16:58.373 DEBUG 28993 --- [http-nio-8084-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 19:16:58.374 DEBUG 28993 --- [http-nio-8084-exec-3] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]
2021-03-23 19:16:58.376 DEBUG 28993 --- [http-nio-8084-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /users/main
2021-03-23 19:16:58.385 DEBUG 28993 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2021-03-23 19:16:58.386 DEBUG 28993 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@41a2636f]
2021-03-23 19:16:58.386 DEBUG 28993 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:16:58.392 DEBUG 28993 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /users/main
2021-03-23 19:16:58.393 DEBUG 28993 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:16:58.393 DEBUG 28993 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:16:58.394 DEBUG 28993 --- [http-nio-8084-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /users/main] with attributes [hasAuthority('USER')]
2021-03-23 19:16:58.394 DEBUG 28993 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /users/main
2021-03-23 19:16:58.424 DEBUG 28993 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:16:58.507 DEBUG 28993 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 19:16:58.508 DEBUG 28993 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:16:58.508 DEBUG 28993 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:16:58.509 DEBUG 28993 --- [http-nio-8084-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 19:16:58.509 DEBUG 28993 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 19:16:58.514 DEBUG 28993 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:17:04.276 DEBUG 28993 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /users/
2021-03-23 19:17:04.277 DEBUG 28993 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:17:04.277 DEBUG 28993 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:17:04.278 DEBUG 28993 --- [http-nio-8084-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /users/] with attributes [hasAuthority('USER')]
2021-03-23 19:17:04.279 DEBUG 28993 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /users/
2021-03-23 19:17:04.450 DEBUG 28993 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:17:15.274 DEBUG 28993 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /admin/home
2021-03-23 19:17:15.275 DEBUG 28993 --- [http-nio-8084-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:17:15.275 DEBUG 28993 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:17:15.278 DEBUG 28993 --- [http-nio-8084-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /admin/home] with attributes [hasAuthority('ADMIN')]
2021-03-23 19:17:15.280 DEBUG 28993 --- [http-nio-8084-exec-7] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2021-03-23 19:17:15.280 DEBUG 28993 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:17:15.283 DEBUG 28993 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /error
2021-03-23 19:17:15.283 DEBUG 28993 --- [http-nio-8084-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:17:15.283 DEBUG 28993 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:17:15.283 DEBUG 28993 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /error
2021-03-23 19:17:15.297 DEBUG 28993 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:17:22.365 DEBUG 28993 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /
2021-03-23 19:17:22.366 DEBUG 28993 --- [http-nio-8084-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:17:22.366 DEBUG 28993 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:17:22.367 DEBUG 28993 --- [http-nio-8084-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /] with attributes [permitAll]
2021-03-23 19:17:22.367 DEBUG 28993 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /
2021-03-23 19:17:22.370 DEBUG 28993 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:17:23.754 DEBUG 28993 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 19:17:23.754 DEBUG 28993 --- [http-nio-8084-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:17:23.754 DEBUG 28993 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:17:23.755 DEBUG 28993 --- [http-nio-8084-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 19:17:23.755 DEBUG 28993 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 19:17:23.761 DEBUG 28993 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:17:33.231 DEBUG 28993 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 19:17:33.231 DEBUG 28993 --- [http-nio-8084-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:17:33.231 DEBUG 28993 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:17:33.365 DEBUG 28993 --- [http-nio-8084-exec-10] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 19:17:33.366 DEBUG 28993 --- [http-nio-8084-exec-10] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 19124EFC94AF5A753F2B99ED95BC5A79
2021-03-23 19:17:33.367 DEBUG 28993 --- [http-nio-8084-exec-10] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=19124EFC94AF5A753F2B99ED95BC5A79], Granted Authorities=[ADMIN]]
2021-03-23 19:17:33.367 DEBUG 28993 --- [http-nio-8084-exec-10] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /users/main
2021-03-23 19:17:33.367 DEBUG 28993 --- [http-nio-8084-exec-10] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=19124EFC94AF5A753F2B99ED95BC5A79], Granted Authorities=[ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@41a2636f]
2021-03-23 19:17:33.367 DEBUG 28993 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:17:33.373 DEBUG 28993 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /users/main
2021-03-23 19:17:33.374 DEBUG 28993 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=19124EFC94AF5A753F2B99ED95BC5A79], Granted Authorities=[ADMIN]]]
2021-03-23 19:17:33.374 DEBUG 28993 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=19124EFC94AF5A753F2B99ED95BC5A79], Granted Authorities=[ADMIN]]]
2021-03-23 19:17:33.374 DEBUG 28993 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /users/main] with attributes [hasAuthority('USER')]
2021-03-23 19:17:33.374 DEBUG 28993 --- [http-nio-8084-exec-1] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2021-03-23 19:17:33.375 DEBUG 28993 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:17:33.375 DEBUG 28993 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error
2021-03-23 19:17:33.375 DEBUG 28993 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=19124EFC94AF5A753F2B99ED95BC5A79], Granted Authorities=[ADMIN]]]
2021-03-23 19:17:33.376 DEBUG 28993 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=19124EFC94AF5A753F2B99ED95BC5A79], Granted Authorities=[ADMIN]]]
2021-03-23 19:17:33.376 DEBUG 28993 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /error
2021-03-23 19:17:33.382 DEBUG 28993 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:17:33.460 DEBUG 28993 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 19:17:33.461 DEBUG 28993 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=19124EFC94AF5A753F2B99ED95BC5A79], Granted Authorities=[ADMIN]]]
2021-03-23 19:17:33.461 DEBUG 28993 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=19124EFC94AF5A753F2B99ED95BC5A79], Granted Authorities=[ADMIN]]]
2021-03-23 19:17:33.462 DEBUG 28993 --- [http-nio-8084-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 19:17:33.462 DEBUG 28993 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 19:17:33.465 DEBUG 28993 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:18:11.257  INFO 28993 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 19:18:11.260  INFO 28993 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 19:18:11.261  INFO 28993 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 19:18:11.280  INFO 28993 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 19:18:18.322  INFO 29168 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 29168 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 19:18:18.326 DEBUG 29168 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 19:18:18.327  INFO 29168 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 19:18:19.753  INFO 29168 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 19:18:19.811  INFO 29168 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 2 JPA repository interfaces.
2021-03-23 19:18:20.197  INFO 29168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:18:20.201  INFO 29168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:18:20.205  INFO 29168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:18:20.210  INFO 29168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:18:20.216  INFO 29168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:18:20.217  INFO 29168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:18:20.222  INFO 29168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:18:20.241  INFO 29168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:18:20.244  INFO 29168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:18:20.246  INFO 29168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:18:20.264  INFO 29168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:18:20.265  INFO 29168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:18:20.268  INFO 29168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:18:20.270  INFO 29168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:18:20.271  INFO 29168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:18:20.281  INFO 29168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:18:20.285  INFO 29168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:18:20.292  INFO 29168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:18:20.292  INFO 29168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:18:20.294  INFO 29168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:18:20.298  INFO 29168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:18:20.305  INFO 29168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:18:20.306  INFO 29168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:18:20.308  INFO 29168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:18:20.313  INFO 29168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:18:20.327  INFO 29168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:18:20.335  INFO 29168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:18:20.337  INFO 29168 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 19:18:20.640  INFO 29168 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 19:18:20.649  INFO 29168 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 19:18:20.649  INFO 29168 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 19:18:20.750  INFO 29168 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 19:18:20.750  INFO 29168 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2354 ms
2021-03-23 19:18:21.201  INFO 29168 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 19:18:21.254  INFO 29168 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 19:18:21.308  INFO 29168 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 19:18:21.432  INFO 29168 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 19:18:21.525  INFO 29168 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 19:18:21.549  INFO 29168 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 19:18:21.549  INFO 29168 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 19:18:21.550  INFO 29168 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 19:18:21.550  INFO 29168 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 19:18:21.550  INFO 29168 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 19:18:21.624 DEBUG 29168 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 19:18:21.626 DEBUG 29168 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 19:18:21.626 DEBUG 29168 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 19:18:21.627 DEBUG 29168 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 19:18:21.627 DEBUG 29168 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyAuthority('USER','ADMIN')] for Ant [pattern='/users/**']
2021-03-23 19:18:21.628 DEBUG 29168 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 19:18:21.661  INFO 29168 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b8ec001, org.springframework.security.web.context.SecurityContextPersistenceFilter@254449bb, org.springframework.security.web.header.HeaderWriterFilter@41b13f3d, org.springframework.security.web.authentication.logout.LogoutFilter@77f905e3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e26173, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@29ebbdf4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5d4e13e1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1e95b653, org.springframework.security.web.session.SessionManagementFilter@2489e84a, org.springframework.security.web.access.ExceptionTranslationFilter@1e60b459, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2a43e0ac]
2021-03-23 19:18:21.896  INFO 29168 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 19:18:21.910  INFO 29168 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 19:18:22.632  INFO 29168 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 19:18:22.642  INFO 29168 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 19:18:23.552  INFO 29168 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 19:18:24.200  INFO 29168 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 19:18:24.276  INFO 29168 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 19:18:24.278  INFO 29168 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2021-03-23 19:18:24.419  INFO 29168 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2021-03-23 19:18:24.435  INFO 29168 --- [main] com.ru.microservice.SecurityApplication  : Started SecurityApplication in 6.724 seconds (JVM running for 7.42)
2021-03-23 19:18:24.578  INFO 29168 --- [RMI TCP Connection(1)-192.168.0.16] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-03-23 19:18:24.578  INFO 29168 --- [RMI TCP Connection(1)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-03-23 19:18:24.581  INFO 29168 --- [RMI TCP Connection(1)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-03-23 19:18:24.967 DEBUG 29168 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /users/main
2021-03-23 19:18:24.979 DEBUG 29168 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 19:18:24.983 DEBUG 29168 --- [http-nio-8084-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 19:18:24.984 DEBUG 29168 --- [http-nio-8084-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id FEA872C166A316C84D51EB32D253CC79
2021-03-23 19:18:24.993 DEBUG 29168 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /users/main] with attributes [hasAnyAuthority('USER','ADMIN')]
2021-03-23 19:18:25.021 DEBUG 29168 --- [http-nio-8084-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8084/users/main to session
2021-03-23 19:18:25.022 DEBUG 29168 --- [http-nio-8084-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8084/login
2021-03-23 19:18:25.024 DEBUG 29168 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 19:18:25.027 DEBUG 29168 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:18:25.050 DEBUG 29168 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 19:18:25.051 DEBUG 29168 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 19:18:25.051 DEBUG 29168 --- [http-nio-8084-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 19:18:25.054 DEBUG 29168 --- [http-nio-8084-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 19:18:25.054 DEBUG 29168 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 19:18:25.499 DEBUG 29168 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 19:18:25.502 DEBUG 29168 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:18:37.854 DEBUG 29168 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 19:18:37.855 DEBUG 29168 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 19:18:38.299 DEBUG 29168 --- [http-nio-8084-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 19:18:38.301 DEBUG 29168 --- [http-nio-8084-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 71900FEB091FE0518A2B22CA64FD5C99
2021-03-23 19:18:38.302 DEBUG 29168 --- [http-nio-8084-exec-3] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=71900FEB091FE0518A2B22CA64FD5C99], Granted Authorities=[ADMIN]]
2021-03-23 19:18:38.303 DEBUG 29168 --- [http-nio-8084-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8084/users/main
2021-03-23 19:18:38.303 DEBUG 29168 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=71900FEB091FE0518A2B22CA64FD5C99], Granted Authorities=[ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@46105222]
2021-03-23 19:18:38.303 DEBUG 29168 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:18:38.311 DEBUG 29168 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /users/main
2021-03-23 19:18:38.311 DEBUG 29168 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=71900FEB091FE0518A2B22CA64FD5C99], Granted Authorities=[ADMIN]]]
2021-03-23 19:18:38.311 DEBUG 29168 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=71900FEB091FE0518A2B22CA64FD5C99], Granted Authorities=[ADMIN]]]
2021-03-23 19:18:38.312 DEBUG 29168 --- [http-nio-8084-exec-4] o.s.s.w.s.HttpSessionRequestCache        : Loaded matching saved request http://localhost:8084/users/main
2021-03-23 19:18:38.315 DEBUG 29168 --- [http-nio-8084-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /users/main] with attributes [hasAnyAuthority('USER','ADMIN')]
2021-03-23 19:18:38.315 DEBUG 29168 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /users/main
2021-03-23 19:18:38.355 DEBUG 29168 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:18:38.438 DEBUG 29168 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 19:18:38.438 DEBUG 29168 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=71900FEB091FE0518A2B22CA64FD5C99], Granted Authorities=[ADMIN]]]
2021-03-23 19:18:38.439 DEBUG 29168 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=71900FEB091FE0518A2B22CA64FD5C99], Granted Authorities=[ADMIN]]]
2021-03-23 19:18:38.439 DEBUG 29168 --- [http-nio-8084-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 19:18:38.439 DEBUG 29168 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 19:18:38.442 DEBUG 29168 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:22:55.948 DEBUG 29168 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /users
2021-03-23 19:22:55.949 DEBUG 29168 --- [http-nio-8084-exec-7] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=71900FEB091FE0518A2B22CA64FD5C99], Granted Authorities=[ADMIN]]]
2021-03-23 19:22:55.949 DEBUG 29168 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=71900FEB091FE0518A2B22CA64FD5C99], Granted Authorities=[ADMIN]]]
2021-03-23 19:22:55.949 DEBUG 29168 --- [http-nio-8084-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /users] with attributes [hasAnyAuthority('USER','ADMIN')]
2021-03-23 19:22:55.950 DEBUG 29168 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /users
2021-03-23 19:22:56.135 DEBUG 29168 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:23:06.678 DEBUG 29168 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /admin/home
2021-03-23 19:23:06.678 DEBUG 29168 --- [http-nio-8084-exec-8] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=71900FEB091FE0518A2B22CA64FD5C99], Granted Authorities=[ADMIN]]]
2021-03-23 19:23:06.678 DEBUG 29168 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=71900FEB091FE0518A2B22CA64FD5C99], Granted Authorities=[ADMIN]]]
2021-03-23 19:23:06.679 DEBUG 29168 --- [http-nio-8084-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /admin/home] with attributes [hasAuthority('ADMIN')]
2021-03-23 19:23:06.679 DEBUG 29168 --- [http-nio-8084-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /admin/home
2021-03-23 19:23:06.689 DEBUG 29168 --- [http-nio-8084-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:23:09.571 DEBUG 29168 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /logout?registration=
2021-03-23 19:23:09.572 DEBUG 29168 --- [http-nio-8084-exec-9] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=71900FEB091FE0518A2B22CA64FD5C99], Granted Authorities=[ADMIN]]]
2021-03-23 19:23:09.572 DEBUG 29168 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=71900FEB091FE0518A2B22CA64FD5C99], Granted Authorities=[ADMIN]]]
2021-03-23 19:23:09.573 DEBUG 29168 --- [http-nio-8084-exec-9] o.s.s.w.a.logout.LogoutFilter            : Logging out [UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=71900FEB091FE0518A2B22CA64FD5C99], Granted Authorities=[ADMIN]]]
2021-03-23 19:23:09.573 DEBUG 29168 --- [http-nio-8084-exec-9] o.s.s.w.a.l.SecurityContextLogoutHandler : Invalidated session 82D94DB17595673266296B5A84DC5D45
2021-03-23 19:23:09.575 DEBUG 29168 --- [http-nio-8084-exec-9] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /login
2021-03-23 19:23:09.576 DEBUG 29168 --- [http-nio-8084-exec-9] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 19:23:09.576 DEBUG 29168 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:23:09.586 DEBUG 29168 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 19:23:09.586 DEBUG 29168 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 19:23:09.587 DEBUG 29168 --- [http-nio-8084-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 19:23:09.587 DEBUG 29168 --- [http-nio-8084-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 82D94DB17595673266296B5A84DC5D45
2021-03-23 19:23:09.587 DEBUG 29168 --- [http-nio-8084-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 19:23:09.588 DEBUG 29168 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 19:23:09.590 DEBUG 29168 --- [http-nio-8084-exec-10] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 19:23:09.591 DEBUG 29168 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:23:18.010 DEBUG 29168 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 19:23:18.011 DEBUG 29168 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 19:23:18.146 DEBUG 29168 --- [http-nio-8084-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 19:23:18.146 DEBUG 29168 --- [http-nio-8084-exec-1] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]
2021-03-23 19:23:18.146 DEBUG 29168 --- [http-nio-8084-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /users/main
2021-03-23 19:23:18.147 DEBUG 29168 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2021-03-23 19:23:18.147 DEBUG 29168 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@2f0cc5a2]
2021-03-23 19:23:18.147 DEBUG 29168 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:23:18.154 DEBUG 29168 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /users/main
2021-03-23 19:23:18.154 DEBUG 29168 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:23:18.154 DEBUG 29168 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:23:18.155 DEBUG 29168 --- [http-nio-8084-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /users/main] with attributes [hasAnyAuthority('USER','ADMIN')]
2021-03-23 19:23:18.155 DEBUG 29168 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /users/main
2021-03-23 19:23:18.163 DEBUG 29168 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:23:18.259 DEBUG 29168 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 19:23:18.260 DEBUG 29168 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:23:18.260 DEBUG 29168 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:23:18.261 DEBUG 29168 --- [http-nio-8084-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 19:23:18.261 DEBUG 29168 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 19:23:18.268 DEBUG 29168 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:23:24.992 DEBUG 29168 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /admin/home
2021-03-23 19:23:24.992 DEBUG 29168 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:23:24.992 DEBUG 29168 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:23:24.993 DEBUG 29168 --- [http-nio-8084-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /admin/home] with attributes [hasAuthority('ADMIN')]
2021-03-23 19:23:24.993 DEBUG 29168 --- [http-nio-8084-exec-4] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2021-03-23 19:23:24.993 DEBUG 29168 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:23:24.996 DEBUG 29168 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error
2021-03-23 19:23:24.996 DEBUG 29168 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:23:24.996 DEBUG 29168 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user@mail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[USER]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[USER]]]
2021-03-23 19:23:24.997 DEBUG 29168 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /error
2021-03-23 19:23:25.013 DEBUG 29168 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 19:23:29.723  INFO 29168 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 19:23:29.726  INFO 29168 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 19:23:29.727  INFO 29168 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 19:23:29.751  INFO 29168 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 22:27:56.851  INFO 3739 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 3739 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 22:27:56.867 DEBUG 3739 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 22:27:56.868  INFO 3739 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 22:27:58.365  INFO 3739 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 22:27:59.498  INFO 3739 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 1123 ms. Found 2 JPA repository interfaces.
2021-03-23 22:28:02.572  INFO 3739 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:28:02.575  INFO 3739 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:28:02.579  INFO 3739 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:28:02.583  INFO 3739 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:28:02.589  INFO 3739 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:28:02.591  INFO 3739 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:28:02.596  INFO 3739 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:28:02.610  INFO 3739 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:28:02.612  INFO 3739 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:28:02.614  INFO 3739 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:28:02.628  INFO 3739 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:28:02.629  INFO 3739 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:28:02.632  INFO 3739 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:28:02.634  INFO 3739 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:28:02.635  INFO 3739 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:28:02.645  INFO 3739 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:28:02.648  INFO 3739 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:28:02.656  INFO 3739 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:28:02.656  INFO 3739 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:28:02.657  INFO 3739 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:28:02.664  INFO 3739 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:28:02.671  INFO 3739 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:28:02.672  INFO 3739 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:28:02.674  INFO 3739 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:28:02.679  INFO 3739 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:28:02.693  INFO 3739 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:28:02.699  INFO 3739 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:28:02.700  INFO 3739 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:28:03.055  INFO 3739 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 22:28:03.064  INFO 3739 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 22:28:03.065  INFO 3739 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 22:28:03.178  INFO 3739 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 22:28:03.178  INFO 3739 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6235 ms
2021-03-23 22:28:03.652  INFO 3739 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 22:28:03.711  INFO 3739 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 22:28:03.781  INFO 3739 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 22:28:03.949  INFO 3739 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 22:28:04.059  INFO 3739 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 22:28:04.059  INFO 3739 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 22:28:04.060  INFO 3739 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 22:28:04.060  INFO 3739 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 22:28:04.060  INFO 3739 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 22:28:04.062  INFO 3739 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 22:28:04.166 DEBUG 3739 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 22:28:04.169 DEBUG 3739 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 22:28:04.169 DEBUG 3739 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 22:28:04.169 DEBUG 3739 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 22:28:04.170 DEBUG 3739 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyAuthority('USER','ADMIN')] for Ant [pattern='/users/**']
2021-03-23 22:28:04.171 DEBUG 3739 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 22:28:04.207  INFO 3739 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@40d60f2, org.springframework.security.web.context.SecurityContextPersistenceFilter@717d7587, org.springframework.security.web.header.HeaderWriterFilter@316acbb5, org.springframework.security.web.authentication.logout.LogoutFilter@b0a1231, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@22d9bc14, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@40230eb9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@29ebbdf4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3382cf68, org.springframework.security.web.session.SessionManagementFilter@47311277, org.springframework.security.web.access.ExceptionTranslationFilter@542f6803, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1a47a1e8]
2021-03-23 22:28:04.521  INFO 3739 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 22:28:04.535  INFO 3739 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 22:28:05.299  INFO 3739 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 22:28:05.309  INFO 3739 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 22:28:06.237  INFO 3739 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 22:28:06.888  INFO 3739 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 22:28:06.963  INFO 3739 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 22:28:06.965  INFO 3739 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2021-03-23 22:28:07.098  INFO 3739 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2021-03-23 22:28:07.116  INFO 3739 --- [main] com.ru.microservice.SecurityApplication  : Started SecurityApplication in 10.949 seconds (JVM running for 11.694)
2021-03-23 22:28:07.246  INFO 3739 --- [RMI TCP Connection(2)-192.168.0.16] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-03-23 22:28:07.246  INFO 3739 --- [RMI TCP Connection(2)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-03-23 22:28:07.249  INFO 3739 --- [RMI TCP Connection(2)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2021-03-23 22:28:18.575 DEBUG 3739 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /
2021-03-23 22:28:18.579 DEBUG 3739 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 22:28:18.583 DEBUG 3739 --- [http-nio-8084-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 22:28:18.589 DEBUG 3739 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /] with attributes [permitAll]
2021-03-23 22:28:18.589 DEBUG 3739 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /
2021-03-23 22:28:19.023 DEBUG 3739 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 22:28:19.030 DEBUG 3739 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 22:28:19.155 DEBUG 3739 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /favicon.ico
2021-03-23 22:28:19.155 DEBUG 3739 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 22:28:19.156 DEBUG 3739 --- [http-nio-8084-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 22:28:19.160 DEBUG 3739 --- [http-nio-8084-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /favicon.ico] with attributes [authenticated]
2021-03-23 22:28:19.166 DEBUG 3739 --- [http-nio-8084-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8084/login
2021-03-23 22:28:19.166 DEBUG 3739 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 22:28:19.167 DEBUG 3739 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 22:28:19.173 DEBUG 3739 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 22:28:19.173 DEBUG 3739 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 22:28:19.173 DEBUG 3739 --- [http-nio-8084-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 22:28:19.174 DEBUG 3739 --- [http-nio-8084-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 22:28:19.174 DEBUG 3739 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 22:28:19.194 DEBUG 3739 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 22:28:19.196 DEBUG 3739 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 22:28:21.880 DEBUG 3739 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 22:28:21.881 DEBUG 3739 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 22:28:21.881 DEBUG 3739 --- [http-nio-8084-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 22:28:21.881 DEBUG 3739 --- [http-nio-8084-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 22:28:21.882 DEBUG 3739 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 22:28:21.888 DEBUG 3739 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 22:28:21.889 DEBUG 3739 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 22:28:22.164 DEBUG 3739 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /favicon.ico
2021-03-23 22:28:22.165 DEBUG 3739 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 22:28:22.165 DEBUG 3739 --- [http-nio-8084-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 22:28:22.165 DEBUG 3739 --- [http-nio-8084-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /favicon.ico] with attributes [authenticated]
2021-03-23 22:28:22.166 DEBUG 3739 --- [http-nio-8084-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8084/login
2021-03-23 22:28:22.166 DEBUG 3739 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 22:28:22.166 DEBUG 3739 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 22:28:22.178 DEBUG 3739 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 22:28:22.178 DEBUG 3739 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 22:28:22.178 DEBUG 3739 --- [http-nio-8084-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 22:28:22.179 DEBUG 3739 --- [http-nio-8084-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 22:28:22.179 DEBUG 3739 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 22:28:22.182 DEBUG 3739 --- [http-nio-8084-exec-7] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 22:28:22.183 DEBUG 3739 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 22:28:33.096 DEBUG 3739 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 22:28:33.096 DEBUG 3739 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 22:28:33.551 DEBUG 3739 --- [http-nio-8084-exec-9] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 22:28:33.552 DEBUG 3739 --- [http-nio-8084-exec-9] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN]]
2021-03-23 22:28:33.554 DEBUG 3739 --- [http-nio-8084-exec-9] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /users/main
2021-03-23 22:28:33.563 DEBUG 3739 --- [http-nio-8084-exec-9] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2021-03-23 22:28:33.564 DEBUG 3739 --- [http-nio-8084-exec-9] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@3bc53666]
2021-03-23 22:28:33.564 DEBUG 3739 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 22:28:33.573 DEBUG 3739 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /users/main
2021-03-23 22:28:33.574 DEBUG 3739 --- [http-nio-8084-exec-10] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 22:28:33.575 DEBUG 3739 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 22:28:33.576 DEBUG 3739 --- [http-nio-8084-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /users/main] with attributes [hasAnyAuthority('USER','ADMIN')]
2021-03-23 22:28:33.576 DEBUG 3739 --- [http-nio-8084-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /users/main
2021-03-23 22:28:33.612 DEBUG 3739 --- [http-nio-8084-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 22:28:33.738 DEBUG 3739 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /favicon.ico
2021-03-23 22:28:33.738 DEBUG 3739 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 22:28:33.738 DEBUG 3739 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 22:28:33.739 DEBUG 3739 --- [http-nio-8084-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /favicon.ico] with attributes [authenticated]
2021-03-23 22:28:33.739 DEBUG 3739 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /favicon.ico
2021-03-23 22:28:33.743 DEBUG 3739 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 22:28:33.747 DEBUG 3739 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error
2021-03-23 22:28:33.748 DEBUG 3739 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 22:28:33.748 DEBUG 3739 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 22:28:33.748 DEBUG 3739 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /error
2021-03-23 22:28:33.792 DEBUG 3739 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 22:28:36.040 DEBUG 3739 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /logout?registration=
2021-03-23 22:28:36.040 DEBUG 3739 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 22:28:36.041 DEBUG 3739 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 22:28:36.041 DEBUG 3739 --- [http-nio-8084-exec-4] o.s.s.w.a.logout.LogoutFilter            : Logging out [UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 22:28:36.042 DEBUG 3739 --- [http-nio-8084-exec-4] o.s.s.w.a.l.SecurityContextLogoutHandler : Invalidated session EA8929C940A1CA4F4DE54DDCBD189828
2021-03-23 22:28:36.043 DEBUG 3739 --- [http-nio-8084-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /login
2021-03-23 22:28:36.044 DEBUG 3739 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext
2021-03-23 22:28:36.044 DEBUG 3739 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 22:28:36.052 DEBUG 3739 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 22:28:36.053 DEBUG 3739 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 22:28:36.053 DEBUG 3739 --- [http-nio-8084-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 22:28:36.053 DEBUG 3739 --- [http-nio-8084-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id EA8929C940A1CA4F4DE54DDCBD189828
2021-03-23 22:28:36.053 DEBUG 3739 --- [http-nio-8084-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 22:28:36.054 DEBUG 3739 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 22:28:36.056 DEBUG 3739 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 22:28:36.057 DEBUG 3739 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 22:28:37.482 DEBUG 3739 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /registration?
2021-03-23 22:28:37.483 DEBUG 3739 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 22:28:37.483 DEBUG 3739 --- [http-nio-8084-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 22:28:37.483 DEBUG 3739 --- [http-nio-8084-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id EA8929C940A1CA4F4DE54DDCBD189828
2021-03-23 22:28:37.484 DEBUG 3739 --- [http-nio-8084-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /registration?] with attributes [permitAll]
2021-03-23 22:28:37.484 DEBUG 3739 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /registration?
2021-03-23 22:28:37.522 DEBUG 3739 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 22:28:37.523 DEBUG 3739 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 22:29:54.014  INFO 3739 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 22:29:54.017  INFO 3739 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 22:29:54.019  INFO 3739 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 22:29:54.036  INFO 3739 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 22:31:08.644  INFO 4328 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 4328 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 22:31:08.648 DEBUG 4328 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 22:31:08.649  INFO 4328 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 22:31:10.303  INFO 4328 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 22:31:10.359  INFO 4328 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 2 JPA repository interfaces.
2021-03-23 22:31:10.730  INFO 4328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:31:10.734  INFO 4328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:31:10.741  INFO 4328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:31:10.746  INFO 4328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:31:10.760  INFO 4328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:31:10.763  INFO 4328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:31:10.771  INFO 4328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:31:10.794  INFO 4328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:31:10.798  INFO 4328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:31:10.803  INFO 4328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:31:10.837  INFO 4328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:31:10.839  INFO 4328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:31:10.843  INFO 4328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:31:10.846  INFO 4328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:31:10.848  INFO 4328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:31:10.870  INFO 4328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:31:10.876  INFO 4328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:31:10.888  INFO 4328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:31:10.890  INFO 4328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:31:10.893  INFO 4328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:31:10.901  INFO 4328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:31:10.911  INFO 4328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:31:10.913  INFO 4328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:31:10.914  INFO 4328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:31:10.923  INFO 4328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:31:10.945  INFO 4328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:31:10.956  INFO 4328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:31:10.959  INFO 4328 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:31:11.328  INFO 4328 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 22:31:11.340  INFO 4328 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 22:31:11.340  INFO 4328 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 22:31:11.465  INFO 4328 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 22:31:11.465  INFO 4328 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2732 ms
2021-03-23 22:31:11.970  INFO 4328 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 22:31:12.015  INFO 4328 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 22:31:12.063  INFO 4328 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 22:31:12.200  INFO 4328 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 22:31:12.312  INFO 4328 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 22:31:12.340  INFO 4328 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 22:31:12.341  INFO 4328 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 22:31:12.341  INFO 4328 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 22:31:12.341  INFO 4328 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 22:31:12.341  INFO 4328 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 22:31:12.425 DEBUG 4328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 22:31:12.428 DEBUG 4328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 22:31:12.429 DEBUG 4328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 22:31:12.429 DEBUG 4328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 22:31:12.430 DEBUG 4328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyAuthority('USER','ADMIN')] for Ant [pattern='/users/**']
2021-03-23 22:31:12.431 DEBUG 4328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 22:31:12.491  INFO 4328 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6f6c6077, org.springframework.security.web.context.SecurityContextPersistenceFilter@29ebbdf4, org.springframework.security.web.header.HeaderWriterFilter@2489e84a, org.springframework.security.web.authentication.logout.LogoutFilter@338766de, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2c413ffc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5731d3a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3976ebfa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4fc5563d, org.springframework.security.web.session.SessionManagementFilter@62b93086, org.springframework.security.web.access.ExceptionTranslationFilter@3e906375, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@346f41a9]
2021-03-23 22:31:12.750  INFO 4328 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 22:31:12.776  INFO 4328 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 22:31:13.572  INFO 4328 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 22:31:13.585  INFO 4328 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 22:31:14.495  INFO 4328 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 22:31:15.211  INFO 4328 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 22:31:15.295  INFO 4328 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 22:31:15.297  INFO 4328 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2021-03-23 22:31:15.417  INFO 4328 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2021-03-23 22:31:15.434  INFO 4328 --- [main] com.ru.microservice.SecurityApplication  : Started SecurityApplication in 7.42 seconds (JVM running for 8.167)
2021-03-23 22:31:15.682  INFO 4328 --- [http-nio-8084-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-03-23 22:31:15.682  INFO 4328 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-03-23 22:31:15.684  INFO 4328 --- [http-nio-8084-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-03-23 22:31:15.701 DEBUG 4328 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /
2021-03-23 22:31:15.705 DEBUG 4328 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 22:31:15.711 DEBUG 4328 --- [http-nio-8084-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 22:31:15.712 DEBUG 4328 --- [http-nio-8084-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id EA8929C940A1CA4F4DE54DDCBD189828
2021-03-23 22:31:15.720 DEBUG 4328 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /] with attributes [permitAll]
2021-03-23 22:31:15.721 DEBUG 4328 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /
2021-03-23 22:31:16.144 DEBUG 4328 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 22:31:16.158 DEBUG 4328 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 22:31:19.004 DEBUG 4328 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 22:31:19.005 DEBUG 4328 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 22:31:19.005 DEBUG 4328 --- [http-nio-8084-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 22:31:19.005 DEBUG 4328 --- [http-nio-8084-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id EA8929C940A1CA4F4DE54DDCBD189828
2021-03-23 22:31:19.006 DEBUG 4328 --- [http-nio-8084-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 22:31:19.006 DEBUG 4328 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 22:31:19.022 DEBUG 4328 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 22:31:19.023 DEBUG 4328 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 22:31:20.673 DEBUG 4328 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /registration?
2021-03-23 22:31:20.673 DEBUG 4328 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 22:31:20.673 DEBUG 4328 --- [http-nio-8084-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 22:31:20.674 DEBUG 4328 --- [http-nio-8084-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id EA8929C940A1CA4F4DE54DDCBD189828
2021-03-23 22:31:20.674 DEBUG 4328 --- [http-nio-8084-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /registration?] with attributes [permitAll]
2021-03-23 22:31:20.674 DEBUG 4328 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /registration?
2021-03-23 22:31:20.714 DEBUG 4328 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 22:31:20.716 DEBUG 4328 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 22:31:58.373 DEBUG 4328 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /registration
2021-03-23 22:31:58.374 DEBUG 4328 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 22:31:58.375 DEBUG 4328 --- [http-nio-8084-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 22:31:58.375 DEBUG 4328 --- [http-nio-8084-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id EA8929C940A1CA4F4DE54DDCBD189828
2021-03-23 22:31:58.376 DEBUG 4328 --- [http-nio-8084-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /registration] with attributes [permitAll]
2021-03-23 22:31:58.376 DEBUG 4328 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /registration
2021-03-23 22:31:58.601 DEBUG 4328 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 22:31:58.602 DEBUG 4328 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 22:31:58.611 DEBUG 4328 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 22:31:58.612 DEBUG 4328 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 22:31:58.612 DEBUG 4328 --- [http-nio-8084-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 22:31:58.612 DEBUG 4328 --- [http-nio-8084-exec-7] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id EA8929C940A1CA4F4DE54DDCBD189828
2021-03-23 22:31:58.613 DEBUG 4328 --- [http-nio-8084-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 22:31:58.613 DEBUG 4328 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 22:31:58.617 DEBUG 4328 --- [http-nio-8084-exec-7] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 22:31:58.618 DEBUG 4328 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 22:33:19.509 DEBUG 4328 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /registration?
2021-03-23 22:33:19.509 DEBUG 4328 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 22:33:19.510 DEBUG 4328 --- [http-nio-8084-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 22:33:19.510 DEBUG 4328 --- [http-nio-8084-exec-9] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id EA8929C940A1CA4F4DE54DDCBD189828
2021-03-23 22:33:19.511 DEBUG 4328 --- [http-nio-8084-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /registration?] with attributes [permitAll]
2021-03-23 22:33:19.511 DEBUG 4328 --- [http-nio-8084-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /registration?
2021-03-23 22:33:19.519 DEBUG 4328 --- [http-nio-8084-exec-9] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 22:33:19.520 DEBUG 4328 --- [http-nio-8084-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 22:34:30.365  INFO 4328 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 22:34:30.367  INFO 4328 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 22:34:30.368  INFO 4328 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 22:34:30.386  INFO 4328 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 22:35:47.470  INFO 4782 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 4782 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 22:35:47.474 DEBUG 4782 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 22:35:47.475  INFO 4782 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 22:35:49.024  INFO 4782 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 22:35:49.078  INFO 4782 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 2 JPA repository interfaces.
2021-03-23 22:35:49.477  INFO 4782 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:35:49.481  INFO 4782 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:35:49.485  INFO 4782 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:35:49.491  INFO 4782 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:35:49.496  INFO 4782 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:35:49.498  INFO 4782 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:35:49.502  INFO 4782 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:35:49.515  INFO 4782 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:35:49.517  INFO 4782 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:35:49.519  INFO 4782 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:35:49.534  INFO 4782 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:35:49.536  INFO 4782 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:35:49.538  INFO 4782 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:35:49.540  INFO 4782 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:35:49.541  INFO 4782 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:35:49.549  INFO 4782 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:35:49.552  INFO 4782 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:35:49.558  INFO 4782 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:35:49.559  INFO 4782 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:35:49.560  INFO 4782 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:35:49.565  INFO 4782 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:35:49.571  INFO 4782 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:35:49.573  INFO 4782 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:35:49.574  INFO 4782 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:35:49.579  INFO 4782 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:35:49.592  INFO 4782 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:35:49.599  INFO 4782 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:35:49.600  INFO 4782 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:35:49.896  INFO 4782 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 22:35:49.904  INFO 4782 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 22:35:49.904  INFO 4782 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 22:35:49.985  INFO 4782 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 22:35:49.985  INFO 4782 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2425 ms
2021-03-23 22:35:50.450  INFO 4782 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 22:35:50.491  INFO 4782 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 22:35:50.532  INFO 4782 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 22:35:50.641  INFO 4782 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 22:35:50.744  INFO 4782 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 22:35:50.784  INFO 4782 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 22:35:50.784  INFO 4782 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 22:35:50.785  INFO 4782 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 22:35:50.785  INFO 4782 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 22:35:50.785  INFO 4782 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 22:35:50.858 DEBUG 4782 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 22:35:50.861 DEBUG 4782 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 22:35:50.862 DEBUG 4782 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 22:35:50.862 DEBUG 4782 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 22:35:50.863 DEBUG 4782 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyAuthority('USER','ADMIN')] for Ant [pattern='/users/**']
2021-03-23 22:35:50.863 DEBUG 4782 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 22:35:50.889  INFO 4782 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3382cf68, org.springframework.security.web.context.SecurityContextPersistenceFilter@3e906375, org.springframework.security.web.header.HeaderWriterFilter@56f730b2, org.springframework.security.web.authentication.logout.LogoutFilter@4833eff3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@346f41a9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5b7aa898, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2fd954f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f74900b, org.springframework.security.web.session.SessionManagementFilter@7930ffa9, org.springframework.security.web.access.ExceptionTranslationFilter@5583098b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6d2a2560]
2021-03-23 22:35:51.108  INFO 4782 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 22:35:51.125  INFO 4782 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 22:35:51.820  INFO 4782 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 22:35:51.832  INFO 4782 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 22:35:52.912  INFO 4782 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 22:35:53.689  INFO 4782 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 22:35:53.773  INFO 4782 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 22:35:53.775  INFO 4782 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2021-03-23 22:35:53.912  INFO 4782 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2021-03-23 22:35:53.930  INFO 4782 --- [main] com.ru.microservice.SecurityApplication  : Started SecurityApplication in 7.103 seconds (JVM running for 7.829)
2021-03-23 22:35:54.390  INFO 4782 --- [RMI TCP Connection(1)-192.168.0.16] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-03-23 22:35:54.391  INFO 4782 --- [RMI TCP Connection(1)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-03-23 22:35:54.394  INFO 4782 --- [RMI TCP Connection(1)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2021-03-23 22:35:55.896 DEBUG 4782 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /registration?
2021-03-23 22:35:55.901 DEBUG 4782 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 22:35:55.903 DEBUG 4782 --- [http-nio-8084-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 22:35:55.904 DEBUG 4782 --- [http-nio-8084-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id EA8929C940A1CA4F4DE54DDCBD189828
2021-03-23 22:35:55.909 DEBUG 4782 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /registration?] with attributes [permitAll]
2021-03-23 22:35:55.909 DEBUG 4782 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /registration?
2021-03-23 22:35:56.339 DEBUG 4782 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 22:35:56.347 DEBUG 4782 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 22:36:35.863 DEBUG 4782 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /registration
2021-03-23 22:36:35.864 DEBUG 4782 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 22:36:35.864 DEBUG 4782 --- [http-nio-8084-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 22:36:35.864 DEBUG 4782 --- [http-nio-8084-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id EA8929C940A1CA4F4DE54DDCBD189828
2021-03-23 22:36:35.865 DEBUG 4782 --- [http-nio-8084-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /registration] with attributes [permitAll]
2021-03-23 22:36:35.865 DEBUG 4782 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /registration
2021-03-23 22:36:36.116 DEBUG 4782 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 22:36:36.117 DEBUG 4782 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 22:36:36.123 ERROR 4782 --- [http-nio-8084-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.ru.microservice.controller.RootController.createNewUser(RootController.java:53) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_202]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_202]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_202]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_202]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197) ~[spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141) ~[spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.3.1.jar:5.3.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893) ~[spring-webmvc-5.3.1.jar:5.3.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807) ~[spring-webmvc-5.3.1.jar:5.3.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.1.jar:5.3.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061) ~[spring-webmvc-5.3.1.jar:5.3.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961) ~[spring-webmvc-5.3.1.jar:5.3.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.1.jar:5.3.1]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.1.jar:5.3.1]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:652) ~[tomcat-embed-core-9.0.39.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.1.jar:5.3.1]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.39.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.1.jar:5.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.1.jar:5.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93) ~[spring-boot-actuator-2.4.0.jar:2.4.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_202]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_202]

2021-03-23 22:36:36.127 DEBUG 4782 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /error
2021-03-23 22:36:36.127 DEBUG 4782 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 22:36:36.127 DEBUG 4782 --- [http-nio-8084-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 22:36:36.127 DEBUG 4782 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /error
2021-03-23 22:36:36.146 DEBUG 4782 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 22:36:36.148 DEBUG 4782 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 22:37:14.002 DEBUG 4782 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /registration?
2021-03-23 22:37:14.003 DEBUG 4782 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 22:37:14.003 DEBUG 4782 --- [http-nio-8084-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 22:37:14.003 DEBUG 4782 --- [http-nio-8084-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id EA8929C940A1CA4F4DE54DDCBD189828
2021-03-23 22:37:14.004 DEBUG 4782 --- [http-nio-8084-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /registration?] with attributes [permitAll]
2021-03-23 22:37:14.004 DEBUG 4782 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /registration?
2021-03-23 22:37:14.012 DEBUG 4782 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 22:37:14.014 DEBUG 4782 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 22:37:17.910  INFO 4782 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 22:37:17.919  INFO 4782 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 22:37:17.919  INFO 4782 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 22:37:17.965  INFO 4782 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 22:37:25.015  INFO 5064 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 5064 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 22:37:25.019 DEBUG 5064 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 22:37:25.021  INFO 5064 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 22:37:26.802  INFO 5064 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 22:37:26.879  INFO 5064 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 63 ms. Found 2 JPA repository interfaces.
2021-03-23 22:37:27.278  INFO 5064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:37:27.281  INFO 5064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:37:27.285  INFO 5064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:37:27.290  INFO 5064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:37:27.296  INFO 5064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:37:27.297  INFO 5064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:37:27.304  INFO 5064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:37:27.323  INFO 5064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:37:27.327  INFO 5064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:37:27.330  INFO 5064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:37:27.352  INFO 5064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:37:27.353  INFO 5064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:37:27.357  INFO 5064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:37:27.358  INFO 5064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:37:27.359  INFO 5064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:37:27.371  INFO 5064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:37:27.373  INFO 5064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:37:27.379  INFO 5064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:37:27.380  INFO 5064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:37:27.382  INFO 5064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:37:27.388  INFO 5064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:37:27.396  INFO 5064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:37:27.398  INFO 5064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:37:27.399  INFO 5064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:37:27.406  INFO 5064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:37:27.419  INFO 5064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:37:27.428  INFO 5064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:37:27.430  INFO 5064 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:37:27.778  INFO 5064 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 22:37:27.787  INFO 5064 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 22:37:27.787  INFO 5064 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 22:37:27.880  INFO 5064 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 22:37:27.881  INFO 5064 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2792 ms
2021-03-23 22:37:28.353  INFO 5064 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 22:37:28.395  INFO 5064 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 22:37:28.438  INFO 5064 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 22:37:28.562  INFO 5064 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 22:37:28.672  INFO 5064 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 22:37:28.712  INFO 5064 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 22:37:28.713  INFO 5064 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 22:37:28.713  INFO 5064 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 22:37:28.713  INFO 5064 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 22:37:28.713  INFO 5064 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 22:37:28.787 DEBUG 5064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 22:37:28.790 DEBUG 5064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 22:37:28.791 DEBUG 5064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 22:37:28.791 DEBUG 5064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 22:37:28.793 DEBUG 5064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyAuthority('USER','ADMIN')] for Ant [pattern='/users/**']
2021-03-23 22:37:28.794 DEBUG 5064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 22:37:28.826  INFO 5064 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4aa11206, org.springframework.security.web.context.SecurityContextPersistenceFilter@1e60b459, org.springframework.security.web.header.HeaderWriterFilter@7ce85af2, org.springframework.security.web.authentication.logout.LogoutFilter@2676dc05, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2a43e0ac, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e906375, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4e642ee1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@40d60f2, org.springframework.security.web.session.SessionManagementFilter@56f730b2, org.springframework.security.web.access.ExceptionTranslationFilter@5e5aafc6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6a916402]
2021-03-23 22:37:29.020  INFO 5064 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 22:37:29.040  INFO 5064 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 22:37:29.786  INFO 5064 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 22:37:29.797  INFO 5064 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 22:37:30.646  INFO 5064 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 22:37:31.269  INFO 5064 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 22:37:31.344  INFO 5064 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 22:37:31.346  INFO 5064 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2021-03-23 22:37:31.466  INFO 5064 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2021-03-23 22:37:31.484  INFO 5064 --- [main] com.ru.microservice.SecurityApplication  : Started SecurityApplication in 7.144 seconds (JVM running for 7.855)
2021-03-23 22:37:31.654  INFO 5064 --- [RMI TCP Connection(1)-192.168.0.16] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-03-23 22:37:31.654  INFO 5064 --- [RMI TCP Connection(1)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-03-23 22:37:31.656  INFO 5064 --- [RMI TCP Connection(1)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-03-23 22:37:35.415 DEBUG 5064 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /registration?
2021-03-23 22:37:35.419 DEBUG 5064 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 22:37:35.421 DEBUG 5064 --- [http-nio-8084-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 22:37:35.422 DEBUG 5064 --- [http-nio-8084-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id EA8929C940A1CA4F4DE54DDCBD189828
2021-03-23 22:37:35.426 DEBUG 5064 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /registration?] with attributes [permitAll]
2021-03-23 22:37:35.427 DEBUG 5064 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /registration?
2021-03-23 22:37:35.862 DEBUG 5064 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 22:37:35.869 DEBUG 5064 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 22:37:58.792 DEBUG 5064 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /registration
2021-03-23 22:37:58.793 DEBUG 5064 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 22:37:58.793 DEBUG 5064 --- [http-nio-8084-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 22:37:58.794 DEBUG 5064 --- [http-nio-8084-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id EA8929C940A1CA4F4DE54DDCBD189828
2021-03-23 22:37:58.794 DEBUG 5064 --- [http-nio-8084-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /registration] with attributes [permitAll]
2021-03-23 22:37:58.794 DEBUG 5064 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /registration
2021-03-23 22:37:59.010 DEBUG 5064 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 22:37:59.010 DEBUG 5064 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 22:37:59.018 ERROR 5064 --- [http-nio-8084-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.ru.microservice.controller.RootController.createNewUser(RootController.java:53) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_202]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_202]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_202]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_202]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197) ~[spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141) ~[spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.3.1.jar:5.3.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893) ~[spring-webmvc-5.3.1.jar:5.3.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807) ~[spring-webmvc-5.3.1.jar:5.3.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.1.jar:5.3.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061) ~[spring-webmvc-5.3.1.jar:5.3.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961) ~[spring-webmvc-5.3.1.jar:5.3.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.1.jar:5.3.1]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.1.jar:5.3.1]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:652) ~[tomcat-embed-core-9.0.39.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.1.jar:5.3.1]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.39.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.1.jar:5.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.1.jar:5.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93) ~[spring-boot-actuator-2.4.0.jar:2.4.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_202]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_202]

2021-03-23 22:37:59.023 DEBUG 5064 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /error
2021-03-23 22:37:59.024 DEBUG 5064 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 22:37:59.024 DEBUG 5064 --- [http-nio-8084-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 22:37:59.024 DEBUG 5064 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /error
2021-03-23 22:37:59.044 DEBUG 5064 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 22:37:59.046 DEBUG 5064 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 22:39:15.283 DEBUG 5064 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /registration
2021-03-23 22:39:15.284 DEBUG 5064 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 22:39:15.284 DEBUG 5064 --- [http-nio-8084-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 22:39:15.284 DEBUG 5064 --- [http-nio-8084-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id EA8929C940A1CA4F4DE54DDCBD189828
2021-03-23 22:39:15.285 DEBUG 5064 --- [http-nio-8084-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /registration] with attributes [permitAll]
2021-03-23 22:39:15.285 DEBUG 5064 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /registration
2021-03-23 22:39:15.291 DEBUG 5064 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 22:39:15.291 DEBUG 5064 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 22:39:15.293 ERROR 5064 --- [http-nio-8084-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause

java.lang.NullPointerException: null
	at com.ru.microservice.controller.RootController.createNewUser(RootController.java:53) ~[classes/:na]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_202]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_202]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_202]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_202]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197) ~[spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141) ~[spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.3.1.jar:5.3.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:893) ~[spring-webmvc-5.3.1.jar:5.3.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:807) ~[spring-webmvc-5.3.1.jar:5.3.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.1.jar:5.3.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061) ~[spring-webmvc-5.3.1.jar:5.3.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961) ~[spring-webmvc-5.3.1.jar:5.3.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.1.jar:5.3.1]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.1.jar:5.3.1]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:652) ~[tomcat-embed-core-9.0.39.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.1.jar:5.3.1]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:733) ~[tomcat-embed-core-9.0.39.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.1.jar:5.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.1.jar:5.3.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.4.1.jar:5.4.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93) ~[spring-boot-actuator-2.4.0.jar:2.4.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.1.jar:5.3.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.1.jar:5.3.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_202]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_202]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.39.jar:9.0.39]
	at java.lang.Thread.run(Thread.java:748) [na:1.8.0_202]

2021-03-23 22:39:15.294 DEBUG 5064 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /error
2021-03-23 22:39:15.295 DEBUG 5064 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 22:39:15.295 DEBUG 5064 --- [http-nio-8084-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 22:39:15.295 DEBUG 5064 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /error
2021-03-23 22:39:15.301 DEBUG 5064 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 22:39:15.302 DEBUG 5064 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 22:39:19.028 DEBUG 5064 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /
2021-03-23 22:39:19.029 DEBUG 5064 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 22:39:19.029 DEBUG 5064 --- [http-nio-8084-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 22:39:19.029 DEBUG 5064 --- [http-nio-8084-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id EA8929C940A1CA4F4DE54DDCBD189828
2021-03-23 22:39:19.030 DEBUG 5064 --- [http-nio-8084-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /] with attributes [permitAll]
2021-03-23 22:39:19.030 DEBUG 5064 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /
2021-03-23 22:39:19.035 DEBUG 5064 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 22:39:19.037 DEBUG 5064 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 22:39:21.466 DEBUG 5064 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 22:39:21.466 DEBUG 5064 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 22:39:21.466 DEBUG 5064 --- [http-nio-8084-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 22:39:21.466 DEBUG 5064 --- [http-nio-8084-exec-7] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id EA8929C940A1CA4F4DE54DDCBD189828
2021-03-23 22:39:21.467 DEBUG 5064 --- [http-nio-8084-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 22:39:21.467 DEBUG 5064 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 22:39:21.477 DEBUG 5064 --- [http-nio-8084-exec-7] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 22:39:21.478 DEBUG 5064 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 22:41:23.705  INFO 5064 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 22:41:23.708  INFO 5064 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 22:41:23.709  INFO 5064 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 22:41:23.725  INFO 5064 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 22:42:35.497  INFO 5385 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 5385 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 22:42:35.502 DEBUG 5385 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 22:42:35.503  INFO 5385 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 22:42:36.952  INFO 5385 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 22:42:37.004  INFO 5385 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 2 JPA repository interfaces.
2021-03-23 22:42:37.441  INFO 5385 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:42:37.446  INFO 5385 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:42:37.451  INFO 5385 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:42:37.457  INFO 5385 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:42:37.465  INFO 5385 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:42:37.467  INFO 5385 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:42:37.473  INFO 5385 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:42:37.494  INFO 5385 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:42:37.497  INFO 5385 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:42:37.500  INFO 5385 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:42:37.521  INFO 5385 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:42:37.522  INFO 5385 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:42:37.525  INFO 5385 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:42:37.527  INFO 5385 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:42:37.528  INFO 5385 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:42:37.537  INFO 5385 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:42:37.540  INFO 5385 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:42:37.546  INFO 5385 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:42:37.547  INFO 5385 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:42:37.548  INFO 5385 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:42:37.554  INFO 5385 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:42:37.562  INFO 5385 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:42:37.564  INFO 5385 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:42:37.565  INFO 5385 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:42:37.571  INFO 5385 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:42:37.584  INFO 5385 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:42:37.591  INFO 5385 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:42:37.593  INFO 5385 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:42:37.885  INFO 5385 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 22:42:37.894  INFO 5385 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 22:42:37.894  INFO 5385 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 22:42:37.990  INFO 5385 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 22:42:37.990  INFO 5385 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2410 ms
2021-03-23 22:42:38.445  INFO 5385 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 22:42:38.487  INFO 5385 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 22:42:38.532  INFO 5385 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 22:42:38.644  INFO 5385 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 22:42:38.744  INFO 5385 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 22:42:38.769  INFO 5385 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 22:42:38.770  INFO 5385 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 22:42:38.770  INFO 5385 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 22:42:38.770  INFO 5385 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 22:42:38.770  INFO 5385 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 22:42:38.846 DEBUG 5385 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 22:42:38.849 DEBUG 5385 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 22:42:38.849 DEBUG 5385 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 22:42:38.849 DEBUG 5385 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 22:42:38.850 DEBUG 5385 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyAuthority('USER','ADMIN')] for Ant [pattern='/users/**']
2021-03-23 22:42:38.850 DEBUG 5385 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 22:42:38.878  INFO 5385 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b8ec001, org.springframework.security.web.context.SecurityContextPersistenceFilter@254449bb, org.springframework.security.web.header.HeaderWriterFilter@41b13f3d, org.springframework.security.web.authentication.logout.LogoutFilter@77f905e3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e26173, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@29ebbdf4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5d4e13e1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1e95b653, org.springframework.security.web.session.SessionManagementFilter@2489e84a, org.springframework.security.web.access.ExceptionTranslationFilter@1e60b459, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2a43e0ac]
2021-03-23 22:42:39.174  INFO 5385 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 22:42:39.188  INFO 5385 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 22:42:39.941  INFO 5385 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 22:42:39.953  INFO 5385 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 22:42:40.810  INFO 5385 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 22:42:41.448  INFO 5385 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 22:42:41.535  INFO 5385 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 22:42:41.537  INFO 5385 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2021-03-23 22:42:41.659  INFO 5385 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2021-03-23 22:42:41.676  INFO 5385 --- [main] com.ru.microservice.SecurityApplication  : Started SecurityApplication in 6.807 seconds (JVM running for 7.519)
2021-03-23 22:42:42.049  INFO 5385 --- [RMI TCP Connection(3)-192.168.0.16] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-03-23 22:42:42.049  INFO 5385 --- [RMI TCP Connection(3)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-03-23 22:42:42.051  INFO 5385 --- [RMI TCP Connection(3)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2021-03-23 22:42:48.696 DEBUG 5385 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /
2021-03-23 22:42:48.700 DEBUG 5385 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 22:42:48.704 DEBUG 5385 --- [http-nio-8084-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 22:42:48.704 DEBUG 5385 --- [http-nio-8084-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id EA8929C940A1CA4F4DE54DDCBD189828
2021-03-23 22:42:48.709 DEBUG 5385 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /] with attributes [permitAll]
2021-03-23 22:42:48.710 DEBUG 5385 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /
2021-03-23 22:42:49.099 DEBUG 5385 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 22:42:49.105 DEBUG 5385 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 22:42:50.830 DEBUG 5385 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 22:42:50.830 DEBUG 5385 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 22:42:50.831 DEBUG 5385 --- [http-nio-8084-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 22:42:50.831 DEBUG 5385 --- [http-nio-8084-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id EA8929C940A1CA4F4DE54DDCBD189828
2021-03-23 22:42:50.832 DEBUG 5385 --- [http-nio-8084-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 22:42:50.832 DEBUG 5385 --- [http-nio-8084-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 22:42:50.851 DEBUG 5385 --- [http-nio-8084-exec-3] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 22:42:50.852 DEBUG 5385 --- [http-nio-8084-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 22:42:52.507 DEBUG 5385 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /registration?
2021-03-23 22:42:52.508 DEBUG 5385 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 22:42:52.508 DEBUG 5385 --- [http-nio-8084-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 22:42:52.508 DEBUG 5385 --- [http-nio-8084-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id EA8929C940A1CA4F4DE54DDCBD189828
2021-03-23 22:42:52.509 DEBUG 5385 --- [http-nio-8084-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /registration?] with attributes [permitAll]
2021-03-23 22:42:52.509 DEBUG 5385 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /registration?
2021-03-23 22:42:52.546 DEBUG 5385 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 22:42:52.547 DEBUG 5385 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 22:43:15.454 DEBUG 5385 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /registration
2021-03-23 22:43:15.455 DEBUG 5385 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 22:43:15.455 DEBUG 5385 --- [http-nio-8084-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 22:43:15.455 DEBUG 5385 --- [http-nio-8084-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id EA8929C940A1CA4F4DE54DDCBD189828
2021-03-23 22:43:15.456 DEBUG 5385 --- [http-nio-8084-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /registration] with attributes [permitAll]
2021-03-23 22:43:15.456 DEBUG 5385 --- [http-nio-8084-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /registration
2021-03-23 22:43:15.678 DEBUG 5385 --- [http-nio-8084-exec-6] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 22:43:15.678 DEBUG 5385 --- [http-nio-8084-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 22:43:15.686 DEBUG 5385 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 22:43:15.686 DEBUG 5385 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 22:43:15.686 DEBUG 5385 --- [http-nio-8084-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 22:43:15.687 DEBUG 5385 --- [http-nio-8084-exec-7] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id EA8929C940A1CA4F4DE54DDCBD189828
2021-03-23 22:43:15.687 DEBUG 5385 --- [http-nio-8084-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 22:43:15.687 DEBUG 5385 --- [http-nio-8084-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 22:43:15.691 DEBUG 5385 --- [http-nio-8084-exec-7] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 22:43:15.692 DEBUG 5385 --- [http-nio-8084-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 22:44:42.926  INFO 5385 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 22:44:42.928  INFO 5385 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 22:44:42.929  INFO 5385 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 22:44:42.945  INFO 5385 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2021-03-23 22:48:27.647  INFO 5926 --- [main] com.ru.microservice.SecurityApplication  : Starting SecurityApplication using Java 1.8.0_202 on xx with PID 5926 (/home/evgeniy/IdeaProjects/security-service/target/classes started by evgeniy in /home/evgeniy/IdeaProjects/security-service)
2021-03-23 22:48:27.651 DEBUG 5926 --- [main] com.ru.microservice.SecurityApplication  : Running with Spring Boot v2.4.0, Spring v5.3.1
2021-03-23 22:48:27.651  INFO 5926 --- [main] com.ru.microservice.SecurityApplication  : No active profile set, falling back to default profiles: default
2021-03-23 22:48:29.002  INFO 5926 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFERRED mode.
2021-03-23 22:48:29.061  INFO 5926 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50 ms. Found 2 JPA repository interfaces.
2021-03-23 22:48:29.524  INFO 5926 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:48:29.528  INFO 5926 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.support.PluginRegistryFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:48:29.533  INFO 5926 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'relProviderPluginRegistry' of type [org.springframework.plugin.core.OrderAwarePluginRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:48:29.539  INFO 5926 --- [main] trationDelegate$BeanPostProcessorChecker : Bean '_relProvider' of type [org.springframework.hateoas.server.core.DelegatingLinkRelationProvider] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:48:29.549  INFO 5926 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'messageResolver' of type [org.springframework.hateoas.mediatype.MessageSourceResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:48:29.551  INFO 5926 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.web.config.SpringDataJacksonConfiguration' of type [org.springframework.data.web.config.SpringDataJacksonConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:48:29.557  INFO 5926 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonGeoModule' of type [org.springframework.data.geo.GeoModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:48:29.574  INFO 5926 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestMvcAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:48:29.576  INFO 5926 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperBuilderConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:48:29.579  INFO 5926 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:48:29.599  INFO 5926 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.jackson-org.springframework.boot.autoconfigure.jackson.JacksonProperties' of type [org.springframework.boot.autoconfigure.jackson.JacksonProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:48:29.601  INFO 5926 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'standardJacksonObjectMapperBuilderCustomizer' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$Jackson2ObjectMapperBuilderCustomizerConfiguration$StandardJackson2ObjectMapperBuilderCustomizer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:48:29.604  INFO 5926 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$ParameterNamesModuleConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:48:29.605  INFO 5926 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'parameterNamesModule' of type [com.fasterxml.jackson.module.paramnames.ParameterNamesModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:48:29.607  INFO 5926 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:48:29.616  INFO 5926 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jsonComponentModule' of type [org.springframework.boot.jackson.JsonComponentModule] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:48:29.620  INFO 5926 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:48:29.627  INFO 5926 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.data.rest-org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties' of type [org.springframework.boot.autoconfigure.data.rest.RepositoryRestProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:48:29.627  INFO 5926 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'springBootRepositoryRestConfigurer' of type [org.springframework.boot.autoconfigure.data.rest.SpringBootRepositoryRestConfigurer] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:48:29.629  INFO 5926 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'configurerDelegate' of type [org.springframework.data.rest.webmvc.config.RepositoryRestConfigurerDelegate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:48:29.635  INFO 5926 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:48:29.642  INFO 5926 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'stringHttpMessageConverter' of type [org.springframework.http.converter.StringHttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:48:29.644  INFO 5926 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration' of type [org.springframework.boot.autoconfigure.http.JacksonHttpMessageConvertersConfiguration$MappingJackson2HttpMessageConverterConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:48:29.646  INFO 5926 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration' of type [org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration$JacksonObjectMapperConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:48:29.654  INFO 5926 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapperBuilder' of type [org.springframework.http.converter.json.Jackson2ObjectMapperBuilder] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:48:29.671  INFO 5926 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jacksonObjectMapper' of type [com.fasterxml.jackson.databind.ObjectMapper] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:48:29.680  INFO 5926 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mappingJackson2HttpMessageConverter' of type [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:48:29.681  INFO 5926 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration' of type [org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-03-23 22:48:29.986  INFO 5926 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8084 (http)
2021-03-23 22:48:29.995  INFO 5926 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2021-03-23 22:48:29.995  INFO 5926 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.39]
2021-03-23 22:48:30.085  INFO 5926 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2021-03-23 22:48:30.086  INFO 5926 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2362 ms
2021-03-23 22:48:30.541  INFO 5926 --- [main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2021-03-23 22:48:30.584  INFO 5926 --- [task-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2021-03-23 22:48:30.629  INFO 5926 --- [task-1] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.23.Final
2021-03-23 22:48:30.747  INFO 5926 --- [task-1] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2021-03-23 22:48:30.844  INFO 5926 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2021-03-23 22:48:30.860  INFO 5926 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/resources/**'] with []
2021-03-23 22:48:30.861  INFO 5926 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/static/**'] with []
2021-03-23 22:48:30.861  INFO 5926 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/css/**'] with []
2021-03-23 22:48:30.861  INFO 5926 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/js/**'] with []
2021-03-23 22:48:30.861  INFO 5926 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure Ant [pattern='/images/**'] with []
2021-03-23 22:48:30.931 DEBUG 5926 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2021-03-23 22:48:30.933 DEBUG 5926 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2021-03-23 22:48:30.934 DEBUG 5926 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/registration']
2021-03-23 22:48:30.934 DEBUG 5926 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAuthority('ADMIN')] for Ant [pattern='/admin/**']
2021-03-23 22:48:30.935 DEBUG 5926 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyAuthority('USER','ADMIN')] for Ant [pattern='/users/**']
2021-03-23 22:48:30.935 DEBUG 5926 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2021-03-23 22:48:30.965  INFO 5926 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d21852b, org.springframework.security.web.context.SecurityContextPersistenceFilter@2a39aa2b, org.springframework.security.web.header.HeaderWriterFilter@40230eb9, org.springframework.security.web.authentication.logout.LogoutFilter@793d163b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2f74900b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@254449bb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e9f2c32, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6cd98a05, org.springframework.security.web.session.SessionManagementFilter@41b13f3d, org.springframework.security.web.access.ExceptionTranslationFilter@47311277, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7f2d31af]
2021-03-23 22:48:31.219  INFO 5926 --- [task-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2021-03-23 22:48:31.232  INFO 5926 --- [task-1] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL95Dialect
2021-03-23 22:48:31.971  INFO 5926 --- [task-1] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-03-23 22:48:31.984  INFO 5926 --- [task-1] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 22:48:32.851  INFO 5926 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2021-03-23 22:48:33.469  INFO 5926 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2021-03-23 22:48:33.544  INFO 5926 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8084 (http) with context path ''
2021-03-23 22:48:33.546  INFO 5926 --- [main] DeferredRepositoryInitializationListener : Triggering deferred initialization of Spring Data repositories…
2021-03-23 22:48:33.676  INFO 5926 --- [main] DeferredRepositoryInitializationListener : Spring Data repositories initialized!
2021-03-23 22:48:33.694  INFO 5926 --- [main] com.ru.microservice.SecurityApplication  : Started SecurityApplication in 6.643 seconds (JVM running for 7.39)
2021-03-23 22:48:33.874  INFO 5926 --- [RMI TCP Connection(1)-192.168.0.16] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-03-23 22:48:33.875  INFO 5926 --- [RMI TCP Connection(1)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2021-03-23 22:48:33.877  INFO 5926 --- [RMI TCP Connection(1)-192.168.0.16] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2021-03-23 22:48:40.132 DEBUG 5926 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /
2021-03-23 22:48:40.137 DEBUG 5926 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 22:48:40.140 DEBUG 5926 --- [http-nio-8084-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 22:48:40.140 DEBUG 5926 --- [http-nio-8084-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id EA8929C940A1CA4F4DE54DDCBD189828
2021-03-23 22:48:40.144 DEBUG 5926 --- [http-nio-8084-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /] with attributes [permitAll]
2021-03-23 22:48:40.145 DEBUG 5926 --- [http-nio-8084-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /
2021-03-23 22:48:40.520 DEBUG 5926 --- [http-nio-8084-exec-1] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 22:48:40.527 DEBUG 5926 --- [http-nio-8084-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 22:48:42.212 DEBUG 5926 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login
2021-03-23 22:48:42.212 DEBUG 5926 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 22:48:42.213 DEBUG 5926 --- [http-nio-8084-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2021-03-23 22:48:42.213 DEBUG 5926 --- [http-nio-8084-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id EA8929C940A1CA4F4DE54DDCBD189828
2021-03-23 22:48:42.214 DEBUG 5926 --- [http-nio-8084-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /login] with attributes [permitAll]
2021-03-23 22:48:42.214 DEBUG 5926 --- [http-nio-8084-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login
2021-03-23 22:48:42.232 DEBUG 5926 --- [http-nio-8084-exec-2] w.c.HttpSessionSecurityContextRepository : Did not store anonymous SecurityContext
2021-03-23 22:48:42.234 DEBUG 5926 --- [http-nio-8084-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 22:48:53.563 DEBUG 5926 --- [http-nio-8084-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /login
2021-03-23 22:48:53.563 DEBUG 5926 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2021-03-23 22:48:54.001 DEBUG 5926 --- [http-nio-8084-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2021-03-23 22:48:54.003 DEBUG 5926 --- [http-nio-8084-exec-4] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN]]
2021-03-23 22:48:54.004 DEBUG 5926 --- [http-nio-8084-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /users/main
2021-03-23 22:48:54.012 DEBUG 5926 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Created HttpSession as SecurityContext is non-default
2021-03-23 22:48:54.013 DEBUG 5926 --- [http-nio-8084-exec-4] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@47fd12c1]
2021-03-23 22:48:54.013 DEBUG 5926 --- [http-nio-8084-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 22:48:54.023 DEBUG 5926 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /users/main
2021-03-23 22:48:54.023 DEBUG 5926 --- [http-nio-8084-exec-5] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 22:48:54.024 DEBUG 5926 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ADMIN]]]
2021-03-23 22:48:54.025 DEBUG 5926 --- [http-nio-8084-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /users/main] with attributes [hasAnyAuthority('USER','ADMIN')]
2021-03-23 22:48:54.026 DEBUG 5926 --- [http-nio-8084-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /users/main
2021-03-23 22:48:54.065 DEBUG 5926 --- [http-nio-8084-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2021-03-23 22:49:00.823  INFO 5926 --- [SpringContextShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2021-03-23 22:49:00.825  INFO 5926 --- [SpringContextShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
2021-03-23 22:49:00.826  INFO 5926 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2021-03-23 22:49:00.842  INFO 5926 --- [SpringContextShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
